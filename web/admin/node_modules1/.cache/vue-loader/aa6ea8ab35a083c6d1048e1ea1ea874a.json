{"remainingRequest":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/item/show/show_regular_item/Index.vue?vue&type=style&index=0&id=623ac476&scoped=true&lang=css&","dependencies":[{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/item/show/show_regular_item/Index.vue","mtime":1622520247389},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucGFnZV9jb250ZW50X21haW4gewogIHdpZHRoOiA4MDBweDsKICBtYXJnaW46IDAgYXV0bzsKICBoZWlnaHQ6IDUwJTsKICBvdmVyZmxvdzogdmlzaWJsZTsKfQouZWRpdG9ybWQtaHRtbC1wcmV2aWV3IHsKICB3aWR0aDogOTUlOwogIGZvbnQtc2l6ZTogMTZweDsKICBvdmVyZmxvdy15OiBoaWRkZW47Cn0KI2F0dGFjaG1lbnQgewogIGZsb2F0OiByaWdodDsKICBmb250LXNpemU6IDI1cHg7CiAgbWFyZ2luLXRvcDogLTQwcHg7CiAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGNvbG9yOiAjYWJkMWYxOwp9CiNmdWxsLXBhZ2UgewogIGZsb2F0OiByaWdodDsKICBmb250LXNpemU6IDI1cHg7CiAgbWFyZ2luLXRvcDogLTUwcHg7CiAgbWFyZ2luLXJpZ2h0OiAzMHB4OwogIGN1cnNvcjogcG9pbnRlcjsKICBjb2xvcjogI2NjYzsKfQojcGFnZV9tZF9jb250ZW50IHsKICBwYWRkaW5nOiAxMHB4IDEwcHggOTBweCAxMHB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgZm9udC1zaXplOiAxMXB0OwogIGxpbmUtaGVpZ2h0OiAxLjc7CiAgY29sb3I6ICMzMzM7Cn0KLmRvYy1jb250YWluZXIgewogIHBvc2l0aW9uOiBzdGF0aWM7CiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMXB4IDZweCAjY2NjOwogIC1tb3otYm94LXNoYWRvdzogMHB4IDFweCA2cHggI2NjYzsKICAtbXMtYm94LXNoYWRvdzogMHB4IDFweCA2cHggI2NjYzsKICAtby1ib3gtc2hhZG93OiAwcHggMXB4IDZweCAjY2NjOwogIGJveC1zaGFkb3c6IDBweCAxcHggNnB4ICNjY2M7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2Q5ZDlkOTsKICBtYXJnaW4tYm90dG9tOiAyMHB4OwogIHdpZHRoOiA4MDBweDsKICBtaW4taGVpZ2h0OiA3NTBweDsKICBtYXJnaW4tbGVmdDogYXV0bzsKICBtYXJnaW4tcmlnaHQ6IGF1dG87CiAgcGFkZGluZzogMjBweDsKfQojaGVhZGVyIHsKICBoZWlnaHQ6IDgwcHg7Cn0KI2RvYy1ib2R5IHsKICB3aWR0aDogOTUlOwogIG1hcmdpbjogMCBhdXRvOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7Cn0KLmRvYy10aXRsZS1ib3ggewogIGhlaWdodDogYXV0bzsKICB3aWR0aDogYXV0bzsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2ViZWJlYjsKICBwYWRkaW5nLWJvdHRvbTogMTBweDsKICB3aWR0aDogMTAwJTsKICBtYXJnaW46IDEwcHggYXV0bzsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KcHJlIG9sIHsKICBsaXN0LXN0eWxlOiBub25lOwp9Ci5tYXJrZG93bi1ib2R5IHByZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjdmOTsKICBib3JkZXI6IDFweCBzb2xpZCAjZTFlMWU4Owp9Ci5obGpzIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y5Owp9Ci50b29sLWJhciB7CiAgbWFyZ2luLXRvcDogLTM4cHg7Cn0KLmVkaXRvcm1kLWh0bWwtcHJldmlldywKLmVkaXRvcm1kLXByZXZpZXctY29udGFpbmVyIHsKICBwYWRkaW5nOiAwcHg7CiAgZm9udC1zaXplOiAxNHB4Owp9Ci50ZXh0IHsKICAgIGZvbnQtc2l6ZTogMTRweDsKICB9CgogIC5pdGVtIHsKICAgIG1hcmdpbi1ib3R0b206IDE4cHg7CiAgfQoKICAuY2xlYXJmaXg6YmVmb3JlLAogIC5jbGVhcmZpeDphZnRlciB7CiAgICBkaXNwbGF5OiB0YWJsZTsKICAgIGNvbnRlbnQ6ICIiOwogIH0KICAuY2xlYXJmaXg6YWZ0ZXIgewogICAgY2xlYXI6IGJvdGgKICB9CgogIC5ib3gtY2FyZCB7CiAgICB3aWR0aDogMjk1cHg7CiAgICBwb3NpdGlvbjphYnNvbHV0ZTsKICAgIGJvdHRvbTogMDsKCiAgfQogIC5lbXB0eS10aXBzIHsKICBtYXJnaW46IDUlIGF1dG87CiAgd2lkdGg6IDQwMHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBjb2xvcjogIzkwOTM5OTsKICB9CiAgLmVtcHR5LXRpcHMgLmljb24gewogIGZvbnQtc2l6ZTogMTAwcHg7CiAgbWFyZ2luLWxlZnQ6IC01MHB4OwogIH0KICAuZW1wdHktdGlwcyAudGV4dCB7CiAgdGV4dC1hbGlnbjogbGVmdDsKICB9CiAgLmVtcHR5LXRpcHMgLmxpbmtzIHsKICBsaW5lLWhlaWdodDogMmVtOwogIH0KICAuZW1wdHktdGlwcyAubGlua3MgYSB7CiAgY29sb3I6ICM5MDkzOTk7CiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7CiAgfQo="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/components/item/show/show_regular_item","sourcesContent":["<template>\n  <div class=\"hello\" v-if=\"showComp\">\n    <Header></Header>\n    <div id=\"header\"></div>\n\n    <div class=\"container doc-container\" id=\"doc-container\">\n      <div id=\"left-side\" style=\"width: 300px;\">\n        <LeftMenu\n          ref=\"leftMenu\"\n          :get_page_content=\"get_page_content\"\n          :keyword=\"keyword\"\n          :item_info=\"item_info\"\n          :search_item=\"search_item\"\n          v-if=\"item_info\"\n        ></LeftMenu>\n\n      </div>\n\n      <div id=\"right-side\">\n        <div\n          id=\"p-content\"\n          @mouseenter=\"showfullPageBtn = true\"\n          @mouseleave=\"showfullPageBtn = false\"\n        >\n          <div class=\"doc-title-box\" id=\"doc-title-box\">\n            <span id=\"doc-title-span\" class=\"dn\"></span>\n            <h2 id=\"doc-title\">{{page_title}}</h2>\n            <i\n              class=\"el-icon-full-screen\"\n              id=\"full-page\"\n              v-show=\"showfullPageBtn\"\n              @click=\"clickFullPage\"\n            ></i>\n            <i\n              class=\"el-icon-upload item\"\n              id=\"attachment\"\n              v-if=\"attachment_count\"\n              @click=\"ShowAttachment\"\n            ></i>\n\n          </div>\n          <div id=\"doc-body\">\n            <div id=\"page_md_content\" class=\"page_content_main\">\n              <Editormd v-bind:content=\"content\" v-if=\"page_id\" type=\"html\" :keyword=\"keyword\"></Editormd>\n            </div>\n          </div>\n        </div>\n\n        <OpBar\n          :page_id=\"page_id\"\n          :item_id=\"item_info.id\"\n          :item_info=\"item_info\"\n          :page_info=\"page_info\"\n           v-on:itemlangId=\"item_langId\"\n        ></OpBar>\n\n      </div>\n    </div>\n    <BackToTop></BackToTop>\n    <Toc v-if=\"page_id && showToc\"></Toc>\n\n    <!-- 附件列表 -->\n    <AttachmentList\n      callback\n      :item_id=\"page_info.itemid\"\n      :manage=\"false\"\n      :page_id=\"page_info.ID\"\n      ref=\"AttachmentList\"\n    ></AttachmentList>\n\n    <Footer></Footer>\n\n  </div>\n</template>\n\n<script>\nimport Editormd from '@/components/common/Editormd'\nimport BackToTop from '@/components/common/BackToTop'\nimport Toc from '@/components/item/show/show_regular_item/Toc'\nimport LeftMenu from '@/components/item/show/show_regular_item/LeftMenu'\nimport OpBar from '@/components/item/show/show_regular_item/OpBar'\nimport AttachmentList from '@/components/page/edit/AttachmentList'\nimport { rederPageContent } from '@/models/page'\n\nexport default {\n  props: {\n    item_info: {},\n    search_item: {},\n    keyword: {}\n  },\n  data () {\n    return {\n      content: '###正在加载...',\n      page_id: '',\n      page_title: '',\n      dialogVisible: false,\n      share_item_link: '',\n      qr_item_link: '',\n      page_info: '',\n      copyText: '',\n      attachment_count: '',\n      fullPage: false,\n      showfullPageBtn: false,\n      showToc: true,\n      showComp: true,\n      itemlangId: ''\n    }\n  },\n  components: {\n    Editormd,\n    LeftMenu,\n    OpBar,\n    BackToTop,\n    Toc,\n    AttachmentList\n  },\n  methods: {\n    item_langId (value) {\n      this.itemlangId = value\n      this.$emit('itemlangId2', this.itemlangId)\n    },\n    // 获取页面内容\n    get_page_content (page_id) {\n      if (page_id <= 0) {\n        return\n      }\n      this.adaptScreen()\n\n      var that = this\n      var url = this.DocConfig.server + '/admin/page'\n      var params = new URLSearchParams()\n      params.append('page_id', page_id)\n      that.$http.post(url, params).then(function (response) {\n        // loading.close()\n        if (response.data.status === 200) {\n          that.content = rederPageContent(response.data.data.pagecontent, that.$store.state.item_info.global_param)\n          that.$store.dispatch('changeOpenCatId', response.data.data.catid)\n          that.page_title = response.data.data.pagetitle\n          that.page_info = response.data.data\n          that.attachment_count =\n          response.data.attachment_count > 0\n            ? response.data.attachment_count\n            : ''\n          // 切换变量让它重新加载、渲染子组件\n          that.page_id = 0\n          // that.item_info.defaultpageid = page_id\n          that.$nextTick(() => {\n            that.page_id = page_id\n            // 页面回到顶部\n            document.body.scrollTop = document.documentElement.scrollTop = 0\n            document.title = that.page_title + '--Doc'\n          })\n        } else {\n          that.$alert(response.data.message)\n        }\n      })\n    },\n    // 根据屏幕宽度进行响应(应对移动设备的访问)\n    adaptToMobile () {\n      const childRef = this.$refs.leftMenu // 获取子组件\n      childRef.hide_menu()\n      this.show_page_bar = false\n      var doc_container = document.getElementById('doc-container')\n      doc_container.style.width = '95%'\n      doc_container.style.padding = '5px'\n      var header = document.getElementById('header')\n      header.style.height = '10px'\n      var docTitle = document.getElementById('doc-title-box')\n      docTitle.style.marginTop = '40px'\n      this.showToc = false\n    },\n    // 根据屏幕宽度进行响应。应对小屏幕pc设备(如笔记本)的访问\n    adaptToSmallpc () {\n      var doc_container = document.getElementById('doc-container')\n      doc_container.style.width = 'calc( 95% - 300px )'\n      doc_container.style.marginLeft = '300px'\n      doc_container.style.padding = '20px'\n      var header = document.getElementById('header')\n      header.style.height = '20px'\n      var docTitle = document.getElementById('doc-title-box')\n      docTitle.style.marginTop = '30px'\n    },\n    // 响应式\n    adaptScreen () {\n      this.$nextTick(() => {\n        // 根据屏幕宽度进行响应(应对移动设备的访问)\n        if (this.isMobile() || window.innerWidth < 1300) {\n          if (window.innerWidth < 1300 && window.innerWidth > 1100) {\n            this.adaptToSmallpc()\n          } else {\n            this.adaptToMobile()\n          }\n        }\n      })\n    },\n    onCopy () {\n      this.$message(this.$t('copy_success'))\n    },\n    ShowAttachment () {\n      const childRef = this.$refs.AttachmentList // 获取子组件\n      childRef.show()\n    },\n    clickFullPage () {\n      var $ = require('jquery')\n      // 点击放大页面。由于历史包袱，只能操作dom。这是不规范的，但是现在没时间重构整块页面\n      if (this.fullPage) {\n        // 通过v-if指令起到刷新组件的作用\n        this.showComp = false\n        this.$nextTick(() => {\n          this.showComp = true\n        })\n      } else {\n        this.adaptToMobile()\n        var page_id = this.page_id\n        this.page_id = 0\n        this.$nextTick(() => {\n          this.page_id = page_id\n          setTimeout(() => {\n            $('.editormd-html-preview').css('font-size', '16px')\n          }, 200)\n        })\n        $('#left-side').hide()\n        $('.op-bar').hide()\n      }\n      this.fullPage = !this.fullPage\n    }\n  },\n  mounted () {\n    this.adaptScreen()\n    this.set_bg_grey()\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.page_content_main {\n  width: 800px;\n  margin: 0 auto;\n  height: 50%;\n  overflow: visible;\n}\n.editormd-html-preview {\n  width: 95%;\n  font-size: 16px;\n  overflow-y: hidden;\n}\n#attachment {\n  float: right;\n  font-size: 25px;\n  margin-top: -40px;\n  margin-right: 5px;\n  cursor: pointer;\n  color: #abd1f1;\n}\n#full-page {\n  float: right;\n  font-size: 25px;\n  margin-top: -50px;\n  margin-right: 30px;\n  cursor: pointer;\n  color: #ccc;\n}\n#page_md_content {\n  padding: 10px 10px 90px 10px;\n  overflow: hidden;\n  font-size: 11pt;\n  line-height: 1.7;\n  color: #333;\n}\n.doc-container {\n  position: static;\n  -webkit-box-shadow: 0px 1px 6px #ccc;\n  -moz-box-shadow: 0px 1px 6px #ccc;\n  -ms-box-shadow: 0px 1px 6px #ccc;\n  -o-box-shadow: 0px 1px 6px #ccc;\n  box-shadow: 0px 1px 6px #ccc;\n  background-color: #fff;\n  border-bottom: 1px solid #d9d9d9;\n  margin-bottom: 20px;\n  width: 800px;\n  min-height: 750px;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 20px;\n}\n#header {\n  height: 80px;\n}\n#doc-body {\n  width: 95%;\n  margin: 0 auto;\n  background-color: #fff;\n}\n.doc-title-box {\n  height: auto;\n  width: auto;\n  border-bottom: 1px solid #ebebeb;\n  padding-bottom: 10px;\n  width: 100%;\n  margin: 10px auto;\n  text-align: center;\n}\npre ol {\n  list-style: none;\n}\n.markdown-body pre {\n  background-color: #f7f7f9;\n  border: 1px solid #e1e1e8;\n}\n.hljs {\n  background-color: #f7f7f9;\n}\n.tool-bar {\n  margin-top: -38px;\n}\n.editormd-html-preview,\n.editormd-preview-container {\n  padding: 0px;\n  font-size: 14px;\n}\n.text {\n    font-size: 14px;\n  }\n\n  .item {\n    margin-bottom: 18px;\n  }\n\n  .clearfix:before,\n  .clearfix:after {\n    display: table;\n    content: \"\";\n  }\n  .clearfix:after {\n    clear: both\n  }\n\n  .box-card {\n    width: 295px;\n    position:absolute;\n    bottom: 0;\n\n  }\n  .empty-tips {\n  margin: 5% auto;\n  width: 400px;\n  text-align: center;\n  color: #909399;\n  }\n  .empty-tips .icon {\n  font-size: 100px;\n  margin-left: -50px;\n  }\n  .empty-tips .text {\n  text-align: left;\n  }\n  .empty-tips .links {\n  line-height: 2em;\n  }\n  .empty-tips .links a {\n  color: #909399;\n  text-decoration: underline;\n  }\n</style>\n"]}]}