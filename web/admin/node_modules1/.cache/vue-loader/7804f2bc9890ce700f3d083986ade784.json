{"remainingRequest":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/common/JsonBeautify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/common/JsonBeautify.vue","mtime":1614596538579},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0pzb25CZWF1dGlmeScsCiAgcHJvcHM6IHsKICAgIGZvcm1MYWJlbFdpZHRoOiB7IHdpZHRoOiAnMTIwcHgnIH0sCiAgICBjYWxsYmFjazoge30KICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udGVudDogJycsCiAgICAgIGpzb25fdGFibGVfZGF0YTogJycsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdHJhbnNmb3JtICgpIHsKICAgICAgdmFyIGRhdGEgPSB0aGlzLmNvbnRlbnQKICAgICAgdHJ5IHsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKC8oXlxzKil8KFxzKiQpL2csICcnKQogICAgICAgIHZhciBvcDEgPSBkYXRhLnN1YnN0cigwLCAxKSA9PT0gJ1snID8gJ1snIDogJ3snCiAgICAgICAgdmFyIG9wMiA9IG9wMSA9PT0gJ1snID8gJ10nIDogJ30nCiAgICAgICAgdmFyIHRleHQgPQogICAgICAgICAgJ1xuIGBgYCBcbiAnICsKICAgICAgICAgIG9wMSArCiAgICAgICAgICAnIFxuJyArCiAgICAgICAgICB0aGlzLmR1bXAoSlNPTi5wYXJzZShkYXRhKSkgKwogICAgICAgICAgJyAnICsKICAgICAgICAgIG9wMiArCiAgICAgICAgICAnIFxuXG4gYGBgXG5cbicgLy8g5pW05L2T5Yqg5Liq5aSn5ous5Y+3CiAgICAgICAgdGhpcy5jYWxsYmFjayh0ZXh0KQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8g6Z2eanNvbuaVsOaNruebtOaOpeaYvuekugogICAgICAgIHRoaXMuY2FsbGJhY2soZGF0YSkKICAgICAgfQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UKICAgIH0sCiAgICBkdW1wIChhcnIsIGxldmVsKSB7CiAgICAgIHZhciBkdW1wZWRfdGV4dCA9ICcnCiAgICAgIGlmICghbGV2ZWwpIGxldmVsID0gMAogICAgICAvLyBUaGUgcGFkZGluZyBnaXZlbiBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaW5lLgogICAgICB2YXIgbGV2ZWxfcGFkZGluZyA9ICcnCiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGV2ZWwgKyAxOyBqKyspIGxldmVsX3BhZGRpbmcgKz0gJyAgICAgJwogICAgICBpZiAodHlwZW9mIGFyciA9PT0gJ29iamVjdCcpIHsKICAgICAgICAvLyBBcnJheS9IYXNoZXMvT2JqZWN0cwogICAgICAgIHZhciBpID0gMAogICAgICAgIGZvciAodmFyIGl0ZW0gaW4gYXJyKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBhcnJbaXRlbV0KICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIC8vIElmIGl0IGlzIGFuIGFycmF5LAogICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgZHVtcGVkX3RleHQgKz0gbGV2ZWxfcGFkZGluZyArICJcIiIgKyBpdGVtICsgIlwiIDogXHsgXG4iCiAgICAgICAgICAgIGR1bXBlZF90ZXh0ICs9IHRoaXMuZHVtcCh2YWx1ZSwgbGV2ZWwgKyAxKQogICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgZHVtcGVkX3RleHQgKz0gbGV2ZWxfcGFkZGluZyArICdcfScKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7CiAgICAgICAgICAgICAgZHVtcGVkX3RleHQgKz0gbGV2ZWxfcGFkZGluZyArICciJyArIGl0ZW0gKyAnIiA6ICcgKyB2YWx1ZQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGR1bXBlZF90ZXh0ICs9IGxldmVsX3BhZGRpbmcgKyAnIicgKyBpdGVtICsgJyIgOiAiJyArIHZhbHVlICsgJyInCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChpIDwgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYXJyKS5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgIGR1bXBlZF90ZXh0ICs9ICcsIFxuJwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZHVtcGVkX3RleHQgKz0gJyBcbicKICAgICAgICAgIH0KICAgICAgICAgIGkrKwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBTdGluZ3MvQ2hhcnMvTnVtYmVycyBldGMuCiAgICAgICAgZHVtcGVkX3RleHQgPSAnPT09PicgKyBhcnIgKyAnPD09PSgnICsgdHlwZW9mIGFyciArICcpJwogICAgICB9CiAgICAgIHJldHVybiBkdW1wZWRfdGV4dAogICAgfQogIH0KfQo="},{"version":3,"sources":["JsonBeautify.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"JsonBeautify.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n  <div>\n    <el-dialog :title=\"$t('beautify_json')\" :visible.sync=\"dialogFormVisible\">\n      <el-form>\n        <el-input\n          type=\"textarea\"\n          class=\"dialoContent\"\n          :placeholder=\"$t('beautify_json_description')\"\n          :rows=\"10\"\n          v-model=\"content\"\n        ></el-input>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">{{\n          $t(\"cancel\")\n        }}</el-button>\n        <el-button type=\"primary\" @click=\"transform\">{{\n          $t(\"confirm\")\n        }}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\n\nexport default {\n  name: 'JsonBeautify',\n  props: {\n    formLabelWidth: { width: '120px' },\n    callback: {}\n  },\n  data () {\n    return {\n      content: '',\n      json_table_data: '',\n      dialogFormVisible: false\n    }\n  },\n  methods: {\n    transform () {\n      var data = this.content\n      try {\n        data = data.replace(/(^\\s*)|(\\s*$)/g, '')\n        var op1 = data.substr(0, 1) === '[' ? '[' : '{'\n        var op2 = op1 === '[' ? ']' : '}'\n        var text =\n          '\\n ``` \\n ' +\n          op1 +\n          ' \\n' +\n          this.dump(JSON.parse(data)) +\n          ' ' +\n          op2 +\n          ' \\n\\n ```\\n\\n' // 整体加个大括号\n        this.callback(text)\n      } catch (e) {\n        // 非json数据直接显示\n        this.callback(data)\n      }\n      this.dialogFormVisible = false\n    },\n    dump (arr, level) {\n      var dumped_text = ''\n      if (!level) level = 0\n      // The padding given at the beginning of the line.\n      var level_padding = ''\n      for (var j = 0; j < level + 1; j++) level_padding += '     '\n      if (typeof arr === 'object') {\n        // Array/Hashes/Objects\n        var i = 0\n        for (var item in arr) {\n          var value = arr[item]\n          if (typeof value === 'object') {\n            // If it is an array,\n            // eslint-disable-next-line\n            dumped_text += level_padding + \"\\\"\" + item + \"\\\" : \\{ \\n\"\n            dumped_text += this.dump(value, level + 1)\n            // eslint-disable-next-line\n            dumped_text += level_padding + '\\}'\n          } else {\n            if (typeof value === 'number') {\n              dumped_text += level_padding + '\"' + item + '\" : ' + value\n            } else {\n              dumped_text += level_padding + '\"' + item + '\" : \"' + value + '\"'\n            }\n          }\n          if (i < Object.getOwnPropertyNames(arr).length - 1) {\n            dumped_text += ', \\n'\n          } else {\n            dumped_text += ' \\n'\n          }\n          i++\n        }\n      } else {\n        // Stings/Chars/Numbers etc.\n        dumped_text = '===>' + arr + '<===(' + typeof arr + ')'\n      }\n      return dumped_text\n    }\n  }\n}\n</script>\n<!-- Add 'scoped\" attribute to limit CSS to this component only -->\n<style scoped></style>\n"]}]}