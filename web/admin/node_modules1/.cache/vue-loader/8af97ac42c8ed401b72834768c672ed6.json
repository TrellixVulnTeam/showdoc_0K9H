{"remainingRequest":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/item/Index.vue?vue&type=style&index=0&id=73b24ca3&scoped=true&lang=css&","dependencies":[{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/item/Index.vue","mtime":1622954680683},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jb250YWluZXItbmFycm93IHsKICBtYXJnaW46IDAgYXV0bzsKICBtYXgtd2lkdGg6IDkzMHB4OwogIGNvbG9yOiAjZmZmOwp9Ci5tYXRlcmlhbC1pY29ucy5tZC0yMCB7CiAgZm9udC1zaXplOiAyMHB4Owp9Ci5tYXN0aGVhZCB7CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luLXRvcDogMzBweDsKICBiYWNrZ3JvdW5kOiByZ2IoNDQsIDk2LCAxMDYpOwogIGNvbG9yOiAjZmZmOwp9Ci5oZWFkZXItYnRuLWdyb3VwIHsKICBtYXJnaW4tdG9wOiAtMzhweDsKICBmb250LXNpemU6IDIwcHg7CiAgY29sb3I6ICNmZmY7Cn0KLmhlYWRlci1idG4tZ3JvdXAgYSB7CiAgbWFyZ2luLWxlZnQ6IDI1cHg7CiAgY29sb3I6ICNmZmY7Cn0KLmVsLWRyb3Bkb3duIHsKICBmb250LXNpemU6IDE4cHg7Cn0KLmVsLWRyb3Bkb3duLWxpbmssCmEgewogIGNvbG9yOiM0NDQ7Cn0KLmxvZ28tdGl0bGUgewogIG1hcmdpbi1sZWZ0OiAxMHB4Owp9Ci5jb250YWluZXItdGh1bWJuYWlscyB7CiAgbWFyZ2luLXRvcDogMzBweDsKICBtYXgtd2lkdGg6IDEwMDBweDsKfQoubXktaXRlbSB7CiAgbWFyZ2luOiA0MHB4IDVweDsKfQoudGh1bWJuYWlscyBsaSB7CiAgZmxvYXQ6IGxlZnQ7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKICBtYXJnaW4tbGVmdDogMjBweDsKfQoudGh1bWJuYWlscyBsaSBhIHsKICBjb2xvcjogIzQ0NDsKICBmb250LXdlaWdodDogYm9sZDsKICBoZWlnaHQ6IDEwMHB4OwogIHdpZHRoOiAxODBweDsKfQoudGh1bWJuYWlscyBsaSBhOmhvdmVyLAoudGh1bWJuYWlscyBsaSBhOmZvY3VzIHsKICBib3JkZXItY29sb3I6ICNmMmY1ZTk7CiAgLXdlYmtpdC1ib3gtc2hhZG93OiBub25lOwogIGJveC1zaGFkb3c6IG5vbmU7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGJhY2tncm91bmQtY29sb3I6ICNmMmY1ZTk7Cn0KLnRodW1ibmFpbCB7CiAgZGlzcGxheTogYmxvY2s7CiAgcGFkZGluZzogNHB4OwogIGxpbmUtaGVpZ2h0OiAyMHB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7CiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHg7CiAgLW1vei1ib3JkZXItcmFkaXVzOiA0cHg7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIC13ZWJraXQtYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4wNTUpOwogIC1tb3otYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4wNTUpOwogIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMDU1KTsKICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2UtaW4tb3V0OwogIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1pbi1vdXQ7CiAgLW8tdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1pbi1vdXQ7CiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1pbi1vdXQ7CiAgbGlzdC1zdHlsZTogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOwp9Ci5pdGVtLXNldHRpbmcgewogIGZsb2F0OiByaWdodDsKICBtYXJnaW4tcmlnaHQ6IDE1cHg7CiAgbWFyZ2luLXRvcDogNXB4OwogIGRpc3BsYXk6IG5vbmU7Cn0KLml0ZW0tZXhpdCB7CiAgZmxvYXQ6IHJpZ2h0OwogIG1hcmdpbi1yaWdodDogNXB4OwogIG1hcmdpbi10b3A6IDVweDsKICBkaXNwbGF5OiBub25lOwp9Ci5pdGVtLXByaXZhdGUgewogIGZsb2F0OiByaWdodDsKICBtYXJnaW4tcmlnaHQ6IDE1cHg7CiAgbWFyZ2luLXRvcDogLTIwcHg7CiAgZGlzcGxheTogbm9uZTsKICBjdXJzb3I6IGRlZmF1bHQ7Cn0KLnRodW1ibmFpbHMgbGkgYSBpIHsKICBjb2xvcjogIzc3NzsKICBmb250LXdlaWdodDogYm9sZDsKICBtYXJnaW4tbGVmdDogNXB4Owp9Ci5pdGVtLXRodW1ibmFpbDpob3ZlciAuaXRlbS1zZXR0aW5nIHsKICBkaXNwbGF5OiBibG9jazsKfQouaXRlbS10aHVtYm5haWw6aG92ZXIgLml0ZW0tZXhpdCB7CiAgZGlzcGxheTogYmxvY2s7Cn0KLml0ZW0tdGh1bWJuYWlsOmhvdmVyIC5pdGVtLXByaXZhdGUgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5zZWFyY2gtYm94LWRpdiB7CiAgd2lkdGg6IDE5MHB4OwogIG1hcmdpbi1sZWZ0OiA2MHB4Owp9Ci5zb3J0YWJsZS1jaG9zZW4gLml0ZW0tdGh1bWJuYWlsIHsKICBjb2xvcjogI2ZmZmZmZjsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOwp9Cg=="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/components/item","sourcesContent":["<template>\n  <div class=\"hello\" >\n    <Header> </Header>\n\n    <el-container class=\"container-narrow\" >\n\n      <el-row class=\"masthead\" >\n          <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n          <div class=\"logo-title\" >\n              <h2 class=\"muted\">Doc</h2>\n          </div>\n          <div class=\"header-btn-group pull-right\" style=\"display: flex; align-items: center;\">\n          <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('language')\" placement=\"top\">\n            <router-link to>\n              <i class=\"material-icons md-20\" style=\"display: flex; align-items: baseline;\" :key=\"lang?'ZH_CN':'EN_US'\" @click=\"changeLang()\" >language</i>\n            </router-link>\n          </el-tooltip>\n\n          <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('feedback')\" placement=\"top\">\n            <router-link to>\n              <i @click=\"feedback\" class=\"el-icon-phone-outline\"></i>\n            </router-link>\n          </el-tooltip>\n\n          <el-tooltip\n            class=\"item\"\n            effect=\"dark\"\n            content=\"客户端\"\n            placement=\"top\"\n          >\n            <a target=\"_blank\" href=\"\">\n              <i class=\"el-icon-mobile-phone\"></i>\n            </a>\n          </el-tooltip>\n\n          <el-tooltip\n            class=\"item\"\n            effect=\"dark\"\n            content=\"接口开发调试工具\"\n            placement=\"top\"\n          >\n            <a target=\"_blank\" href=\"\">\n              <i class=\"el-icon-connection\"></i>\n            </a>\n          </el-tooltip>\n\n          <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('team_mamage')\" placement=\"top\">\n            <router-link to=\"/team/index\">\n              <i class=\"el-icon-s-flag\"></i>\n            </router-link>\n          </el-tooltip>\n\n          <el-tooltip\n            v-if=\"isAdmin\"\n            class=\"item\"\n            effect=\"dark\"\n            :content=\"$t('background')\"\n            placement=\"top\"\n          >\n            <router-link to=\"/admin/index\">\n              <i class=\"el-icon-s-tools\"></i>\n            </router-link>\n          </el-tooltip>\n        &nbsp;&nbsp;\n          <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('more')\" placement=\"top\">\n            <el-dropdown @command=\"dropdownCallback\" trigger=\"click\">\n              <span class=\"el-dropdown-link\">\n                <i class=\"el-icon-caret-bottom el-icon--right header-btn-group\" ></i>\n              </span>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item>\n                  <router-link to=\"/user/setting\">{{$t(\"Logged\")}}:{{username}}</router-link>\n                </el-dropdown-item>\n                <el-dropdown-item>\n                  <router-link to=\"/attachment/index\">{{$t(\"my_attachment\")}}</router-link>\n                </el-dropdown-item>\n                <el-dropdown-item :command=\"logout\">{{$t(\"logout\")}}</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </el-tooltip>\n        </div>\n      </el-row>\n\n      </el-container>\n      <el-container class=\"container-narrow\">\n        <div class=\"container-thumbnails\">\n        <div class=\"search-box-div\" v-if=\"itemList.length > 9\">\n          <div class=\"search-box el-input el-input--prefix\">\n            <input\n              autocomplete=\"off\"\n              type=\"text\"\n              rows=\"2\"\n              validateevent=\"true\"\n              class=\"el-input__inner\"\n              v-model=\"keyword\"\n            />\n            <span class=\"el-input__prefix\">\n              <i class=\"el-input__icon el-icon-search\"></i>\n            </span>\n          </div>\n        </div>\n\n        <ul class=\"thumbnails\" id=\"item-list\" v-if=\"itemListByKeyword\">\n          <draggable\n            v-model=\"itemListByKeyword\"\n            tag=\"span\"\n            group=\"item\"\n            @end=\"endMove\"\n            ghostClass=\"sortable-chosen\"\n          >\n            <li\n              class=\"text-center\"\n              v-for=\"item in itemListByKeyword\"\n              v-dragging=\"{ item: item, list: itemListByKeyword, group: 'item' }\"\n              :key=\"item.itemId\"\n            >\n              <router-link\n                class=\"thumbnail item-thumbnail\"\n                :to=\"'/' +  (item.item_domain ? item.item_domain:item.ID)\"\n                title\n              >\n                <!-- 自己创建的话显示项目设置按钮 -->\n                <span\n                  class=\"item-setting\"\n                  @click.prevent=\"clickItemSetting(item.ID)\"\n                  :title=\"$t('item_setting')\"\n                  v-if=\"item.creator\"\n                >\n                  <i class=\"el-icon-setting\"></i>\n                </span>\n                <!-- 如果是加入的项目的话，这里显示退出按钮 -->\n                <span\n                  class=\"item-exit\"\n                  @click.prevent=\"clickItemExit(item.ID)\"\n                  :title=\"$t('item_exit')\"\n                  v-if=\"! item.creator\"\n                >\n                  <i class=\"el-icon-close\"></i>\n                </span>\n                <p class=\"my-item\">{{item.titlename}}</p>\n                <!-- 如果是加密项目的话，这里显示一个加密图标 -->\n                <span class=\"item-private\" v-if=\"item.is_private\">\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    :content=\"$t('private_tips')\"\n                    placement=\"right\"\n                  >\n                    <i class=\"el-icon-lock\"></i>\n                  </el-tooltip>\n                </span>\n              </router-link>\n            </li>\n          </draggable>\n          <li class=\"text-center\">\n            <router-link class=\"thumbnail item-thumbnail\" to=\"/item/add\" title>\n              <p class=\"my-item\">\n                {{$t('new_item')}}\n                <i class=\"el-icon-plus\"></i>\n              </p>\n            </router-link>\n          </li>\n        </ul>\n      </div>\n\n    </el-container>\n    <Footer> </Footer>\n\n  </div>\n</template>\n\n<style scoped>\n.container-narrow {\n  margin: 0 auto;\n  max-width: 930px;\n  color: #fff;\n}\n.material-icons.md-20 {\n  font-size: 20px;\n}\n.masthead {\n  width: 100%;\n  margin-top: 30px;\n  background: rgb(44, 96, 106);\n  color: #fff;\n}\n.header-btn-group {\n  margin-top: -38px;\n  font-size: 20px;\n  color: #fff;\n}\n.header-btn-group a {\n  margin-left: 25px;\n  color: #fff;\n}\n.el-dropdown {\n  font-size: 18px;\n}\n.el-dropdown-link,\na {\n  color:#444;\n}\n.logo-title {\n  margin-left: 10px;\n}\n.container-thumbnails {\n  margin-top: 30px;\n  max-width: 1000px;\n}\n.my-item {\n  margin: 40px 5px;\n}\n.thumbnails li {\n  float: left;\n  margin-bottom: 20px;\n  margin-left: 20px;\n}\n.thumbnails li a {\n  color: #444;\n  font-weight: bold;\n  height: 100px;\n  width: 180px;\n}\n.thumbnails li a:hover,\n.thumbnails li a:focus {\n  border-color: #f2f5e9;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  text-decoration: none;\n  background-color: #f2f5e9;\n}\n.thumbnail {\n  display: block;\n  padding: 4px;\n  line-height: 20px;\n  border: 1px solid #ddd;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.055);\n  -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.055);\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.055);\n  -webkit-transition: all 0.2s ease-in-out;\n  -moz-transition: all 0.2s ease-in-out;\n  -o-transition: all 0.2s ease-in-out;\n  transition: all 0.2s ease-in-out;\n  list-style: none;\n  background-color: #ffffff;\n}\n.item-setting {\n  float: right;\n  margin-right: 15px;\n  margin-top: 5px;\n  display: none;\n}\n.item-exit {\n  float: right;\n  margin-right: 5px;\n  margin-top: 5px;\n  display: none;\n}\n.item-private {\n  float: right;\n  margin-right: 15px;\n  margin-top: -20px;\n  display: none;\n  cursor: default;\n}\n.thumbnails li a i {\n  color: #777;\n  font-weight: bold;\n  margin-left: 5px;\n}\n.item-thumbnail:hover .item-setting {\n  display: block;\n}\n.item-thumbnail:hover .item-exit {\n  display: block;\n}\n.item-thumbnail:hover .item-private {\n  display: block;\n}\n.search-box-div {\n  width: 190px;\n  margin-left: 60px;\n}\n.sortable-chosen .item-thumbnail {\n  color: #ffffff;\n  background-color: #ffffff;\n}\n</style>\n\n<script>\nimport draggable from 'vuedraggable'\nvar $s = require('scriptjs')\nvar $ = require('jquery')\n\nexport default {\n  components: {\n    draggable\n  },\n  data () {\n    return {\n      currentDate: new Date(),\n      itemList: [],\n      isAdmin: false,\n      keyword: '',\n      lang: false,\n      username: '',\n      locale: 'ZH_CN'\n    }\n  },\n  computed: {\n    itemListByKeyword: function () {\n      if (!this.keyword) {\n        return this.itemList\n      }\n      const itemListByKeyword = []\n      for (var i = 0; i < this.itemList.length; i++) {\n        if (this.itemList[i].titlename.indexOf(this.keyword) > -1) {\n          itemListByKeyword.push(this.itemList[i])\n        }\n      }\n      return itemListByKeyword\n    }\n  },\n  methods: {\n    changeLang () {\n      // 增加传入语言\n      if (this.lang === false) {\n        this.lang = true\n        this.locale = 'EN_US'\n      } else {\n        this.lang = false\n        this.locale = 'ZH_CN'\n      }\n      this.$cookies.set('lng', this.locale === 'ZH_CN' ? this.locale : this.locale, 50)\n      // window.location.reload() // 进行刷新改变cookie里的值\n    },\n    getItemList () {\n      var that = this\n      var url = DocConfig.server + '/admin/list'\n      var params = new URLSearchParams()\n      that.$http.get(url, params).then(function (response) {\n        if (response.data.status === 200) {\n          var json = response.data.data\n          that.itemList = json\n        } else {\n          that.$alert(response.data.message)\n        }\n      })\n    },\n    feedback () {\n      if (this.lang === true) {\n        window.open('https://github.com/star7th/doc/issues')\n      } else {\n        var msg =\n          '你正在使用免费开源版doc，如有问题或者建议，请到github提issue：'\n        msg +=\n          \"<a href='https://github.com/star7th/doc/issues' target='_blank'></a><br>\"\n        msg +=\n          '如果你觉得doc好用，不妨给开源项目点一个star。良好的关注度和参与度有助于开源项目的长远发展。'\n        this.$alert(msg, {\n          dangerouslyUseHTMLString: true\n        })\n      }\n    },\n    itemTopClass (top) {\n      if (top) {\n        return 'el-icon-arrow-down'\n      };\n      return 'el-icon-arrow-up'\n    },\n    bindItemEven () {\n      // 这里偷个懒，直接用jquery来操作DOM。因为老版本的代码就是基于jquery的，所以复制过来稍微改下\n      $s(['static/jquery.min.js'], () => {\n      // 当鼠标放在项目上时将浮现设置和置顶图标\n        $('.item-thumbnail').mouseover(function () {\n          $(this).find('.item-setting').show()\n          // $(this).find('.item-top').show()\n          // $(this).find('.item-down').show()\n        })\n        // 当鼠标离开项目上时将隐藏设置和置顶图标\n        $('.item-thumbnail').mouseout(function () {\n          $(this).find('.item-setting').hide()\n          $(this).find('.item-top').hide()\n          $(this).find('.item-down').hide()\n        })\n      })\n    },\n    // 进入项目设置页\n    clickItemSetting (itemId) {\n      this.$router.push({ path: '/item/setting/' + itemId })\n    },\n    clickItemTop (itemId, oldTop) {\n      if (oldTop) {\n        var action = 'cancel'\n      } else {\n        action = 'top'\n      }\n      var that = this\n      var url = DocConfig.server + '/item/top'\n      var params = new URLSearchParams()\n      params.append('action', action)\n      params.append('item_id', itemId)\n      that.$http.post(url, params)\n        .then(function (response) {\n          if (response.data.status === 200) {\n            that.getItemList()\n          } else {\n            that.$alert(response.data)\n          }\n        })\n    },\n    clickItemExit (itemId) {\n      var that = this\n      this.$confirm(that.$t('confirm_exit_item'), ' ', {\n        confirmButtonText: that.$t('confirm'),\n        cancelButtonText: that.$t('cancel'),\n        type: 'warning'\n      }).then(() => {\n        var url = DocConfig.server + '/item/exitItem'\n        var params = new URLSearchParams()\n        var keys = document.cookies.match(/[^ =;]+(?=)/g)\n        if (keys) {\n          for (var i = keys.length; i--;) {\n            document.cookie = keys[i] + '=0;expires=' + new Date(0).toUTCString()\n          }\n        }\n        params.append('item_id', itemId)\n        that.$http.post(url, params).then(function (response) {\n          if (response.data.status === 200) {\n            window.location.reload()\n          } else {\n            that.$alert(response.data.message)\n          }\n        })\n      })\n    },\n    async logout () {\n      var url = DocConfig.server + '/exit'\n      const { data: res } = await this.$http.get(url)\n      window.sessionStorage.clear()\n      this.$router.push('/')\n      if (res.status === 200) return this.$message.success('成功退出')\n    },\n    user_info () {\n      var that = this\n      this.get_user_info(function (response) {\n        if (response.data.status === 200) {\n          if (response.data.data.role === 1) {\n            that.isAdmin = true\n          }\n        }\n      })\n    },\n    sort_item (data) {\n      var that = this\n      var url = DocConfig.server + '/item/sort'\n      var params = new URLSearchParams()\n      params.append('data', JSON.stringify(data))\n      that.$http.post(url, params).then(function (response) {\n        if (response.data.status === 200) {\n          // window.location.reload();\n        } else {\n          that.$alert(response.data.message, '', {\n            callback: function () {\n              window.location.reload()\n            }\n          })\n        }\n      })\n    },\n    exchangeArray (data, oldIndex, newIndex) {\n      const tmp = data[oldIndex]\n      data.splice(oldIndex, 1)\n      data.splice(newIndex, 0, tmp)\n      return data\n    },\n    endMove (evt) {\n      const data = {}\n      const list = this.exchangeArray(\n        this.itemList,\n        evt.oldIndex,\n        evt.newIndex\n      )\n      this.itemList = []\n      this.$nextTick(() => {\n        this.itemList = list\n      })\n      for (var i = 0; i < list.length; i++) {\n        const key = list[i].ID\n        data[key] = i + 1\n      }\n      this.sort_item(data)\n    },\n    dropdownCallback (data) {\n      if (data) {\n        data()\n      }\n    }\n  },\n  mounted () {\n    this.getItemList()\n    this.user_info()\n    this.get_user_info(response => {\n      if (response.data.status === 200) {\n        this.username = response.data.data.username\n      }\n    })\n    if (this.$cookies.get('lng') === 'EN_US') {\n      this.locale = 'EN_US'\n      this.lang = true\n    } else {\n      this.locale = 'ZH_CN'\n      this.lang = false\n    }\n    this.$cookies.set('lng', this.locale === 'ZH_CN' ? this.locale : this.locale, '30d')\n  },\n  watch: {\n    locale (val) {\n      this.$i18n.locale = val\n      console.log('locale', val)\n    }\n  },\n  beforeDestroy () {\n    this.$message.closeAll()\n    // 去掉添加的背景色*/\n    document.body.removeAttribute('class', 'grey-bg')\n  }\n}\n</script>\n"]}]}