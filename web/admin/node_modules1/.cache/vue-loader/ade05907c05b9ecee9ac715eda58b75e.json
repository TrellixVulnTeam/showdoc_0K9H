{"remainingRequest":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/item/show/show_regular_item/OpBar.vue?vue&type=style&index=0&id=634772f9&scoped=true&lang=css&","dependencies":[{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/item/show/show_regular_item/OpBar.vue","mtime":1629698977052},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm9wLWJhciB7CiAgY29sb3I6ICMzMzM7CiAgcG9zaXRpb246IGZpeGVkOwogIHRvcDogMTAwcHg7CiAgbWFyZ2luLWxlZnQ6IDg0MHB4OwogIG1heC13aWR0aDogMjUwcHg7CiAgei1pbmRleDogOTk4Owp9Ci5vcC1iYXIgaSB7CiAgY3Vyc29yOiBwb2ludGVyOwogIGZvbnQtc2l6ZTogMTZweDsKICBtYXJnaW4tcmlnaHQ6IDU1cHg7CiAgbWFyZ2luLWJvdHRvbTogMzBweDsKfQouaWNvbi1mb2xkZXIgewogIHdpZHRoOiAxNXB4OwogIGhlaWdodDogMTJweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgbWFyZ2luLXJpZ2h0OiA1NXB4Owp9CmEgewogIGNvbG9yOiAjMzMzOwp9CiNoZWFkZXItcmlnaHQtYnRuIHsKICBmb250LXNpemU6IDIwcHg7CiAgdG9wOiAxNXB4OwogIHJpZ2h0OiA1JTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgcG9zaXRpb246IGZpeGVkOwp9Ci5lbC1kcm9wZG93bi1saW5rIHsKICBjb2xvcjogIzAwMDsKICBmb250LXNpemU6IDE4cHg7CiAgZm9udC13ZWlnaHQ6IGJvbGRlcjsKfQouZWwtaWNvbi1kb2N1bWVudC1jb3B5IHsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLmljb24gewogIHdpZHRoOiAxLjllbTsKICBoZWlnaHQ6IDEuOWVtOwogIHZlcnRpY2FsLWFsaWduOiAtMC4xNWVtOwogIGZpbGw6IGN1cnJlbnRDb2xvcjsKICBvdmVyZmxvdzogaGlkZGVuOwogIHBhZGRpbmctdG9wOiA1cHg7Cn0KLmVsLXNlbGVjdC1sYW5newogICAgYm9yZGVyOiBub25lOwogICAgYm9yZGVyLXJhZGl1czogMHB4Owp9Ci5pY29ucyB7CiAgd2lkdGg6IDVlbTsKICBoZWlnaHQ6IDVlbTsKICB2ZXJ0aWNhbC1hbGlnbjogLTAuMTVlbTsKICBmaWxsOiBjdXJyZW50Q29sb3I7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQo="},{"version":3,"sources":["OpBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OpBar.vue","sourceRoot":"src/components/item/show/show_regular_item","sourcesContent":["<template>\n  <div class=\"hello\">\n    <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n    <div v-if=\"show_menu_btn\" id=\"header-right-btn\">\n      <el-dropdown trigger=\"click\" @command=\"handleCommand\">\n        <span class=\"el-dropdown-link\">\n          <i class=\"el-icon-caret-bottom el-icon--right\"></i>\n        </span>\n        <el-dropdown-menu slot=\"dropdown\">\n          <el-dropdown-item command=\"goback\">{{$t('goback')}}</el-dropdown-item>\n          <el-dropdown-item command=\"share\">{{$t('share')}}</el-dropdown-item>\n          <el-dropdown-item v-if=\"item_info.itempermn\" command=\"new_page\">{{$t('new_page')}}</el-dropdown-item>\n          <el-dropdown-item v-if=\"item_info.itempermn\" command=\"new_catalog\">{{$t('new_catalog')}}</el-dropdown-item>\n          <el-dropdown-item v-if=\"item_info.itempermn\" command=\"edit_page\">{{$t('edit_page')}}</el-dropdown-item>\n          <el-dropdown-item v-if=\"item_info.itempermn\" command=\"copy\">{{$t('copy')}}</el-dropdown-item>\n          <el-dropdown-item\n            v-if=\"item_info.itempermn\"\n            command=\"ShowHistoryVersion\"\n          >{{$t('history_version')}}</el-dropdown-item>\n          <el-dropdown-item v-if=\"item_info.itempermn\" command=\"export\">{{$t('export')}}</el-dropdown-item>\n          <el-dropdown-item\n            v-if=\"item_info.itempermn\"\n            command=\"delete_page\"\n          >{{$t('delete_interface')}}</el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n    <div class=\"op-bar\" v-if=\"show_op_bar\">\n      <span v-if=\"item_info.is_login\">\n        <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('goback')\" placement=\"left\">\n          <router-link to=\"/item/index\">\n            <i class=\"el-icon-back\"></i>\n          </router-link>\n        </el-tooltip>\n\n        <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('share')\" placement=\"top\">\n          <i class=\"el-icon-share\" @click=\"share_page\"></i>\n        </el-tooltip>\n        <el-tooltip\n          v-if=\"! item_info.itempermn\"\n          class=\"item\"\n          effect=\"dark\"\n          :content=\"$t('detail')\"\n          placement=\"top\"\n        >\n          <i class=\"el-icon-info\" @click=\"show_page_info\"></i>\n        </el-tooltip>\n      </span>\n\n      <span v-if=\"item_info.itempermn\">\n        <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('new_page')\" placement=\"top\">\n          <i class=\"el-icon-plus\" @click=\"new_page\"></i>\n        </el-tooltip>\n        <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('new_catalog')\" placement=\"left\">\n          <i class=\"el-icon-folder\" @click=\"mamage_catalog\"></i>\n        </el-tooltip>\n        <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('edit_page')\" placement=\"top\">\n          <i class=\"el-icon-edit\" @click=\"edit_page\"></i>\n        </el-tooltip>\n        <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('language')\" placement=\"top\" v-if=\"link !== '/0'\">\n            <router-link :to=\"link\" title :key=\"$route.params.ID\" v-on:click.native=\"$router.go(0)\">\n              <i class=\"material-icons md-20\" :key=\"lang? 'ZH_CN':'EN_US'\" @click=\"changeLang()\">language</i>\n            </router-link>\n          </el-tooltip>\n\n        <el-tooltip\n          v-show=\"!showMore\"\n          class=\"item\"\n          effect=\"dark\"\n          :content=\"$t('more')\"\n          placement=\"top\"\n        >\n          <i class=\"el-icon-caret-top\" @click=\"showMoreAction\"></i>\n        </el-tooltip>\n        <el-tooltip\n          v-show=\"showMore\"\n          class=\"item\"\n          effect=\"dark\"\n          :content=\"$t('more')\"\n          placement=\"top\"\n        >\n          <i class=\"el-icon-caret-bottom\" @click=\"hideMoreAction\"></i>\n        </el-tooltip>\n\n        <span v-show=\"showMore\">\n          <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('copy')\" placement=\"left\">\n            <router-link :to=\"'/page/edit/'+item_id+'/0?copy_page_id='+page_id\">\n              <i class=\"el-icon-document\"></i>\n            </router-link>\n          </el-tooltip>\n          <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('history_version')\" placement=\"top\">\n            <i class=\"el-icon-goods\" @click=\"ShowHistoryVersion\"></i>\n          </el-tooltip>\n          <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('detail')\" placement=\"top\">\n            <i class=\"el-icon-info\" @click=\"show_page_info\"></i>\n          </el-tooltip>\n          <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('export')\" placement=\"left\">\n            <router-link :to=\"'/item/export/'+item_info.id\" v-if=\"item_info.itempermn\">\n              <i class=\"el-icon-download\"></i>\n            </router-link>\n          </el-tooltip>\n          <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('delete_interface')\" placement=\"top\">\n            <i class=\"el-icon-delete\" @click=\"delete_page\"></i>\n          </el-tooltip>\n\n          <span v-if=\"item_info.itemcreator\">\n            <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('item_setting')\" placement=\"top\">\n              <router-link :to=\"'/item/setting/'+item_info.id\" v-if=\"item_info.itemcreator\">\n                <i class=\"el-icon-setting\"></i>\n              </router-link>\n            </el-tooltip>\n          </span>\n        </span>\n      </span>\n    </div>\n\n    <el-dialog\n      :title=\"$t('share_page')\"\n      :visible.sync=\"dialogVisible\"\n      width=\"600px\"\n      :close-on-click-modal=\"false\"\n    >\n      <p>\n        {{$t('item_page_address')}} :\n        <code>{{share_page_link}}</code>\n        <i\n          class=\"el-icon-document-copy\"\n          v-clipboard:copy=\"share_page_link\"\n          v-clipboard:success=\"onCopy\"\n        ></i>\n      </p>\n      <p v-if=\"false\" style=\"border-bottom: 1px solid #eee;\">\n        <img id=\"qr-page-link\" style=\"width:114px;height:114px;\" :src=\"qr_page_link\" />\n      </p>\n\n      <div v-show=\"item_info.itempermn\">\n        <el-checkbox\n          v-model=\"isCreateSiglePage\"\n          @change=\"checkCreateSiglePage\"\n        >{{$t('create_sigle_page')}}</el-checkbox>\n\n        <p v-if=\"isCreateSiglePage\">\n          {{$t('single_page_address')}} :\n          <code>{{share_single_link}}</code>\n          <i\n            class=\"el-icon-document-copy\"\n            v-clipboard:copy=\"share_single_link\"\n            v-clipboard:success=\"onCopy\"\n          ></i>\n        </p>\n        <p></p>\n        <p>{{$t('create_sigle_page_tips')}}</p>\n      </div>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">{{$t('confirm')}}</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 历史版本 -->\n    <HistoryVersion\n      :page_id=\"page_id\"\n      :is_show_recover_btn=\"false\"\n      :is_modal=\"false\"\n      callback=\"insertValue\"\n      ref=\"HistoryVersion\"\n    ></HistoryVersion>\n  </div>\n</template>\n\n<style scoped>\n.op-bar {\n  color: #333;\n  position: fixed;\n  top: 100px;\n  margin-left: 840px;\n  max-width: 250px;\n  z-index: 998;\n}\n.op-bar i {\n  cursor: pointer;\n  font-size: 16px;\n  margin-right: 55px;\n  margin-bottom: 30px;\n}\n.icon-folder {\n  width: 15px;\n  height: 12px;\n  cursor: pointer;\n  margin-right: 55px;\n}\na {\n  color: #333;\n}\n#header-right-btn {\n  font-size: 20px;\n  top: 15px;\n  right: 5%;\n  cursor: pointer;\n  position: fixed;\n}\n.el-dropdown-link {\n  color: #000;\n  font-size: 18px;\n  font-weight: bolder;\n}\n.el-icon-document-copy {\n  cursor: pointer;\n}\n.icon {\n  width: 1.9em;\n  height: 1.9em;\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n  padding-top: 5px;\n}\n.el-select-lang{\n    border: none;\n    border-radius: 0px;\n}\n.icons {\n  width: 5em;\n  height: 5em;\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n}\n</style>\n\n<script>\nimport HistoryVersion from '@/components/page/edit/HistoryVersion'\nimport '../../../../../static/fonts/iconfont.js'\nexport default {\n  props: {\n    item_id: {},\n    item_domain: {},\n    page_id: {},\n    item_info: {},\n    page_info: []\n\n  },\n  data () {\n    return {\n      menu: [],\n      dialogVisible: false,\n      qr_page_link: '#',\n      qr_single_link: '#',\n      share_page_link: '',\n      share_single_link: '',\n      copyText1: '',\n      copyText2: '',\n      isCreateSiglePage: false,\n      showMore: false,\n      lang: '',\n      show_menu_btn: false,\n      show_op_bar: true,\n      link: {},\n      langs: [],\n      locale: '',\n      selected: '',\n      itemlang: [],\n      icon: '',\n      value: {},\n      lang_array:[]\n    }\n  },\n  components: {\n    HistoryVersion\n  },\n  computed:{\n    belong_to_lang: function () {\n      var that = this\n      if (that.item_info.lang_list === undefined){\n              return []\n            }\n            var langInfo =that.item_info.lang_list.split(',')\n            var lang_array = []\n\n            if (that.langs.length > 0){\n              for (var k=0; k < langInfo.length; k++){\n                if (langInfo[k] === \"\"){\n                  return that.langs\n                }\n              for (var j=0; j < that.langs.length; j++){\n                if (that.langs[j].id === parseInt(langInfo[k])){\n                  lang_array.push({\n                    id: that.langs[j].id,\n                    name: that.langs[j].name,\n                    icon: that.langs[j].icon\n                  })\n                }\n              }\n              }\n            }\n            return lang_array\n\n    }\n  },\n  methods: {\n    changeLang () {\n      // 增加传入语言\n      if (this.lang === false) {\n        this.lang = true\n        this.locale = 'EN_US'\n      } else {\n        this.lang = false\n        this.locale = 'ZH_CN'\n      }\n    },\n    get_lang () {\n      var that = this\n      var url = DocConfig.server + '/lang'\n      var params = new URLSearchParams()\n      that.$http.get(url, params)\n        .then(function (response) {\n          if (response.data.status === 200) {\n            that.langs = response.data.data\n          }\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n    },\n\n    LangChange (value) {\n      this.$emit('itemlangId', value.id)\n      this.selected = value\n      // if (this.$cookies.get('selected') === null) {\n        this.$cookies.set('selected', value.icon)\n      // }\n      if (value.name === 'English' || value.icon === '#icon-world-flag_-GBR--UnitedKingdom') {\n        this.locale = 'EN_US'\n        this.lang = true\n        // this.$cookies.set('lng', this.locale === 'EN_US' ? this.locale : this.locale, '1d')\n      } else {\n        this.lang = false\n        this.locale = 'ZH_CN'\n        // this.$cookies.set('lng', this.locale === 'ZH_CN' ? this.locale : this.locale, '30d')\n      }\n\n    },\n    edit_page () {\n      var page_id = this.page_id > 0 ? this.page_id : 0\n      var url = '/page/edit/' + this.item_id + '/' + page_id\n      this.$router.push({ path: url })\n    },\n    share_page () {\n      var page_id = this.page_id > 0 ? this.page_id : 0\n      const path = this.item_domain ? this.item_domain : this.item_id\n      this.share_page_link =\n        this.getRootPath() + '#/' + path + '?page_id=' + page_id\n      // this.share_single_link= this.getRootPath()+\"/page/\"+page_id ;\n      this.qr_page_link =\n        DocConfig.server +\n        '/api/common/qrcode&size=3&url=' +\n        encodeURIComponent(this.share_page_link)\n      // this.qr_single_link = DocConfig.server +'/api/common/qrcode&size=3&url='+encodeURIComponent(this.share_single_link);\n      this.dialogVisible = true\n      this.copyText1 =\n        this.item_info.item_name +\n        ' - ' +\n        this.page_info.pagetitle +\n        '\\r\\n' +\n        this.share_page_link\n      this.copyText2 =\n        this.page_info.pagetitle + '\\r\\n' + this.share_single_link\n    },\n    dropdown_callback (data) {\n      if (data) {\n        data()\n      }\n    },\n    show_page_info () {\n      var html =\n        '本页面由 ' +\n        this.page_info.authorName +\n        ' 于 ' +\n        this.page_info.CreatedAt +\n        ' 更新'\n      this.$alert(html)\n    },\n    // 展示历史版本\n    ShowHistoryVersion () {\n      const childRef = this.$refs.HistoryVersion // 获取子组件\n      childRef.show()\n    },\n    delete_page () {\n      var page_id = this.page_id > 0 ? this.page_id : 0\n      var that = this\n      var url = DocConfig.server + '/page/delete'\n      this.$confirm(that.$t('comfirm_delete'), ' ', {\n        confirmButtonText: that.$t('confirm'),\n        cancelButtonText: that.$t('cancel'),\n        type: 'warning'\n      }).then(() => {\n        var params = new URLSearchParams()\n        params.append('page_id', page_id)\n        that.$http.post(url, params).then(function (response) {\n          if (response.data.status === 200) {\n            window.location.reload()\n          } else {\n            that.$alert(response.data.message)\n          }\n        })\n      })\n    },\n    onCopy () {\n      this.$message(this.$t('copy_success'))\n    },\n    checkCreateSiglePage (newvalue) {\n      if (newvalue) {\n        this.CreateSiglePage()\n      } else {\n        this.$confirm(this.$t('cancelSingle'), ' ', {\n          confirmButtonText: this.$t('cancelSingleYes'),\n          cancelButtonText: this.$t('cancelSingleNo'),\n          type: 'warning'\n        }).then(() => {\n          this.CreateSiglePage()\n        }, () => {\n          this.isCreateSiglePage = true\n        })\n      }\n    },\n    CreateSiglePage () {\n      var page_id = this.page_id > 0 ? this.page_id : 0\n      var that = this\n      var url = DocConfig.server + '/page/createSinglePage'\n      var params = new URLSearchParams()\n      params.append('page_id', page_id)\n      params.append('isCreateSiglePage', this.isCreateSiglePage)\n      that.axios.post(url, params).then(function (response) {\n        if (response.data.error_code === 0) {\n          var unique_key = response.data.data.unique_key\n          if (unique_key) {\n            that.share_single_link = that.getRootPath() + '#/p/' + unique_key\n          } else {\n            that.share_single_link = ''\n          }\n        } else {\n          that.$alert(response.data.message)\n        }\n      })\n    },\n    new_page () {\n      var url = '/page/edit/' + this.item_info.id + '/0'\n      this.$router.push({ path: url })\n    },\n    mamage_catalog () {\n      var url = '/catalog/' + this.item_info.id\n      this.$router.push({ path: url })\n    },\n    showMoreAction () {\n      this.showMore = true\n      var element = document\n        .getElementById('page_md_content')\n        .getElementsByClassName('open-list')\n      element[0].style.top = '330px'\n    },\n    hideMoreAction () {\n      this.showMore = false\n      var element = document\n        .getElementById('page_md_content')\n        .getElementsByClassName('open-list')\n      element[0].style.top = '230px'\n    },\n    handleCommand (command) {\n      switch (command) {\n        case 'goback':\n          this.$router.push({ path: '/item/index' })\n          break\n        case 'share':\n          this.share_page()\n          break\n        case 'new_page':\n          this.new_page()\n          break\n        case 'new_catalog':\n          this.mamage_catalog()\n          break\n        case 'edit_page':\n          this.edit_page()\n          break\n        case 'ShowHistoryVersion':\n          this.ShowHistoryVersion()\n          break\n        case 'copy':\n          this.$router.push({\n            path:\n              '/page/edit/' +\n              this.item_info.item_id +\n              '/0?copy_page_id=' +\n              this.page_id\n          })\n          break\n        case 'export':\n          this.$router.push({ path: '/item/export/' + this.item_info.item_id })\n          break\n        case 'delete_page':\n          this.delete_page()\n          break\n      }\n    },\n    get_item_info () {\n      var that = this\n      var url = DocConfig.server + '/item/detail'\n      var params = new URLSearchParams()\n      params.append('item_id', that.$route.params.item_id)\n      that.$http\n        .post(url, params)\n        .then(function (response) {\n          if (response.data.status === 200) {\n            var Info = response.data.data\n            if (Info.password) {\n              that.isOpenItem = false\n            }\n            if (Info.lang === 1) {\n              Info.lang = false\n            } else if (Info.lang === 2) {\n              Info.lang = true\n            }\n            that.MyForm = Info\n            that.link = '/' + that.MyForm.link\n            that.lang = that.MyForm.lang\n          } else {\n            that.$alert(response.data.message)\n          }\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n    },\n    loadConfig () {\n      var item_id = this.$route.params.item_id ? this.$route.params.item_id : 0\n      var that = this\n      var url = DocConfig.server + '/adminSetting/loadLangConfig'\n      var params = new URLSearchParams()\n      params.append('id', item_id)\n      that.$http.post(url, params).then(function (response) {\n        if (response.data.status === 200) {\n          if (response.data.data.id === 0) {\n            return\n          }\n          that.selected = '<use xlink:href=\"' + response.data.data.icon + '\"></use>'\n          that.$cookies.set('selected', that.selected)\n          that.value = response.data.data\n          that.value.icon = '<use xlink:href=\"' + response.data.data.icon + '\"></use>'\n\n          if (response.data.access === 1) {\n            // defaultlang 是全局语言\n            localStorage.setItem('defaultlang', that.value.id)\n            that.LangChange(that.value)\n          }\n        } else {\n          that.$alert(response.data.message)\n        }\n      })\n    },\n    publicloadConfig (value) {\n      var that = this\n      var url = DocConfig.server + '/public/lang'\n      var params = new URLSearchParams()\n      params.append('lang', value)\n      that.$http.post(url, params).then(function (response) {\n        if (response.data.status === 200) {\n          if (response.data.data.id === 0) {\n            return\n          }\n          that.value = response.data.data\n          that.value.icon = '<use xlink:href=\"' + response.data.data.icon + '\"></use>'\n          if (response.data.access === 1) {\n             that.LangChange(that.value)\n             this.selected = '<use xlink:href=\"' + response.data.data.icon + '\"></use>'\n             this.$cookies.set('selected', that.selected)\n          }\n        } else {\n          this.$alert(response.data.message)\n        }\n      })\n    },\n    get_lang1 (value) {\n      var that = this\n      var url = DocConfig.server + '/lang/info'\n      var params = new URLSearchParams()\n      params.append('icon', value)\n      that.$http.post(url, params).then(function (response) {\n        if (response.data.status === 200) {\n          if (response.data.data.id === 0) {\n            return\n          }\n          that.selected = '<use xlink:href=\"' + response.data.data.icon + '\"></use>'\n          that.$cookies.set('selected', that.selected)\n          that.value = response.data.data\n          that.value.icon = '<use xlink:href=\"' + response.data.data.icon + '\"></use>'\n        } else {\n          that.$alert(response.data.message)\n        }\n      })\n    },\n  },\n\n  created(){},\n  mounted () {\n    var that = this\n    this.get_item_info()\n    //this.get_lang()\n    if (this.$cookies.get('lng') === null ) {\n      this.locale = DocConfig.lang\n    this.$cookies.set('lng', this.locale === 'EN_US' ? this.locale : this.locale, '1d')\n    }\n    if (this.page_info.unique_key) {\n      this.isCreateSiglePage = true\n      this.share_single_link =\n        this.getRootPath() + '#/p/' + this.page_info.unique_key\n    }\n    if (this.$cookies.get('lng') === 'EN_US') {\n      this.locale = 'EN_US'\n      this.lang = true\n    } else {\n      this.locale = 'ZH_CN'\n      this.lang = false\n    }\n    this.lang = this.$cookies.get('lng', this.locale === 'ZH_CN' ? this.locale : this.locale, 50)\n    document.onkeydown = function (e) {\n      // 对整个页面文档监听 其键盘快捷键\n      var keyNum = window.event ? e.keyCode : e.which // 获取被按下的键值\n      if (keyNum === 69 && e.ctrlKey) {\n        // Ctrl +e 为编辑\n        that.edit_page()\n        e.preventDefault()\n      }\n    }\n    if\n    (\n      this.isMobile() ||\n      (window.innerWidth < 1300 && !this.item_info.is_login)\n    ) {\n      this.show_menu_btn = false\n      this.show_op_bar = false\n    }\n    if\n    (\n      this.isMobile() ||\n      (window.innerWidth < 1300 && this.item_info.is_login)\n    ) {\n      this.show_menu_btn = true\n      this.show_op_bar = false\n    }\n  },\n  watch: {\n    page_info: function () {\n      if (this.page_info.unique_key) {\n        this.isCreateSiglePage = true\n        this.share_single_link =\n          this.getRootPath() + '#/p/' + this.page_info.unique_key\n      } else {\n        this.isCreateSiglePage = false\n        this.share_single_link = ''\n      }\n    },\n    locale (val) {\n      this.$i18n.locale = val\n    }\n  },\n  destroyed () {\n    document.onkeydown = undefined\n\n  }\n}\n</script>\n"]}]}