{"remainingRequest":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/catalog/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/catalog/Index.vue","mtime":1626233296374},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTb3J0UGFnZSBmcm9tICdAL2NvbXBvbmVudHMvcGFnZS9lZGl0L1NvcnRQYWdlJwppbXBvcnQgQ29weSBmcm9tICcuL0NvcHknCmltcG9ydCBkcmFnZ2FibGUgZnJvbSAndnVlZHJhZ2dhYmxlJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnRzOiB7CiAgICBTb3J0UGFnZSwKICAgIENvcHksCiAgICBkcmFnZ2FibGUKICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgTXlGb3JtOiB7CiAgICAgICAgY2F0X2lkOiAwLAogICAgICAgIHBhcmVudF9jYXRfaWQ6ICcnLAogICAgICAgIGNpZDogJycsCiAgICAgICAgY2F0X25hbWU6ICcnLAogICAgICAgIHNfbnVtYmVyOiAnJywKICAgICAgfSwKICAgICAgbGFuZzogW10sCiAgICAgIGNhdGFsb2dzOiBbXSwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBjb3B5Rm9ybVZpc2libGU6IGZhbHNlLAogICAgICB0cmVlRGF0YTogW10sCiAgICAgIGJ0bmVkaXQ6IGZhbHNlLAogICAgICBkZWZhdWx0UHJvcHM6IHsKICAgICAgICBjaGlsZHJlbjogJ2NoaWxkcmVuJywKICAgICAgICBsYWJlbDogJ2xhYmVsJwogICAgICB9LAogICAgICBhY3RpdmVOYW1lOiAnZmlyc3QnLAogICAgICBpdGVtX2lkOiAnJywKICAgICAgY3VybF9jYXRfaWQ6ICcnLAogICAgICBwYWdlczogW10sCiAgICAgIHBhZ2VzMjogW10sCiAgICAgIGlkOiAnJywKICAgICAgbGFuZ2lkOiAnJywKICAgICAgZHJhZzogZmFsc2UsCiAgICAgIGxhbmdfYXJyYXk6W10sCiAgICAgIGluZm9Gb3JtOiBbXQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOaWsOW7ui/nvJbovpHnm67lvZXml7bkvpvnlKjmiLfpgInmi6nnmoTkuIrnuqfnm67lvZXliJfooagKICAgIGJlbG9uZ190b19jYXRhbG9nczogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMuY2F0YWxvZ3MgfHwgdGhpcy5jYXRhbG9ncy5sZW5ndGggPD0gMCkgewogICAgICAgIHJldHVybiBbXQogICAgICB9CiAgICAgIHZhciBJbmZvID0gdGhpcy5jYXRhbG9ncy5zbGljZSgwKQogICAgICB2YXIgY2F0X2FycmF5ID0gW10KICAgICAgLy8g6L+Z5Liq5Ye95pWw5bCG6YCS5b2SCiAgICAgIHZhciByZW5hbWUgPSBmdW5jdGlvbiAoY2F0YWxvZywgcF9jYXRfbmFtZSkgewogICAgICAgIGlmIChjYXRhbG9nLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2F0YWxvZy5sZW5ndGg7IGorKykgewogICAgICAgICAgICB2YXIgY2F0X25hbWUgPSBwX2NhdF9uYW1lICsgJyAvICcgKyBjYXRhbG9nW2pdLmNhdF9uYW1lCiAgICAgICAgICAgIGNhdF9hcnJheS5wdXNoKHsKICAgICAgICAgICAgICBjYXRfaWQ6IGNhdGFsb2dbal0uY2F0X2lkLAogICAgICAgICAgICAgIGNhdF9uYW1lOiBjYXRfbmFtZQogICAgICAgICAgICB9KQogICAgICAgICAgICBpZiAoY2F0YWxvZ1tqXS5zdWIgJiYgY2F0YWxvZ1tqXS5zdWIubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIHJlbmFtZShjYXRhbG9nW2pdLnN1YiwgY2F0X25hbWUpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBJbmZvLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY2F0X2FycmF5LnB1c2goSW5mb1tpXSkKICAgICAgICBpZiAoSW5mb1tpXS5zdWIgIT0gbnVsbCkgewogICAgICAgICAgcmVuYW1lKEluZm9baV0uc3ViLCBJbmZvW2ldLmNhdF9uYW1lKQogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgbm9fY2F0ID0geyBjYXRfaWQ6IDAsIGNhdF9uYW1lOiB0aGlzLiR0KCdub25lJykgfQogICAgICBjYXRfYXJyYXkucHVzaChub19jYXQpCiAgICAgIHJldHVybiBjYXRfYXJyYXkKICAgIH0sCiAgICBiZWxvbmdfdG9fbGFuZzogZnVuY3Rpb24gKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXMKICAgICAgaWYgKHRoYXQuaW5mb0Zvcm0ubGFuZ19saXN0ID09PSB1bmRlZmluZWQpewogICAgICAgICAgICAgIHJldHVybiBbXQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBsYW5nSW5mbyA9dGhhdC5pbmZvRm9ybS5sYW5nX2xpc3Quc3BsaXQoJywnKQogICAgICAgICAgICB2YXIgbGFuZ19hcnJheSA9IFtdCiAgICAgICAgICAgIGlmICh0aGF0LmxhbmcubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgZm9yICh2YXIgaz0wOyBrIDwgbGFuZ0luZm8ubGVuZ3RoOyBrKyspewogICAgICAgICAgICAgICAgaWYgKGxhbmdJbmZvW2tdID09PSAiIil7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LmxhbmcKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBmb3IgKHZhciBqPTA7IGogPCB0aGF0LmxhbmcubGVuZ3RoOyBqKyspewogICAgICAgICAgICAgICAgaWYgKHRoYXQubGFuZ1tqXS5pZCA9PT0gcGFyc2VJbnQobGFuZ0luZm9ba10pKXsKICAgICAgICAgICAgICAgICAgbGFuZ19hcnJheS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBpZDogdGhhdC5sYW5nW2pdLmlkLAogICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoYXQubGFuZ1tqXS5uYW1lLAogICAgICAgICAgICAgICAgICAgIGljb246IHRoYXQubGFuZ1tqXS5pY29uCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbGFuZ19hcnJheQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdGFibGVSb3dDbGFzc05hbWUgKHsgcm93LCByb3dJbmRleCB9KSB7CiAgICAgIGlmIChyb3cubGV2ZWwgPT09ICcyJykgewogICAgICAgIHJldHVybiAnc3VjY2Vzcy1yb3cnCiAgICAgIH0KICAgICAgcmV0dXJuICcnCiAgICB9LAogICAgZ2V0X2l0ZW1faW5mbyAoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcwogICAgICB2YXIgdXJsID0gRG9jQ29uZmlnLnNlcnZlciArICcvaXRlbS9kZXRhaWwnCiAgICAgIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCkKICAgICAgcGFyYW1zLmFwcGVuZCgnaXRlbV9pZCcsIHRoYXQuJHJvdXRlLnBhcmFtcy5pdGVtX2lkKQogICAgICB0aGF0LiRodHRwCiAgICAgICAgLnBvc3QodXJsLCBwYXJhbXMpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICB2YXIgSW5mbzEgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgICAgICAgdGhhdC5pbmZvRm9ybSA9IEluZm8xCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGF0LiRhbGVydChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICB9KQogICAgfSwKICAgIHJlbW92ZUF0MihpZHgpIHsKICAgICAgdGhpcy5wYWdlczIuc3BsaWNlKGlkeCwgMSk7CiAgICB9LAogICAgcmVtb3ZlQXQoaWR4KSB7CiAgICAgIHRoaXMucGFnZXMuc3BsaWNlKGlkeCwgMSk7CiAgICB9LAogICAgZ2V0X2NhdGFsb2cgKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXMKICAgICAgdmFyIHVybCA9IERvY0NvbmZpZy5zZXJ2ZXIgKyAnL2NhdExpc3RHcm91cCcKICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKQogICAgICBwYXJhbXMuYXBwZW5kKCdpdGVtX2lkJywgdGhhdC4kcm91dGUucGFyYW1zLml0ZW1faWQpCiAgICAgIHRoYXQuJGh0dHAucG9zdCh1cmwsIHBhcmFtcykKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIHZhciBJbmZvID0gcmVzcG9uc2UuZGF0YS5kYXRhCiAgICAgICAgICAgIHRoYXQuY2F0YWxvZ3MgPSBJbmZvCiAgICAgICAgICAgIHRoYXQudHJlZURhdGEgPSBbXQogICAgICAgICAgICB2YXIgZHVhbmcgPSBmdW5jdGlvbiAoSW5mbykgewogICAgICAgICAgICAgIHZhciB0cmVlRGF0YSA9IFtdCiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBJbmZvLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0geyBjaGlsZHJlbjogW10gfQogICAgICAgICAgICAgICAgbm9kZS5pZCA9IEluZm9baV0uY2F0X2lkCiAgICAgICAgICAgICAgICBub2RlLmxhYmVsID0gSW5mb1tpXS5jYXRfbmFtZQogICAgICAgICAgICAgICAgbm9kZS5jaWQgPSBJbmZvW2ldLmNpZAogICAgICAgICAgICAgICAgaWYgKEluZm9baV0uc3ViICYmIEluZm9baV0uc3ViLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgbm9kZS5jaGlsZHJlbiA9IGR1YW5nKEluZm9baV0uc3ViKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdHJlZURhdGEucHVzaChub2RlKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gdHJlZURhdGEKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGF0LnRyZWVEYXRhID0gZHVhbmcoSW5mbykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2UocmVzcG9uc2UuZGF0YS5tZXNzYWdlKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgfSkKICAgIH0sCiAgICBnZXRfbGFuZyAoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcwogICAgICB2YXIgdXJsID0gRG9jQ29uZmlnLnNlcnZlciArICcvbGFuZycKICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKQogICAgICB0aGF0LiRodHRwLmdldCh1cmwsIHBhcmFtcykKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIHZhciBsYW5nID0gcmVzcG9uc2UuZGF0YS5kYXRhCiAgICAgICAgICAgIC8vIOWIm+W7uuS4iue6p+ebruW9lemAiemhuQogICAgICAgICAgICB2YXIgTGFuZzIgPSBsYW5nLnNsaWNlKDApCiAgICAgICAgICAgIHZhciBub19jYXQgPSB7IElEOiAwLCBuYW1lOiB0aGF0LiR0KCdub25lJykgfQogICAgICAgICAgICBMYW5nMi51bnNoaWZ0KG5vX2NhdCkKICAgICAgICAgICAgdGhhdC5sYW5nID0gTGFuZzIKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgIH0pCiAgICB9LAogICAgTXlGb3JtU3VibWl0ICgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzCiAgICAgIHZhciB1cmwgPSBEb2NDb25maWcuc2VydmVyICsgJy9jYXRhbG9ncy9zYXZlJwogICAgICB2YXIgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpCiAgICAgIHBhcmFtcy5hcHBlbmQoJ2l0ZW1pZCcsIHRoYXQuJHJvdXRlLnBhcmFtcy5pdGVtX2lkKQogICAgICBwYXJhbXMuYXBwZW5kKCdjYXRpZCcsIHRoaXMuTXlGb3JtLmNhdF9pZCkKICAgICAgcGFyYW1zLmFwcGVuZCgncGFyZW50Y2F0aWQnLCB0aGlzLk15Rm9ybS5wYXJlbnRfY2F0X2lkKQogICAgICBwYXJhbXMuYXBwZW5kKCdjYXRuYW1lJywgdGhpcy5NeUZvcm0uY2F0X25hbWUpCiAgICAgIHBhcmFtcy5hcHBlbmQoJ2NpZCcsIHRoaXMuTXlGb3JtLmNpZCkKICAgICAgdGhhdC4kaHR0cC5wb3N0KHVybCwgcGFyYW1zKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgdGhhdC5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIHRoYXQuZ2V0X2NhdGFsb2coKQogICAgICAgICAgICB0aGF0Lk15Rm9ybSA9IFtdCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGF0LiRhbGVydChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICB9KQogICAgfSwKICAgIGVkaXQgKG5vZGUsIGRhdGEpIHsKICAgICAgdGhpcy5NeUZvcm0gPSB7CiAgICAgICAgY2F0X2lkOiBkYXRhLmlkLAogICAgICAgIHBhcmVudF9jYXRfaWQ6IG5vZGUucGFyZW50LmRhdGEuaWQsCiAgICAgICAgY2F0X25hbWU6IGRhdGEubGFiZWwsCiAgICAgICAgY2lkOiBkYXRhLmNpZAogICAgICB9CiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlCiAgICB9LAogICAgbGFuZ2xpc3QoaWQpewogICAgICB2YXIgdGhhdCA9IHRoaXMKICAgICAgdGhhdC5nZXRfcGFnZXMgKGlkLDIpCiAgICAgIHRoaXMuaWQgPSBpZAoKICAgIH0sCiAgICBsYW5nbGlzdDEobGFuZ2lkKXsKICAgICAgdmFyIHRoYXQgPSB0aGlzCiAgICAgIHRoYXQuZ2V0X3BhZ2VzIChsYW5naWQpCiAgICAgICB0aGlzLmxhbmdpZCA9IGxhbmdpZAogICAgfSwKICAgIGRlbGV0ZV9jYXQgKG5vZGUsIGRhdGEpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzCiAgICAgIHZhciBjYXRfaWQgPSBkYXRhLmlkCiAgICAgIHZhciB1cmwgPSBEb2NDb25maWcuc2VydmVyICsgYC9kZWxjYXRhbG9ncy8ke2NhdF9pZH1gCiAgICAgIHRoaXMuJGNvbmZpcm0odGhhdC4kdCgnY29uZmlybV9kZWxldGUnKSwgJyAnLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IHRoYXQuJHQoJ2NvbmZpcm0nKSwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiB0aGF0LiR0KCdjYW5jZWwnKSwKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKQogICAgICAgIHBhcmFtcy5hcHBlbmQoJ2l0ZW1faWQnLCB0aGF0LiRyb3V0ZS5wYXJhbXMuaXRlbV9pZCkKICAgICAgICB0aGF0LiRodHRwLnBvc3QodXJsLCBwYXJhbXMpCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICB0aGF0LmdldF9jYXRhbG9nKCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGF0LiRhbGVydChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgZ2V0X3BhZ2VzIChpZCAsIHZhbHVlKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcwogICAgICB2YXIgdXJsID0gRG9jQ29uZmlnLnNlcnZlciArICcvcGFnZS9saXN0JwogICAgICB2YXIgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpCiAgICAgIHBhcmFtcy5hcHBlbmQoJ2l0ZW1faWQnLCB0aGlzLml0ZW1faWQpCiAgICAgIHBhcmFtcy5hcHBlbmQoJ2xhbmdfaWQnLCBpZCkKICAgICAgdGhhdC4kaHR0cAogICAgICAgIC5wb3N0KHVybCwgcGFyYW1zKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgaWYgKHZhbHVlID09IDIpewogICAgICAgICAgICAgIHRoYXQucGFnZXMgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGF0LnBhZ2VzMiA9IHJlc3BvbnNlLmRhdGEuZGF0YQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGF0LiRhbGVydChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICB9KQogICAgfSwKICAgIHJlc2V0Rm9ybSAoKSB7CiAgICAgIHRoaXMuTXlGb3JtID0gewogICAgICAgIGNhdF9pZDogMCwKICAgICAgICBwYXJlbnRfY2F0X2lkOiAnJywKICAgICAgICBjYXRfbmFtZTogJycsCiAgICAgICAgc19udW1iZXI6ICcnLAogICAgICAgIGNpZDogJycKICAgICAgfQogICAgfSwKICAgIGFkZF9jYXQgKG5vZGUsIGRhdGEpIHsKICAgICAgaWYgKG5vZGUgJiYgZGF0YS5pZCkgewogICAgICAgIHRoaXMuTXlGb3JtID0gewogICAgICAgICAgY2F0X2lkOiAnJywKICAgICAgICAgIHBhcmVudF9jYXRfaWQ6IGRhdGEuaWQsCiAgICAgICAgICBjYXRfbmFtZTogJycsCiAgICAgICAgICBzX251bWJlcjogJycsCiAgICAgICAgICBjaWQ6ICcnCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmVzZXRGb3JtKCkKICAgICAgfQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIGdvYmFjayAoKSB7CiAgICAgIHZhciB1cmwgPSAnLycgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaXRlbV9pZAogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IHVybCB9KQogICAgfSwKICAgIGFzeW5jIGhhbmRsZURyYWdFbmQgKG5vZGUxLCBub2RlMiwgcG9zaXRpb24sIGV2dCkgewogICAgICBjb25zdCB0cmVlRGF0YTIgPSB0aGlzLmRpbWVuc2lvblJlZHVjdGlvbih0aGlzLnRyZWVEYXRhKQogICAgICB2YXIgdXJsID0gRG9jQ29uZmlnLnNlcnZlciArICcvY2F0YWxvZy9iYXRVcGRhdGUnCiAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnaXRlbV9pZCcsIHRoaXMuJHJvdXRlLnBhcmFtcy5pdGVtX2lkKQogICAgICBmb3JtZGF0YS5hcHBlbmQoJ2NhdHMnLCBKU09OLnN0cmluZ2lmeSh0cmVlRGF0YTIpKQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KHVybCwgZm9ybWRhdGEpCiAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHt9CiAgICB9LAogICAgLy8g5bCG55uu5b2V5pWw57uE6ZmN57u0CiAgICBkaW1lbnNpb25SZWR1Y3Rpb24gKHRyZWVEYXRhKSB7CiAgICAgIGNvbnN0IHRyZWVEYXRhMiA9IFtdCiAgICAgIHZhciBwdXNoVHJlZURhdGEgPSBmdW5jdGlvbiAoT25lRGF0YSwgcGFyZW50X2NhdF9pZCwgbGV2ZWwsIGkpIHsKICAgICAgICB0cmVlRGF0YTIucHVzaCh7CiAgICAgICAgICBpZDogT25lRGF0YS5pZCwKICAgICAgICAgIG5hbWU6IE9uZURhdGEubGFiZWwsCiAgICAgICAgICBwYXJlbnRfY2F0X2lkOiBwYXJlbnRfY2F0X2lkLAogICAgICAgICAgbGV2ZWw6IGxldmVsLAogICAgICAgICAgc19udW1iZXI6IGkgKyAxCiAgICAgICAgfSkKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKE9uZURhdGEsICdjaGlsZHJlbicpKSB7CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IE9uZURhdGEuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgcHVzaFRyZWVEYXRhKE9uZURhdGEuY2hpbGRyZW5bal0sIE9uZURhdGEuaWQsIGxldmVsICsgMSwgaikKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlRGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIHB1c2hUcmVlRGF0YSh0cmVlRGF0YVtpXSwgMCwgMiwgaSkKICAgICAgfQogICAgICByZXR1cm4gdHJlZURhdGEyCiAgICB9LAogICAgaGFuZGxlQ2xpY2sodGFiLCBldmVudCkgewogICAgICAgIGNvbnNvbGUubG9nKHRhYiwgZXZlbnQpOwogICAgfSwKICAgIC8vIOWxleekuumhtemdouaOkuW6jwogICAgc2hvd1NvcnRQYWdlIChub2RlLCBkYXRhKSB7CiAgICAgIHRoaXMuY3VybF9jYXRfaWQgPSBkYXRhLmlkCiAgICAgIGNvbnN0IGNoaWxkUmVmID0gdGhpcy4kcmVmcy5Tb3J0UGFnZSAvLyDojrflj5blrZDnu4Tku7YKICAgICAgY2hpbGRSZWYuc2hvdygpCiAgICB9LAogICAgY29weUNhdCAobm9kZSwgZGF0YSkgewogICAgICB0aGlzLmN1cmxfY2F0X2lkID0gZGF0YS5pZAogICAgICB0aGlzLmNvcHlGb3JtVmlzaWJsZSA9IHRydWUKICAgIH0sCiAgICBjb3B5Q2FsbGJhY2sgKCkgewogICAgICB0aGlzLmNvcHlGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICAgIHRoaXMuZ2V0X2NhdGFsb2coKQogICAgfSwKICAgIGVuZE1vdmUgKGV2dCkgewogICAgICBjb25zdCBkYXRhID0ge30KICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5wYWdlc1tpXS5JRAogICAgICAgIGRhdGFba2V5XSA9IGkgKyAxCiAgICAgIH0KICAgICAgdGhpcy5zb3J0X3BhZ2UoZGF0YSkKICAgIH0sCiAgICBlbmRNb3ZlMiAoZXZ0KSB7CiAgICAgIGNvbnN0IGRhdGEgPSB7fQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFnZXMyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5wYWdlczJbaV0uSUQKICAgICAgICBkYXRhW2tleV0gPSBpICsgMQogICAgICB9CiAgICAgIHRoaXMuc29ydF9wYWdlKGRhdGEpCiAgICB9LAogICAgc29ydF9wYWdlIChkYXRhKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcwogICAgICB2YXIgdXJsID0gRG9jQ29uZmlnLnNlcnZlciArICcvcGFnZS9zb3J0YnlwYWdlJwogICAgICB2YXIgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpCiAgICAgIHBhcmFtcy5hcHBlbmQoJ3BhZ2VzJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpCiAgICAgIHBhcmFtcy5hcHBlbmQoJ2l0ZW1faWQnLCB0aGlzLml0ZW1faWQpCiAgICAgIHBhcmFtcy5hcHBlbmQoJ2xhbmdfaWQnLCB0aGlzLmlkKQogICAgICB0aGF0LiRodHRwLnBvc3QodXJsLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIC8vdGhhdC5nZXRfcGFnZXModGhpcy5sYW5naWQpCiAgICAgICAgICB0aGF0LiRtZXNzYWdlLnN1Y2Nlc3ModGhhdC4kdCgnbW9kaWZ5X3N1Y2Nlc3MnKSkKICAgICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhhdC4kYWxlcnQocmVzcG9uc2UuZGF0YS5tZXNzYWdlLCAnJywgewogICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5nZXRfY2F0YWxvZygpCiAgICB0aGlzLmdldF9sYW5nKCkKICAgIHRoaXMuZ2V0X2l0ZW1faW5mbygpCiAgICB0aGlzLml0ZW1faWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaXRlbV9pZAogIH0sCiAgLy8gd2F0Y2g6IHsKICAvLyAgIGlkOiBmdW5jdGlvbiAoKSB7CiAgLy8gICAgIHRoaXMuZ2V0X3BhZ2VzKCkKICAvLyAgIH0sCiAgLy8gfSwKICBiZWZvcmVEZXN0cm95ICgpIHt9Cn0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/components/catalog","sourcesContent":["<template>\n  <div class=\"hello\">\n    <Header> </Header>\n\n      <el-card class=\"center-card\">\n      <el-row>\n      <el-button  type=\"text\" class=\"add-cat\" @click=\"add_cat()\">{{$t('add_cat')}}</el-button>\n      <el-button type=\"text\" class=\"goback-btn\" @click=\"goback\">{{$t('goback')}}</el-button>\n      </el-row>\n      <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n      <el-tab-pane :label=\"$t('memu_manage')\" name=\"first\">\n      <div class=\"itxst\">\n      <p class=\"tips\" v-if=\"treeData.length > 1\">{{ $t('cat_tips') }}</p>\n       <el-tree\n          class=\"tree-node\"\n          :data=\"treeData\"\n          node-key=\"id\"\n          :props=\"defaultProps\"\n          default-expand-all\n          @node-drag-end=\"handleDragEnd\"\n          draggable\n        >\n          <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\n            <span>{{ node.label }}</span>\n            <span class=\"right-bar\">\n              <el-button\n                type=\"text\"\n                size=\"mini\"\n                :title=\"$t('edit')\"\n                class=\"el-icon-edit\"\n                @click.stop=\"edit(node, data)\"\n              ></el-button>\n              <el-button\n                type=\"text\"\n                size=\"mini\"\n                class=\"el-icon-plus\"\n                :title=\"$t('add_cat')\"\n                @click.stop=\"add_cat(node, data)\"\n              ></el-button>\n              <el-button\n                type=\"text\"\n                size=\"mini\"\n                class=\"el-icon-document\"\n                :title=\"$t('sort_pages')\"\n                @click.stop=\"showSortPage(node, data)\"\n              ></el-button>\n              <el-button\n                type=\"text\"\n                size=\"mini\"\n                class=\"el-icon-copy-document\"\n                :title=\"$t('copy_or_mv_cat')\"\n                @click.stop=\"copyCat(node, data)\"\n              ></el-button>\n              <el-button\n                type=\"text\"\n                size=\"mini\"\n                class=\"el-icon-delete\"\n                @click.stop=\"delete_cat(node, data)\"\n              ></el-button>\n            </span>\n          </span>\n        </el-tree>\n        </div>\n        </el-tab-pane>\n        <el-tab-pane :label=\"$t('page_manage')\" name=\"second\">\n        <el-container class=\"container-narrow\">\n        <el-card class=\"page-card left\">\n          <div slot=\"header\" class=\"clearfix\">\n            <el-select v-model=\"id\" :placeholder=\"$t('select')\" @change=\"langlist(id)\">\n              <el-option\n                v-for=\"item in belong_to_lang\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.id\">\n              </el-option>\n            </el-select>\n        <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"endMove\" >{{$t('update')}}</el-button>\n        </div>\n        <div class=\"itxst\">\n        <draggable v-model=\"pages\" tag=\"div\" group=\"page\" @end=\"endMove\" :scroll=\"true\" animation=\"300\">\n            <div class=\"page-box\" v-for=\"(page,index) in pages\" :key=\"page.ID\">\n              <span class=\"page-name\"><i class=\"fa fa-times close\" @click=\"removeAt(index)\"></i>{{ page.pagetitle }}</span>\n            </div>\n          </draggable>\n        </div>\n        </el-card>\n        <el-card class=\"page-card right\">\n          <div slot=\"header\" class=\"clearfix \">\n            <el-select v-model=\"langid\" :placeholder=\"$t('select')\" @change=\"langlist1(langid)\" >\n              <el-option\n                v-for=\"item in belong_to_lang\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.id\">\n              </el-option>\n            </el-select>\n        <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"endMove2\">{{$t('update')}}</el-button>\n        </div>\n        <div class=\"itxst\">\n        <draggable v-model=\"pages2\" tag=\"div\" group=\"page\" @end=\"endMove2\" :scroll=\"true\" animation=\"300\">\n            <div class=\"page-box\" v-for=\"(page,idx) in pages2\" :key=\"page.ID\">\n              <span class=\"page-name\"> <i class=\"fa fa-times close\" @click=\"removeAt2(idx)\"></i>{{ page.pagetitle }}</span>\n\n            </div>\n          </draggable>\n        </div>\n        </el-card>\n        </el-container>\n        </el-tab-pane>\n        </el-tabs>\n      </el-card>\n\n      <el-dialog :visible.sync=\"dialogFormVisible\"  width=\"300px\" :close-on-click-modal=\"false\" >\n        <el-form >\n            <el-form-item :label=\"$t('cat_name')+' : '\" >\n              <el-input  :placeholder=\"$t('input_cat_name')\" v-model=\"MyForm.cat_name\"></el-input>\n            </el-form-item>\n            <el-form-item :label=\"$t('parent_cat_name')+' : '\" >\n              <el-select v-model=\"MyForm.parent_cat_id\" :placeholder=\"$t('none')\">\n                  <el-option\n                    v-for=\"item in belong_to_catalogs\"\n                    :key=\"item.cat_id\"\n                    :label=\"item.cat_name\"\n                    :value=\"item.cat_id\">\n                  </el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item :label=\"$t('cat_lang')+' : '\" >\n              <el-select v-model=\"MyForm.cid\" :placeholder=\"$t('select')\">\n                  <el-option\n                    v-for=\"item in belong_to_lang\"\n                    :key=\"item.id\"\n                    :label=\"item.name\"\n                    :value=\"item.id\">\n                  </el-option>\n                </el-select>\n            </el-form-item>\n        </el-form>\n\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialogFormVisible = false\">{{$t('cancel')}}</el-button>\n          <el-button type=\"primary\" @click=\"MyFormSubmit\" >{{$t('confirm')}}</el-button>\n        </div>\n      </el-dialog>\n    <SortPage\n      :belong_to_catalogs=\"belong_to_catalogs\"\n      :item_id=\"item_id\"\n      :cat_id=\"curl_cat_id\"\n      ref=\"SortPage\"\n    ></SortPage>\n\n    <Copy\n      v-if=\"copyFormVisible\"\n      :item_id=\"item_id\"\n      :cat_id=\"curl_cat_id\"\n      :callback=\"copyCallback\"\n    ></Copy>\n    <Footer> </Footer>\n  </div>\n</template>\n\n<script>\nimport SortPage from '@/components/page/edit/SortPage'\nimport Copy from './Copy'\nimport draggable from 'vuedraggable'\nexport default {\n  name: 'Login',\n  components: {\n    SortPage,\n    Copy,\n    draggable\n  },\n  data () {\n    return {\n      MyForm: {\n        cat_id: 0,\n        parent_cat_id: '',\n        cid: '',\n        cat_name: '',\n        s_number: '',\n      },\n      lang: [],\n      catalogs: [],\n      dialogFormVisible: false,\n      copyFormVisible: false,\n      treeData: [],\n      btnedit: false,\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      },\n      activeName: 'first',\n      item_id: '',\n      curl_cat_id: '',\n      pages: [],\n      pages2: [],\n      id: '',\n      langid: '',\n      drag: false,\n      lang_array:[],\n      infoForm: []\n    }\n  },\n  computed: {\n    // 新建/编辑目录时供用户选择的上级目录列表\n    belong_to_catalogs: function () {\n      if (!this.catalogs || this.catalogs.length <= 0) {\n        return []\n      }\n      var Info = this.catalogs.slice(0)\n      var cat_array = []\n      // 这个函数将递归\n      var rename = function (catalog, p_cat_name) {\n        if (catalog.length > 0) {\n          for (var j = 0; j < catalog.length; j++) {\n            var cat_name = p_cat_name + ' / ' + catalog[j].cat_name\n            cat_array.push({\n              cat_id: catalog[j].cat_id,\n              cat_name: cat_name\n            })\n            if (catalog[j].sub && catalog[j].sub.length > 0) {\n              rename(catalog[j].sub, cat_name)\n            }\n          }\n        }\n      }\n      for (var i = 0; i < Info.length; i++) {\n        cat_array.push(Info[i])\n        if (Info[i].sub != null) {\n          rename(Info[i].sub, Info[i].cat_name)\n        }\n      }\n      var no_cat = { cat_id: 0, cat_name: this.$t('none') }\n      cat_array.push(no_cat)\n      return cat_array\n    },\n    belong_to_lang: function () {\n      var that = this\n      if (that.infoForm.lang_list === undefined){\n              return []\n            }\n            var langInfo =that.infoForm.lang_list.split(',')\n            var lang_array = []\n            if (that.lang.length > 0){\n              for (var k=0; k < langInfo.length; k++){\n                if (langInfo[k] === \"\"){\n                  return that.lang\n                }\n              for (var j=0; j < that.lang.length; j++){\n                if (that.lang[j].id === parseInt(langInfo[k])){\n                  lang_array.push({\n                    id: that.lang[j].id,\n                    name: that.lang[j].name,\n                    icon: that.lang[j].icon\n                  })\n                }\n              }\n              }\n            }\n            return lang_array\n    }\n  },\n  methods: {\n    tableRowClassName ({ row, rowIndex }) {\n      if (row.level === '2') {\n        return 'success-row'\n      }\n      return ''\n    },\n    get_item_info () {\n      var that = this\n      var url = DocConfig.server + '/item/detail'\n      var params = new URLSearchParams()\n      params.append('item_id', that.$route.params.item_id)\n      that.$http\n        .post(url, params)\n        .then(function (response) {\n          if (response.data.status === 200) {\n            var Info1 = response.data.data\n            that.infoForm = Info1\n          } else {\n            that.$alert(response.data.message)\n          }\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n    },\n    removeAt2(idx) {\n      this.pages2.splice(idx, 1);\n    },\n    removeAt(idx) {\n      this.pages.splice(idx, 1);\n    },\n    get_catalog () {\n      var that = this\n      var url = DocConfig.server + '/catListGroup'\n      var params = new URLSearchParams()\n      params.append('item_id', that.$route.params.item_id)\n      that.$http.post(url, params)\n        .then(function (response) {\n          if (response.data.status === 200) {\n            var Info = response.data.data\n            that.catalogs = Info\n            that.treeData = []\n            var duang = function (Info) {\n              var treeData = []\n              for (var i = 0; i < Info.length; i++) {\n                const node = { children: [] }\n                node.id = Info[i].cat_id\n                node.label = Info[i].cat_name\n                node.cid = Info[i].cid\n                if (Info[i].sub && Info[i].sub.length > 0) {\n                  node.children = duang(Info[i].sub)\n                }\n                treeData.push(node)\n              }\n              return treeData\n            }\n            that.treeData = duang(Info)\n          } else {\n            that.$message(response.data.message)\n          }\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n    },\n    get_lang () {\n      var that = this\n      var url = DocConfig.server + '/lang'\n      var params = new URLSearchParams()\n      that.$http.get(url, params)\n        .then(function (response) {\n          if (response.data.status === 200) {\n            var lang = response.data.data\n            // 创建上级目录选项\n            var Lang2 = lang.slice(0)\n            var no_cat = { ID: 0, name: that.$t('none') }\n            Lang2.unshift(no_cat)\n            that.lang = Lang2\n          }\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n    },\n    MyFormSubmit () {\n      var that = this\n      var url = DocConfig.server + '/catalogs/save'\n      var params = new URLSearchParams()\n      params.append('itemid', that.$route.params.item_id)\n      params.append('catid', this.MyForm.cat_id)\n      params.append('parentcatid', this.MyForm.parent_cat_id)\n      params.append('catname', this.MyForm.cat_name)\n      params.append('cid', this.MyForm.cid)\n      that.$http.post(url, params)\n        .then(function (response) {\n          if (response.data.status === 200) {\n            that.dialogFormVisible = false\n            that.get_catalog()\n            that.MyForm = []\n          } else {\n            that.$alert(response.data.message)\n          }\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n    },\n    edit (node, data) {\n      this.MyForm = {\n        cat_id: data.id,\n        parent_cat_id: node.parent.data.id,\n        cat_name: data.label,\n        cid: data.cid\n      }\n      this.dialogFormVisible = true\n    },\n    langlist(id){\n      var that = this\n      that.get_pages (id,2)\n      this.id = id\n\n    },\n    langlist1(langid){\n      var that = this\n      that.get_pages (langid)\n       this.langid = langid\n    },\n    delete_cat (node, data) {\n      var that = this\n      var cat_id = data.id\n      var url = DocConfig.server + `/delcatalogs/${cat_id}`\n      this.$confirm(that.$t('confirm_delete'), ' ', {\n        confirmButtonText: that.$t('confirm'),\n        cancelButtonText: that.$t('cancel'),\n        type: 'warning'\n      }).then(() => {\n        var params = new URLSearchParams()\n        params.append('item_id', that.$route.params.item_id)\n        that.$http.post(url, params)\n          .then(function (response) {\n            if (response.data.status === 200) {\n              that.get_catalog()\n            } else {\n              that.$alert(response.data.message)\n            }\n          })\n      })\n    },\n    get_pages (id , value) {\n      var that = this\n      var url = DocConfig.server + '/page/list'\n      var params = new URLSearchParams()\n      params.append('item_id', this.item_id)\n      params.append('lang_id', id)\n      that.$http\n        .post(url, params)\n        .then(function (response) {\n          if (response.data.status === 200) {\n            if (value == 2){\n              that.pages = response.data.data\n            } else {\n              that.pages2 = response.data.data\n            }\n          } else {\n            that.$alert(response.data.message)\n          }\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n    },\n    resetForm () {\n      this.MyForm = {\n        cat_id: 0,\n        parent_cat_id: '',\n        cat_name: '',\n        s_number: '',\n        cid: ''\n      }\n    },\n    add_cat (node, data) {\n      if (node && data.id) {\n        this.MyForm = {\n          cat_id: '',\n          parent_cat_id: data.id,\n          cat_name: '',\n          s_number: '',\n          cid: ''\n        }\n      } else {\n        this.resetForm()\n      }\n      this.dialogFormVisible = true\n    },\n    goback () {\n      var url = '/' + this.$route.params.item_id\n      this.$router.push({ path: url })\n    },\n    async handleDragEnd (node1, node2, position, evt) {\n      const treeData2 = this.dimensionReduction(this.treeData)\n      var url = DocConfig.server + '/catalog/batUpdate'\n      var formdata = new FormData()\n      formdata.append('item_id', this.$route.params.item_id)\n      formdata.append('cats', JSON.stringify(treeData2))\n      const { data: res } = await this.$http.post(url, formdata)\n      if (res.status === 200) {}\n    },\n    // 将目录数组降维\n    dimensionReduction (treeData) {\n      const treeData2 = []\n      var pushTreeData = function (OneData, parent_cat_id, level, i) {\n        treeData2.push({\n          id: OneData.id,\n          name: OneData.label,\n          parent_cat_id: parent_cat_id,\n          level: level,\n          s_number: i + 1\n        })\n        if (Object.prototype.hasOwnProperty.call(OneData, 'children')) {\n          for (var j = 0; j < OneData.children.length; j++) {\n            pushTreeData(OneData.children[j], OneData.id, level + 1, j)\n          }\n        }\n      }\n      for (var i = 0; i < treeData.length; i++) {\n        pushTreeData(treeData[i], 0, 2, i)\n      }\n      return treeData2\n    },\n    handleClick(tab, event) {\n        console.log(tab, event);\n    },\n    // 展示页面排序\n    showSortPage (node, data) {\n      this.curl_cat_id = data.id\n      const childRef = this.$refs.SortPage // 获取子组件\n      childRef.show()\n    },\n    copyCat (node, data) {\n      this.curl_cat_id = data.id\n      this.copyFormVisible = true\n    },\n    copyCallback () {\n      this.copyFormVisible = false\n      this.get_catalog()\n    },\n    endMove (evt) {\n      const data = {}\n      for (var i = 0; i < this.pages.length; i++) {\n        const key = this.pages[i].ID\n        data[key] = i + 1\n      }\n      this.sort_page(data)\n    },\n    endMove2 (evt) {\n      const data = {}\n      for (var i = 0; i < this.pages2.length; i++) {\n        const key = this.pages2[i].ID\n        data[key] = i + 1\n      }\n      this.sort_page(data)\n    },\n    sort_page (data) {\n      var that = this\n      var url = DocConfig.server + '/page/sortbypage'\n      var params = new URLSearchParams()\n      params.append('pages', JSON.stringify(data))\n      params.append('item_id', this.item_id)\n      params.append('lang_id', this.id)\n      that.$http.post(url, params).then(function (response) {\n        if (response.data.status === 200) {\n          //that.get_pages(this.langid)\n          that.$message.success(that.$t('modify_success'))\n          // window.location.reload();\n        } else {\n          that.$alert(response.data.message, '', {\n            callback: function () {\n              window.location.reload()\n            }\n          })\n        }\n      })\n    }\n  },\n  mounted () {\n    this.get_catalog()\n    this.get_lang()\n    this.get_item_info()\n    this.item_id = this.$route.params.item_id\n  },\n  // watch: {\n  //   id: function () {\n  //     this.get_pages()\n  //   },\n  // },\n  beforeDestroy () {}\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.hello{\n  text-align: left;\n}\n.add-cat{\n  margin-left: 10px;\n}\n.center-card{\n  text-align: left;\n  width: 800px;\n  height: 700px;\n}\n.goback-btn{\n  z-index: 999;\n  margin-left: 400px;\n}\n.cat-box {\n  background-color: rgb(250, 250, 250);\n  width: 100%;\n  height: 40px;\n  margin-bottom: 10px;\n  border: 1px solid #d9d9d9;\n  border-radius: 2px;\n}\n.cat-name {\n  line-height: 40px;\n  margin-left: 20px;\n  color: #262626;\n}\n.tree-node {\n  margin-top: 20px;\n}\n.custom-tree-node {\n  width: 100%;\n}\n.right-bar {\n  float: right;\n  margin-right: 20px;\n}\n.tips {\n  margin-left: 10px;\n  color: #9ea1a6;\n  font-size: 11px;\n}\n.page-card {\n  width: 350px;\n  height: 570px;\n}\n.clearfix:before,\n.clearfix:after {\n    display: table;\n    content: \"\";\n}\n.clearfix:after {\n    clear: both\n}\n.right {\nmargin-left: 30px;\n}\n.dialog-body {\n  min-height: 400px;\n  max-height: 90%;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.page-box {\n  background-color: rgb(250, 250, 250);\n  width: 98%;\n  height: 30px;\n  margin-top: 10px;\n  border: 1px solid #d9d9d9;\n  border-radius: 2px;\n  overflow-y: auto\n}\n.page-name {\n  line-height: 30px;\n  margin-left: 20px;\n  color: #262626;\n}\n.tips {\n  margin-left: 10px;\n  color: #9ea1a6;\n  font-size: 9px;\n}\n.close{\n  float: right;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-right: 12px;\n}\n.itxst {\n  width: 100%;\n  margin: 10px;\n  text-align: left;\n  height: 450px;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n</style>\n\n<!-- 全局css -->\n<style >\n.el-table .success-row {\n  background: #f0f9eb;\n}\n</style>\n"]}]}