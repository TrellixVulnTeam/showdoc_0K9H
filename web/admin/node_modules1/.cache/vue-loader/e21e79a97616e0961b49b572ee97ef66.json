{"remainingRequest":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/common/JsonToTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/common/JsonToTable.vue","mtime":1621417387387},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSnNvblRvVGFibGUnLAogIHByb3BzOiB7CiAgICBmb3JtTGFiZWxXaWR0aDogJzEyMHB4JywKICAgIGNhbGxiYWNrOiAnJwogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBjb250ZW50OiAnJywKICAgICAganNvbl90YWJsZV9kYXRhOiAnJywKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB0cmFuc2Zvcm0gKCkgewogICAgICB0cnkgewogICAgICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UodGhpcy5jb250ZW50KQogICAgICAgIHRoaXMuanNvbl90YWJsZV9kYXRhID0KICAgICAgICAgICd85Y+C5pWwfOexu+Wei3zmj4/ov7B8XG58Oi0tLS0tLS18Oi0tLS0tLS18Oi0tLS0tLS18XG4nCiAgICAgICAgdGhpcy5DaGFuZ2UoanNvbkRhdGEpCiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLmpzb25fdGFibGVfZGF0YSkKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRoaXMuJGFsZXJ0KCdKc29u6Kej5p6Q5aSx6LSlJykKICAgICAgfQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UKICAgIH0sCiAgICBDaGFuZ2UgKGRhdGEpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzCiAgICAgIHZhciBsZXZlbF9zdHIgPSAnLSAnCiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgewogICAgICAgIHZhciBsZXZlbAogICAgICAgIGFyZ3VtZW50c1sxXSA+IDAgPyAobGV2ZWwgPSBhcmd1bWVudHNbMV0pIDogKGxldmVsID0gMSkKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldmVsOyBpKyspIHsKICAgICAgICAgIGxldmVsX3N0ciArPSAnLSAnCiAgICAgICAgfQogICAgICB9CiAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7CiAgICAgICAgdmFyIHZhbHVlID0gZGF0YVtrZXldCiAgICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWUKICAgICAgICBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgIHRoYXQuanNvbl90YWJsZV9kYXRhICs9CiAgICAgICAgICAgICd8ICcgKyBsZXZlbF9zdHIgKyBrZXkgKyAnIHwnICsgdHlwZSArICcgIHwg5pegIHxcbicKICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgICAgIHZhciBqID0gbGV2ZWwgKyAxCiAgICAgICAgICAgIHRoaXMuQ2hhbmdlKHZhbHVlWzBdLCBqKQogICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgfQogICAgICAgICAgLy8gZWxzZQogICAgICAgICAgLy8gewogICAgICAgICAgdGhpcy5DaGFuZ2UodmFsdWUsIGxldmVsKQogICAgICAgICAgLy8gfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGF0Lmpzb25fdGFibGVfZGF0YSArPSAnfCAnICsga2V5ICsgJyB8ICcgKyB0eXBlICsgJ3wg5pegIHxcbicKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["JsonToTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"JsonToTable.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n  <div>\n    <el-dialog\n      :title=\"$t('json_to_table')\"\n      :visible.sync=\"dialogFormVisible\"\n      :close-on-click-modal=\"false\"\n    >\n      <el-form>\n        <el-input\n          type=\"textarea\"\n          class=\"dialoContent\"\n          :placeholder=\"$t('json_to_table_description')\"\n          :rows=\"10\"\n          v-model=\"content\"\n        ></el-input>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">{{\n          $t('cancel')\n        }}</el-button>\n        <el-button type=\"primary\" @click=\"transform\">{{\n          $t('confirm')\n        }}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'JsonToTable',\n  props: {\n    formLabelWidth: '120px',\n    callback: ''\n  },\n  data () {\n    return {\n      content: '',\n      json_table_data: '',\n      dialogFormVisible: false\n    }\n  },\n  methods: {\n    transform () {\n      try {\n        var jsonData = JSON.parse(this.content)\n        this.json_table_data =\n          '|参数|类型|描述|\\n|:-------|:-------|:-------|\\n'\n        this.Change(jsonData)\n        this.callback(this.json_table_data)\n      } catch (e) {\n        this.$alert('Json解析失败')\n      }\n      this.dialogFormVisible = false\n    },\n    Change (data) {\n      var that = this\n      var level_str = '- '\n      if (arguments.length > 1) {\n        var level\n        arguments[1] > 0 ? (level = arguments[1]) : (level = 1)\n        for (var i = 0; i < level; i++) {\n          level_str += '- '\n        }\n      }\n      for (var key in data) {\n        var value = data[key]\n        var type = typeof value\n        if (type === 'object') {\n          that.json_table_data +=\n            '| ' + level_str + key + ' |' + type + '  | 无 |\\n'\n          if (value instanceof Array) {\n            var j = level + 1\n            this.Change(value[0], j)\n            continue\n          }\n          // else\n          // {\n          this.Change(value, level)\n          // }\n        } else {\n          that.json_table_data += '| ' + key + ' | ' + type + '| 无 |\\n'\n        }\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped></style>\n"]}]}