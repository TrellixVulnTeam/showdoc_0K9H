{"remainingRequest":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/item/show/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/item/show/Index.vue","mtime":1622604359821},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTaG93UmVndWxhckl0ZW0gZnJvbSAnLi9zaG93X3JlZ3VsYXJfaXRlbS9JbmRleCcKaW1wb3J0IFNob3dTaW5nbGVQYWdlSXRlbSBmcm9tICcuL3Nob3dfc2luZ2xlX3BhZ2VfaXRlbS9JbmRleCcKaW1wb3J0IFNob3dUYWJsZUl0ZW0gZnJvbSAnLi9zaG93X3RhYmxlX2l0ZW0vSW5kZXgnCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGl0ZW1faW5mbzogJycsCiAgICAgIGtleXdvcmQ6ICcnLAogICAgICBpdGVtbGFuZ0lkMjogJycsCiAgICAgIGl0ZW1sYW5nSWQzOiAnJwogICAgICAvLyBsb2FkaW5nOiBmYWxzZQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgU2hvd1JlZ3VsYXJJdGVtLAogICAgU2hvd1NpbmdsZVBhZ2VJdGVtLAogICAgU2hvd1RhYmxlSXRlbQogIH0sCiAgbWV0aG9kczogewogICAgaXRlbV9sYW5nSWQyICh2YWx1ZSkgewogICAgICB0aGlzLml0ZW1sYW5nSWQyID0gdmFsdWUKICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLml0ZW1faW5mbyA9ICcnCiAgICAgICAgdGhpcy5nZXRfaXRlbV9tZW51KHRoaXMua2V5d29yZCkKICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPluiPnOWNlQogICAgYXN5bmMgZ2V0X2l0ZW1fbWVudSAoa2V5d29yZCkgewogICAgICBpZiAoIWtleXdvcmQpIHsKICAgICAgICBrZXl3b3JkID0gJycKICAgICAgfQogICAgICAvLyB2YXIgbG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoKQogICAgICB2YXIgaXRlbV9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pdGVtX2lkID8gdGhpcy4kcm91dGUucGFyYW1zLml0ZW1faWQgOiAwCiAgICAgIHZhciBwYWdlX2lkID0gdGhpcy4kcm91dGUucXVlcnkucGFnZV9pZCA/IHRoaXMuJHJvdXRlLnF1ZXJ5LnBhZ2VfaWQgOiAwCiAgICAgIHZhciB1cmwgPSB0aGlzLkRvY0NvbmZpZy5zZXJ2ZXIgKyAnL2l0ZW0vaW5mbycKICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgZm9ybWRhdGEuYXBwZW5kKCdpZCcsIGl0ZW1faWQpCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgna2V5d29yZCcsIGtleXdvcmQpCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnbGFuZ19pZCcsIHRoaXMuaXRlbWxhbmdJZDIpCiAgICAgIGlmICghdGhpcy5rZXl3b3JkKSB7CiAgICAgICAgZm9ybWRhdGEuYXBwZW5kKCdkZWZhdWx0cGFnZWlkJywgcGFnZV9pZCkKICAgICAgfQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KHVybCwgZm9ybWRhdGEpCiAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAvLyBsb2FkaW5nLmNsb3NlKCkKICAgICAgICB2YXIganNvbiA9IHJlcy5kYXRhCiAgICAgICAgaWYgKGpzb24uZGVmYXVsdHBhZ2VpZCA8PSAwIHx8IGpzb24uZGVmYXVsdHBhZ2VpZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAoanNvbi5tZW51LnBhZ2VzWzBdKSB7CiAgICAgICAgICAgIGpzb24uZGVmYXVsdHBhZ2VpZCA9IFN0cmluZyhqc29uLm1lbnUucGFnZXNbMF0uSUQpCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMuaXRlbV9pbmZvID0ganNvbgogICAgICAgIGlmIChqc29uLnVucmVhZF9jb3VudCA+IDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwMCwKICAgICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAnPGEgaHJlZj0iIy9ub3RpY2UvaW5kZXgiPuS9oOacieaWsOeahOacquivu+a2iOaBr++8jOeCueWHu+afpeecizwvYT4nCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzID09PSAxMDMwNykgewogICAgICAgIC8vIOmcgOimgei+k+WFpeWvhueggQogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgIHBhdGg6ICcvaXRlbS9wYXNzd29yZC8nICsgaXRlbV9pZCwKICAgICAgICAgIHF1ZXJ5OiB7IHBhZ2VfaWQ6IHBhZ2VfaWQsIHJlZGlyZWN0OiB0aGlzLiRyb3V0ZXIuY3VycmVudFJvdXRlLmZ1bGxQYXRoIH0KICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGFsZXJ0KHJlcy5tZXNzYWdlKQogICAgICB9CiAgICAgIC8vIOiuvue9ruS4gOS4quacgOmVv+WFs+mXreaXtumXtAogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAvLyBsb2FkaW5nLmNsb3NlKCkKICAgICAgfSwgMTAwMDApCiAgICB9LAogICAgc2VhcmNoX2l0ZW0gKGtleXdvcmQpIHsKICAgICAgdGhpcy5pdGVtX2luZm8gPSAnJwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2hhbmdlSXRlbUluZm8nLCAnJykKICAgICAgdGhpcy5rZXl3b3JkID0ga2V5d29yZAogICAgICB0aGlzLmdldF9pdGVtX21lbnUoa2V5d29yZCkKICAgIH0sCiAgICBsb2FkQ29uZmlnICgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzCiAgICAgIHZhciB1cmwgPSB0aGlzLkRvY0NvbmZpZy5zZXJ2ZXIgKyAnL2FkbWluU2V0dGluZy9sb2FkTGFuZ0NvbmZpZycKICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKQogICAgICB0aGF0LiRodHRwLmdldCh1cmwsIHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICB9CiAgICAgICAgICB0aGF0Lml0ZW1sYW5nSWQyID0gMAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRhbGVydChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpCiAgICAgICAgfQogICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgIH0pCiAgICB9CiAgfSwKICBtb3VudGVkICgpIHsKICAgIHRoaXMubG9hZENvbmZpZygpCiAgICB0aGlzLmdldF9pdGVtX21lbnUodGhpcy5rZXl3b3JkKQogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NoYW5nZU9wZW5DYXRJZCcsIDApCiAgfSwKICBiZWZvcmVEZXN0cm95ICgpIHsKICAgIHRoaXMuJG1lc3NhZ2UuY2xvc2VBbGwoKQogICAgZG9jdW1lbnQudGl0bGUgPSAnRG9jJwogIH0KfQo="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/components/item/show","sourcesContent":["<template>\n  <div class=\"hello\">\n    <Header></Header>\n    <!-- 展示常规项目 -->\n    <ShowRegularItem\n      :item_info=\"item_info\"\n      :search_item=\"search_item\"\n      :keyword=\"keyword\"\n      v-on:itemlangId2=\"item_langId2\"\n      v-if=\"item_info && (item_info.itemtype == 1 || item_info.itemtype == 3 || item_info.itemtype === '0' || item_info.itemtype === 0 )\"\n    ></ShowRegularItem>\n\n    <!-- 展示单页项目 -->\n    <ShowSinglePageItem :item_info=\"item_info\" v-if=\"item_info && item_info.itemtype == 2 \"></ShowSinglePageItem>\n\n    <!-- 展示表格项目 -->\n    <ShowTableItem :item_info=\"item_info\" v-if=\"item_info && item_info.itemtype == 4 \"></ShowTableItem>\n\n    <Footer></Footer>\n  </div>\n</template>\n\n<script>\nimport ShowRegularItem from './show_regular_item/Index'\nimport ShowSinglePageItem from './show_single_page_item/Index'\nimport ShowTableItem from './show_table_item/Index'\nexport default {\n  data () {\n    return {\n      item_info: '',\n      keyword: '',\n      itemlangId2: '',\n      itemlangId3: ''\n      // loading: false\n    }\n  },\n  components: {\n    ShowRegularItem,\n    ShowSinglePageItem,\n    ShowTableItem\n  },\n  methods: {\n    item_langId2 (value) {\n      this.itemlangId2 = value\n      if (value !== undefined) {\n        this.item_info = ''\n        this.get_item_menu(this.keyword)\n      }\n    },\n    // 获取菜单\n    async get_item_menu (keyword) {\n      if (!keyword) {\n        keyword = ''\n      }\n      // var loading = this.$loading()\n      var item_id = this.$route.params.item_id ? this.$route.params.item_id : 0\n      var page_id = this.$route.query.page_id ? this.$route.query.page_id : 0\n      var url = this.DocConfig.server + '/item/info'\n      var formdata = new FormData()\n      formdata.append('id', item_id)\n      formdata.append('keyword', keyword)\n      formdata.append('lang_id', this.itemlangId2)\n      if (!this.keyword) {\n        formdata.append('defaultpageid', page_id)\n      }\n      const { data: res } = await this.$http.post(url, formdata)\n      if (res.status === 200) {\n        // loading.close()\n        var json = res.data\n        if (json.defaultpageid <= 0 || json.defaultpageid === undefined) {\n          if (json.menu.pages[0]) {\n            json.defaultpageid = String(json.menu.pages[0].ID)\n          }\n        }\n        this.item_info = json\n        if (json.unread_count > 0) {\n          this.$message({\n            showClose: true,\n            duration: 10000,\n            dangerouslyUseHTMLString: true,\n            message: '<a href=\"#/notice/index\">你有新的未读消息，点击查看</a>'\n          })\n        }\n      } else if (res.status === 10307) {\n        // 需要输入密码\n        this.$router.replace({\n          path: '/item/password/' + item_id,\n          query: { page_id: page_id, redirect: this.$router.currentRoute.fullPath }\n        })\n      } else {\n        this.$alert(res.message)\n      }\n      // 设置一个最长关闭时间\n      setTimeout(() => {\n        // loading.close()\n      }, 10000)\n    },\n    search_item (keyword) {\n      this.item_info = ''\n      this.$store.dispatch('changeItemInfo', '')\n      this.keyword = keyword\n      this.get_item_menu(keyword)\n    },\n    loadConfig () {\n      var that = this\n      var url = this.DocConfig.server + '/adminSetting/loadLangConfig'\n      var params = new URLSearchParams()\n      that.$http.get(url, params).then(function (response) {\n        if (response.data.status === 200) {\n          if (response.data.data.length === 0) {\n            return\n          }\n          that.itemlangId2 = 0\n        } else {\n          this.$alert(response.data.message)\n        }\n      })\n        .catch(function (error) {\n          console.log(error)\n        })\n    }\n  },\n  mounted () {\n    this.loadConfig()\n    this.get_item_menu(this.keyword)\n    this.$store.dispatch('changeOpenCatId', 0)\n  },\n  beforeDestroy () {\n    this.$message.closeAll()\n    document.title = 'Doc'\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n"]}]}