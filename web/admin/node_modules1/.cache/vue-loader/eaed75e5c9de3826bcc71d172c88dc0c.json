{"remainingRequest":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/item/show/show_regular_item/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/item/show/show_regular_item/Index.vue","mtime":1629778362254},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFZGl0b3JtZCBmcm9tICJAL2NvbXBvbmVudHMvY29tbW9uL0VkaXRvcm1kIjsKaW1wb3J0IEJhY2tUb1RvcCBmcm9tICJAL2NvbXBvbmVudHMvY29tbW9uL0JhY2tUb1RvcCI7CmltcG9ydCBUb2MgZnJvbSAiQC9jb21wb25lbnRzL2l0ZW0vc2hvdy9zaG93X3JlZ3VsYXJfaXRlbS9Ub2MiOwppbXBvcnQgTGVmdE1lbnUgZnJvbSAiQC9jb21wb25lbnRzL2l0ZW0vc2hvdy9zaG93X3JlZ3VsYXJfaXRlbS9MZWZ0TWVudSI7CmltcG9ydCBPcEJhciBmcm9tICJAL2NvbXBvbmVudHMvaXRlbS9zaG93L3Nob3dfcmVndWxhcl9pdGVtL09wQmFyIjsKaW1wb3J0IEF0dGFjaG1lbnRMaXN0IGZyb20gIkAvY29tcG9uZW50cy9wYWdlL2VkaXQvQXR0YWNobWVudExpc3QiOwppbXBvcnQgeyByZWRlclBhZ2VDb250ZW50IH0gZnJvbSAiQC9tb2RlbHMvcGFnZSI7CmNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaXRlbV9pbmZvOiB7fSwKICAgIHNlYXJjaF9pdGVtOiB7fSwKICAgIGtleXdvcmQ6IHt9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udGVudDogIiMjI+ato+WcqOWKoOi9vS4uLiIsCiAgICAgIHBhZ2VfaWQ6ICIiLAogICAgICBwYWdlX3RpdGxlOiAiIiwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHNoYXJlX2l0ZW1fbGluazogIiIsCiAgICAgIHFyX2l0ZW1fbGluazogIiIsCiAgICAgIHBhZ2VfaW5mbzogIiIsCiAgICAgIGNvcHlUZXh0OiAiIiwKICAgICAgYXR0YWNobWVudF9jb3VudDogIiIsCiAgICAgIGZ1bGxQYWdlOiBmYWxzZSwKICAgICAgc2hvd2Z1bGxQYWdlQnRuOiBmYWxzZSwKICAgICAgc2hvd1RvYzogdHJ1ZSwKICAgICAgc2hvd0NvbXA6IHRydWUsCiAgICAgIGl0ZW1sYW5nSWQ6ICIiLAogICAgICBzZWxlY3RlZDogIiIsCiAgICAgIGl0ZW1sYW5nOiBbXSwKICAgICAgbGFuZ3M6IFtdLAogICAgICBpY29uOiAiIiwKICAgICAgdmFsdWU6IHt9LAogICAgICB2YWx1ZTE6IG51bGwsCiAgICAgIGxhbmdfYXJyYXk6IFtdLAogICAgICBzaG93X2hlYWRlcjogdHJ1ZSwKICAgICAgaW5mb1Byb2ZpbGU6W10sCiAgICAgIGltZzonJywKICAgICAgdGl0bGU6JycsCiAgICAgIGhlYWRlcl9saW5rOltdLAogICAgICBsb2dvdXJsOiAnLyMvJyt0aGlzLiRyb3V0ZS5wYXJhbXMuaXRlbV9pZCwKICAgICAgdGV4dGFyZWE6ICcnLAogICAgICBsb2dpbkZvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgcmVnaXN0ZXJGb3JtVmlzaWJsZTpmYWxzZSwKICAgICAgZm9ybUxhYmVsV2lkdGg6ICcxMjBweCcsCiAgICAgIHBhZ2U6IDEsCiAgICAgIGNvdW50OiA3LAogICAgICB0b3RhbDogMCwKICAgICAgY29tbWVudExpc3Q6IFtdLAogICAgICBlbmFibGVDb21tZW50OiB0cnVlLAogICAgICBmb3JtZGF0YTp7CiAgICAgICAgICAgICAgICB1c2VybmFtZTonJywKICAgICAgICAgICAgICAgIHBhc3N3b3JkOicnCiAgICAgIH0sCiAgICAgIHJlZ2lzdGVyZGF0YTp7CiAgICAgICAgICAgICAgICB1c2VybmFtZTonJywKICAgICAgICAgICAgICAgIHBhc3N3b3JkOicnLAogICAgICAgICAgICAgICAgbmFtZTonJwogICAgICB9LAogICAgICBoZWFkZXJzOnsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246JycsCiAgICAgICAgICAgICAgICB1c2VybmFtZTonJwogICAgICAgICAgICB9LAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEVkaXRvcm1kLAogICAgTGVmdE1lbnUsCiAgICBPcEJhciwKICAgIEJhY2tUb1RvcCwKICAgIFRvYywKICAgIEF0dGFjaG1lbnRMaXN0CiAgfSwKICBjb21wdXRlZDogewogICAgYmVsb25nX3RvX2xhbmc6IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIGlmICh0aGF0Lml0ZW1faW5mby5sYW5nX2xpc3QgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgICB2YXIgbGFuZ0luZm8gPSB0aGF0Lml0ZW1faW5mby5sYW5nX2xpc3Quc3BsaXQoIiwiKTsKICAgICAgdmFyIGxhbmdfYXJyYXkgPSBbXTsKCiAgICAgIGlmICh0aGF0LmxhbmdzLmxlbmd0aCA+IDApIHsKICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxhbmdJbmZvLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBpZiAobGFuZ0luZm9ba10gPT09ICIiKSB7CiAgICAgICAgICAgIHJldHVybiB0aGF0LmxhbmdzOwogICAgICAgICAgfQogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGF0LmxhbmdzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGlmICh0aGF0LmxhbmdzW2pdLmlkID09PSBwYXJzZUludChsYW5nSW5mb1trXSkpIHsKICAgICAgICAgICAgICBsYW5nX2FycmF5LnB1c2goewogICAgICAgICAgICAgICAgaWQ6IHRoYXQubGFuZ3Nbal0uaWQsCiAgICAgICAgICAgICAgICBuYW1lOiB0aGF0LmxhbmdzW2pdLm5hbWUsCiAgICAgICAgICAgICAgICBpY29uOiB0aGF0LmxhbmdzW2pdLmljb24KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbGFuZ19hcnJheTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGl0ZW1fbGFuZ0lkKHZhbHVlKSB7CiAgICAgIHRoaXMuaXRlbWxhbmdJZCA9IHZhbHVlOwogICAgICB0aGlzLiRlbWl0KCJpdGVtbGFuZ0lkMiIsIHRoaXMuaXRlbWxhbmdJZCk7CiAgICAgIHRoaXMuaXRlbV9pbmZvLmRlZmF1bHRwYWdlaWQgPSAwOwogICAgfSwKICAgIGRhdGVGb3JtYXQ6IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICB2YXIgZGF0ZSA9IHJvd1tjb2x1bW4ucHJvcGVydHldCiAgICAgIGlmIChkYXRlID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gJycKICAgICAgfQogICAgICByZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpCiAgICB9LAogICAgLy8g6I635Y+W6aG16Z2i5YaF5a65CiAgICBnZXRfcGFnZV9jb250ZW50KHBhZ2VfaWQpIHsKICAgICAgaWYgKHBhZ2VfaWQgPD0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmFkYXB0U2NyZWVuKCk7CgogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciB1cmwgPSBEb2NDb25maWcuc2VydmVyICsgIi9hZG1pbi9wYWdlIjsKICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTsKICAgICAgcGFyYW1zLmFwcGVuZCgicGFnZV9pZCIsIHBhZ2VfaWQpOwogICAgICB0aGF0LiRodHRwLnBvc3QodXJsLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAvLyBsb2FkaW5nLmNsb3NlKCkKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgdGhhdC5jb250ZW50ID0gcmVkZXJQYWdlQ29udGVudCgKICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5kYXRhLnBhZ2Vjb250ZW50LAogICAgICAgICAgICB0aGF0LiRzdG9yZS5zdGF0ZS5pdGVtX2luZm8uZ2xvYmFsX3BhcmFtCiAgICAgICAgICApOwogICAgICAgICAgdGhhdC4kc3RvcmUuZGlzcGF0Y2goImNoYW5nZU9wZW5DYXRJZCIsIHJlc3BvbnNlLmRhdGEuZGF0YS5jYXRpZCk7CiAgICAgICAgICB0aGF0LnBhZ2VfdGl0bGUgPSByZXNwb25zZS5kYXRhLmRhdGEucGFnZXRpdGxlOwogICAgICAgICAgdGhhdC5wYWdlX2luZm8gPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICB0aGF0LmF0dGFjaG1lbnRfY291bnQgPQogICAgICAgICAgICByZXNwb25zZS5kYXRhLmF0dGFjaG1lbnRfY291bnQgPiAwCiAgICAgICAgICAgICAgPyByZXNwb25zZS5kYXRhLmF0dGFjaG1lbnRfY291bnQKICAgICAgICAgICAgICA6ICIiOwogICAgICAgICAgLy8g5YiH5o2i5Y+Y6YeP6K6p5a6D6YeN5paw5Yqg6L2944CB5riy5p+T5a2Q57uE5Lu2CiAgICAgICAgICB0aGF0LnBhZ2VfaWQgPSAwOwogICAgICAgICAgdGhhdC5nZXRfY29tbWVudCgpCiAgICAgICAgICB0aGF0Lml0ZW1faW5mby5kZWZhdWx0cGFnZWlkID0gcGFnZV9pZDsKICAgICAgICAgIHRoYXQuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgdGhhdC5wYWdlX2lkID0gcGFnZV9pZDsKICAgICAgICAgICAgLy8g6aG16Z2i5Zue5Yiw6aG26YOoCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7CiAgICAgICAgICAgIC8vZG9jdW1lbnQudGl0bGUgPSB0aGF0LnBhZ2VfdGl0bGUgKyctLScrdGhhdC5pdGVtX2luZm8uaXRlbXRpdGxlKyAnLS1Eb2MnCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhhdC4kYWxlcnQocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOagueaNruWxj+W5leWuveW6pui/m+ihjOWTjeW6lCjlupTlr7nnp7vliqjorr7lpIfnmoTorr/pl64pCiAgICBhZGFwdFRvTW9iaWxlKCkgewogICAgICBjb25zdCBjaGlsZFJlZiA9IHRoaXMuJHJlZnMubGVmdE1lbnU7IC8vIOiOt+WPluWtkOe7hOS7tgogICAgICBjaGlsZFJlZi5oaWRlX21lbnUoKTsKICAgICAgdGhpcy5zaG93X3BhZ2VfYmFyID0gZmFsc2U7CiAgICAgIHZhciBkb2NfY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvYy1jb250YWluZXIiKTsKICAgICAgZG9jX2NvbnRhaW5lci5zdHlsZS53aWR0aCA9ICI5NSUiOwogICAgICBkb2NfY29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAiNXB4IjsKICAgICAgdmFyIGhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoZWFkZXIiKTsKICAgICAgaGVhZGVyLnN0eWxlLmhlaWdodCA9ICIxMHB4IjsKICAgICAgdmFyIGRvY1RpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvYy10aXRsZS1ib3giKTsKICAgICAgZG9jVGl0bGUuc3R5bGUubWFyZ2luVG9wID0gIjQwcHgiOwogICAgICB0aGlzLnNob3dUb2MgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDmoLnmja7lsY/luZXlrr3luqbov5vooYzlk43lupTjgILlupTlr7nlsI/lsY/luZVwY+iuvuWkhyjlpoLnrJTorrDmnKwp55qE6K6/6ZeuCiAgICBhZGFwdFRvU21hbGxwYygpIHsKICAgICAgdmFyIGRvY19jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZG9jLWNvbnRhaW5lciIpOwogICAgICBkb2NfY29udGFpbmVyLnN0eWxlLndpZHRoID0gImNhbGMoIDk1JSAtIDMwMHB4ICkiOwogICAgICBkb2NfY29udGFpbmVyLnN0eWxlLm1hcmdpbkxlZnQgPSAiMzAwcHgiOwogICAgICBkb2NfY29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAiMjBweCI7CiAgICAgIHZhciBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGVhZGVyIik7CiAgICAgIGhlYWRlci5zdHlsZS5oZWlnaHQgPSAiMjBweCI7CiAgICAgIHZhciBkb2NUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkb2MtdGl0bGUtYm94Iik7CiAgICAgIGRvY1RpdGxlLnN0eWxlLm1hcmdpblRvcCA9ICIzMHB4IjsKICAgIH0sCiAgICAvLyDlk43lupTlvI8KICAgIGFkYXB0U2NyZWVuKCkgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgLy8g5qC55o2u5bGP5bmV5a695bqm6L+b6KGM5ZON5bqUKOW6lOWvueenu+WKqOiuvuWkh+eahOiuv+mXrikKICAgICAgICBpZiAodGhpcy5pc01vYmlsZSgpIHx8IHdpbmRvdy5pbm5lcldpZHRoIDwgMTMwMCkgewogICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTMwMCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDExMDApIHsKICAgICAgICAgICAgdGhpcy5hZGFwdFRvU21hbGxwYygpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5hZGFwdFRvTW9iaWxlKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbkNvcHkoKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UodGhpcy4kdCgiY29weV9zdWNjZXNzIikpOwogICAgfSwKICAgIFNob3dBdHRhY2htZW50KCkgewogICAgICBjb25zdCBjaGlsZFJlZiA9IHRoaXMuJHJlZnMuQXR0YWNobWVudExpc3Q7IC8vIOiOt+WPluWtkOe7hOS7tgogICAgICBjaGlsZFJlZi5zaG93KCk7CiAgICB9LAogICAgY2xpY2tGdWxsUGFnZSgpIHsKICAgICAgdmFyICQgPSByZXF1aXJlKCJqcXVlcnkiKTsKICAgICAgLy8g54K55Ye75pS+5aSn6aG16Z2i44CC55Sx5LqO5Y6G5Y+y5YyF6KKx77yM5Y+q6IO95pON5L2cZG9t44CC6L+Z5piv5LiN6KeE6IyD55qE77yM5L2G5piv546w5Zyo5rKh5pe26Ze06YeN5p6E5pW05Z2X6aG16Z2iCiAgICAgIGlmICh0aGlzLmZ1bGxQYWdlKSB7CiAgICAgICAgLy8g6YCa6L+Hdi1pZuaMh+S7pOi1t+WIsOWIt+aWsOe7hOS7tueahOS9nOeUqAogICAgICAgIHRoaXMuc2hvd0NvbXAgPSBmYWxzZTsKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLnNob3dDb21wID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFkYXB0VG9Nb2JpbGUoKTsKICAgICAgICB2YXIgcGFnZV9pZCA9IHRoaXMucGFnZV9pZDsKICAgICAgICB0aGlzLnBhZ2VfaWQgPSAwOwogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHRoaXMucGFnZV9pZCA9IHBhZ2VfaWQ7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgJCgiLmVkaXRvcm1kLWh0bWwtcHJldmlldyIpLmNzcygiZm9udC1zaXplIiwgIjE2cHgiKTsKICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgfSk7CiAgICAgICAgJCgiI2xlZnQtc2lkZSIpLmhpZGUoKTsKICAgICAgICAkKCIub3AtYmFyIikuaGlkZSgpOwogICAgICAgICQoIi5oZWFkZXIiKS5oaWRlKCk7CiAgICAgIH0KICAgICAgdGhpcy5mdWxsUGFnZSA9ICF0aGlzLmZ1bGxQYWdlOwogICAgfSwKICAgIGp1bXBfdG9faXRlbSAodXJscykgewogICAgICAgICBjb25zdCB1cmwgPSAnaHR0cDovLycgKyB1cmxzCiAgICAgICAgIHdpbmRvdy5vcGVuKHVybCkKICAgIH0sCiAgICBMYW5nQ2hhbmdlKHZhbHVlKSB7CiAgICAgIHRoaXMuaXRlbV9sYW5nSWQodmFsdWUuaWQpOwogICAgICB0aGlzLnNlbGVjdGVkID0gdmFsdWU7CiAgICAgIHRoaXMuZ2V0X2l0ZW1faGVhZGVyKHZhbHVlLmlkKQogICAgICAvLyBpZiAodGhpcy4kY29va2llcy5nZXQoJ3NlbGVjdGVkJykgPT09IG51bGwpIHsKICAgICAgdGhpcy4kY29va2llcy5zZXQoInNlbGVjdGVkIiwgdmFsdWUuaWNvbik7CiAgICAgIC8vIH0KICAgICAgaWYgKAogICAgICAgIHZhbHVlLm5hbWUgPT09ICJFbmdsaXNoIiB8fAogICAgICAgIHZhbHVlLmljb24gPT09ICIjaWNvbi13b3JsZC1mbGFnXy1HQlItLVVuaXRlZEtpbmdkb20iCiAgICAgICkgewogICAgICAgIHRoaXMubG9jYWxlID0gIkVOX1VTIjsKICAgICAgICB0aGlzLmxhbmcgPSB0cnVlOwogICAgICAgIC8vIHRoaXMuJGNvb2tpZXMuc2V0KCdsbmcnLCB0aGlzLmxvY2FsZSA9PT0gJ0VOX1VTJyA/IHRoaXMubG9jYWxlIDogdGhpcy5sb2NhbGUsICcxZCcpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sYW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5sb2NhbGUgPSAiWkhfQ04iOwogICAgICAgIC8vIHRoaXMuJGNvb2tpZXMuc2V0KCdsbmcnLCB0aGlzLmxvY2FsZSA9PT0gJ1pIX0NOJyA/IHRoaXMubG9jYWxlIDogdGhpcy5sb2NhbGUsICczMGQnKQogICAgICB9CiAgICB9LAogICAgZ2V0X2xhbmcoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHVybCA9IERvY0NvbmZpZy5zZXJ2ZXIgKyAiL2xhbmciOwogICAgICB2YXIgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwogICAgICB0aGF0LiRodHRwCiAgICAgICAgLmdldCh1cmwsIHBhcmFtcykKICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgdGhhdC5sYW5ncyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZV9jb21tZW50KGlkKXsKICAgICAgdmFyIHRoYXQgPSB0aGlzCiAgICAgIHZhciB1cmwgPSBEb2NDb25maWcuc2VydmVyICsgJy9kZWxjb21tZW50JwogICAgICB0aGlzLiRjb25maXJtKHRoYXQuJHQoJ2NvbWZpcm1fZGVsZXRlJyksICcgJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiB0aGF0LiR0KCdjb25maXJtJyksCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogdGhhdC4kdCgnY2FuY2VsJyksCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCkKICAgICAgICBwYXJhbXMuYXBwZW5kKCdjb21tZW50X2lkJywgaWQpCiAgICAgICAgdGhhdC4kaHR0cC5wb3N0KHVybCwgcGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS5zdWNjZXNzKHJlc3BvbnNlLmRhdGEubWVzc2FnZSkKICAgICAgICAgICAgdGhhdC5nZXRfY29tbWVudCgpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGF0LiRhbGVydChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICBsb2FkQ29uZmlnKCkgewogICAgICB2YXIgaXRlbV9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pdGVtX2lkID8gdGhpcy4kcm91dGUucGFyYW1zLml0ZW1faWQgOiAwOwogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciB1cmwgPSBEb2NDb25maWcuc2VydmVyICsgIi9hZG1pblNldHRpbmcvbG9hZExhbmdDb25maWciOwogICAgICB2YXIgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwogICAgICBwYXJhbXMuYXBwZW5kKCJpZCIsIGl0ZW1faWQpOwogICAgICB0aGF0LiRodHRwLnBvc3QodXJsLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS5pZCA9PT0gMCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB0aGF0LnNlbGVjdGVkID0KICAgICAgICAgICAgJzx1c2UgeGxpbms6aHJlZj0iJyArIHJlc3BvbnNlLmRhdGEuZGF0YS5pY29uICsgJyI+PC91c2U+JzsKICAgICAgICAgIHRoYXQuJGNvb2tpZXMuc2V0KCJzZWxlY3RlZCIsIHRoYXQuc2VsZWN0ZWQpOwogICAgICAgICAgdGhhdC52YWx1ZSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgIHRoYXQudmFsdWUuaWNvbiA9CiAgICAgICAgICAgICc8dXNlIHhsaW5rOmhyZWY9IicgKyByZXNwb25zZS5kYXRhLmRhdGEuaWNvbiArICciPjwvdXNlPic7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuYWNjZXNzID09PSAxKSB7CiAgICAgICAgICAgIC8vIGRlZmF1bHRsYW5nIOaYr+WFqOWxgOivreiogAogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZGVmYXVsdGxhbmciLCB0aGF0LnZhbHVlLmlkKTsKICAgICAgICAgICAgdGhhdC5MYW5nQ2hhbmdlKHRoYXQudmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGF0LiRhbGVydChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcHVibGljbG9hZENvbmZpZyh2YWx1ZSkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciB1cmwgPSBEb2NDb25maWcuc2VydmVyICsgIi9wdWJsaWMvbGFuZyI7CiAgICAgIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7CiAgICAgIHBhcmFtcy5hcHBlbmQoImxhbmciLCB2YWx1ZSk7CiAgICAgIHRoYXQuJGh0dHAucG9zdCh1cmwsIHBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhLmlkID09PSAwKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIHRoYXQudmFsdWUgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICB0aGF0LnZhbHVlLmljb24gPQogICAgICAgICAgICAnPHVzZSB4bGluazpocmVmPSInICsgcmVzcG9uc2UuZGF0YS5kYXRhLmljb24gKyAnIj48L3VzZT4nOwogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuYWNjZXNzID09PSAxKSB7CiAgICAgICAgICAgIHRoYXQuTGFuZ0NoYW5nZSh0aGF0LnZhbHVlKTsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZCA9Jzx1c2UgeGxpbms6aHJlZj0iJyArIHJlc3BvbnNlLmRhdGEuZGF0YS5pY29uICsgJyI+PC91c2U+JzsKICAgICAgICAgICAgdGhpcy4kY29va2llcy5zZXQoInNlbGVjdGVkIiwgdGhhdC5zZWxlY3RlZCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJGFsZXJ0KHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRfbGFuZzEodmFsdWUpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgdXJsID0gRG9jQ29uZmlnLnNlcnZlciArICIvbGFuZy9pbmZvIjsKICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTsKICAgICAgcGFyYW1zLmFwcGVuZCgiaWNvbiIsIHZhbHVlKTsKICAgICAgdGhhdC4kaHR0cC5wb3N0KHVybCwgcGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEuaWQgPT09IDApIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgdGhhdC5zZWxlY3RlZCA9CiAgICAgICAgICAgICc8dXNlIHhsaW5rOmhyZWY9IicgKyByZXNwb25zZS5kYXRhLmRhdGEuaWNvbiArICciPjwvdXNlPic7CiAgICAgICAgICB0aGF0LiRjb29raWVzLnNldCgic2VsZWN0ZWQiLCB0aGF0LnNlbGVjdGVkKTsKICAgICAgICAgIHRoYXQudmFsdWUgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICB0aGF0LnZhbHVlLmljb24gPQogICAgICAgICAgICAnPHVzZSB4bGluazpocmVmPSInICsgcmVzcG9uc2UuZGF0YS5kYXRhLmljb24gKyAnIj48L3VzZT4nOwogICAgICAgICAgdGhhdC5nZXRfaXRlbV9oZWFkZXIodGhhdC52YWx1ZS5pZCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhhdC4kYWxlcnQocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UgKGN1cnJlbnRQYWdlKSB7CiAgICAgIHRoaXMucGFnZSA9IGN1cnJlbnRQYWdlCiAgICAgIHRoaXMuZ2V0X2NvbW1lbnQoKQogICAgfSwKICAgIGxvZ2lub3V0KCl7CiAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5jbGVhcigndG9rZW4nKQogICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuY2xlYXIoJ3VzZXJuYW1lJykKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfpgIDlh7rmiJDlip8nKQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oMCkKICAgIH0sCiAgICBjYW5jZWxSZWdpc3RlcigpewogICAgICAgICAgdGhpcy5yZWdpc3RlckZvcm1WaXNpYmxlID0gZmFsc2UKICAgICAgICAgIHRoaXMucmVnaXN0ZXJkYXRhLnVzZXJuYW1lID0nJwogICAgICAgICAgdGhpcy5yZWdpc3RlcmRhdGEucGFzc3dvcmQgPScnCiAgICAgICAgICB0aGlzLnJlZ2lzdGVyZGF0YS5uYW1lID0nJwoKICAgIH0sCiAgICBjYW5jZWxMb2dpbigpewogICAgICAgICAgdGhpcy5sb2dpbkZvcm1WaXNpYmxlID0gZmFsc2UKICAgICAgICAgIHRoaXMuZm9ybWRhdGEudXNlcm5hbWUgPScnCiAgICAgICAgICB0aGlzLmZvcm1kYXRhLnBhc3N3b3JkID0nJwogICAgfSwKICAgIGdldF9pdGVtX2luZm8oKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHVybCA9IERvY0NvbmZpZy5zZXJ2ZXIgKyAiL2l0ZW0vZGV0YWlsIjsKICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTsKICAgICAgcGFyYW1zLmFwcGVuZCgiaXRlbV9pZCIsIHRoYXQuJHJvdXRlLnBhcmFtcy5pdGVtX2lkKTsKICAgICAgdGhhdC4kaHR0cAogICAgICAgIC5wb3N0KHVybCwgcGFyYW1zKQogICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICB2YXIgSW5mbyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgaWYgKEluZm8ucGFzc3dvcmQpIHsKICAgICAgICAgICAgICB0aGF0LmlzT3Blbkl0ZW0gPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoSW5mby5sYW5nID09PSAxKSB7CiAgICAgICAgICAgICAgSW5mby5sYW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoSW5mby5sYW5nID09PSAyKSB7CiAgICAgICAgICAgICAgSW5mby5sYW5nID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGF0Lk15Rm9ybSA9IEluZm87CiAgICAgICAgICAgIHRoYXQubGluayA9ICIvIiArIHRoYXQuTXlGb3JtLmxpbms7CiAgICAgICAgICAgIHRoYXQubGFuZyA9IHRoYXQuTXlGb3JtLmxhbmc7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGF0LiRhbGVydChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogICAgaGlkZWxvZ2luKCl7CiAgICAgIHRoaXMubG9naW5Gb3JtVmlzaWJsZT1mYWxzZQogICAgICB0aGlzLnJlZ2lzdGVyRm9ybVZpc2libGUgPSB0cnVlCiAgICB9LAogICAgaGlkZVJlZ2lzdGVyKCl7CiAgICAgIHRoaXMubG9naW5Gb3JtVmlzaWJsZT10cnVlCiAgICAgIHRoaXMucmVnaXN0ZXJGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICB9LAogICAgYXN5bmMgb25TdWJtaXQgKCkgewogICAgICAvLyB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3ModGhpcy51c2VybmFtZSk7CiAgICAgIHZhciB1cmwgPSBEb2NDb25maWcuc2VydmVyICsgJy9ndWVzdC9sb2dpbicKICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCh1cmwsIHsKICAgICAgICB1c2VybmFtZTogdGhpcy5mb3JtZGF0YS51c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogdGhpcy5mb3JtZGF0YS5wYXNzd29yZAogICAgICB9KQogICAgICBpZiAocmVzLnN0YXR1cyAhPT0gMjAwKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXJuYW1lJyxyZXMuZGF0YSkKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXJfaWQnLHJlcy5pZCkKICAgICAgdGhpcy5sb2dpbkZvcm1WaXNpYmxlID0gZmFsc2UKICAgICAgdGhpcy4kcm91dGVyLmdvKDApCiAgICB9LAogICAgZ2V0X2l0ZW1fYXZhdGFyKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciB1cmwgPSBEb2NDb25maWcuc2VydmVyICsgIi9hdmF0YXIvcHJvZmlsZSIKICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKQogICAgICBwYXJhbXMuYXBwZW5kKCJpdGVtX2lkIiwgdGhhdC4kcm91dGUucGFyYW1zLml0ZW1faWQpCiAgICAgIHRoYXQuJGh0dHAKICAgICAgICAucG9zdCh1cmwsIHBhcmFtcykKICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgdmFyIEluZm8gPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgICAgICAgdGhhdC5pbmZvUHJvZmlsZSA9IEluZm8KICAgICAgICAgICAgdGhhdC5pbWcgPSB0aGF0LmluZm9Qcm9maWxlLmF2YXRhclVybAogICAgICAgICAgICB0aGF0LnRpdGxlID0gdGhhdC5pbmZvUHJvZmlsZS5hdmF0YXJOYW1lCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBnZXRfaXRlbV9oZWFkZXIgKHZhbHVlKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcwogICAgICB2YXIgdXJsID0gRG9jQ29uZmlnLnNlcnZlciArICcvYXZhdGFyL2dldEhlYWRlcicKICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKQogICAgICBwYXJhbXMuYXBwZW5kKCdpdGVtX2lkJywgdGhhdC4kcm91dGUucGFyYW1zLml0ZW1faWQpCiAgICAgIHBhcmFtcy5hcHBlbmQoJ2xhbmdfaWQnLCB2YWx1ZSkKICAgICAgdGhhdC4kaHR0cAogICAgICAgIC5wb3N0KHVybCwgcGFyYW1zKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICB2YXIgSW5mbzEgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgICAgICB0aGF0LmhlYWRlcl9saW5rID0gSW5mbzEKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoYXQuJGFsZXJ0KHJlc3BvbnNlLmRhdGEubWVzc2FnZSkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgIH0pCiAgICB9LAogICBhc3luYyBvblJlZ2lzdGVyKCkgewogICAgIHZhciB1cmwgPSBEb2NDb25maWcuc2VydmVyICsgJy9ndWVzdC9yZWdpc3RlcicKCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QodXJsLCB7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMucmVnaXN0ZXJkYXRhLnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnJlZ2lzdGVyZGF0YS5wYXNzd29yZCwKICAgICAgICBuYW1lOiB0aGlzLnJlZ2lzdGVyZGF0YS5uYW1lCiAgICAgIH0pCiAgICAgIGlmIChyZXMuc3RhdHVzICE9PSAyMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKQogICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmt7vliqDnlKjmiLfmiJDlip8nKQogICAgICAgIHRoaXMucmVnaXN0ZXJGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICAgIH0KICAgfSwKICAgZ2V0X2NvbW1lbnQoKXsKICAgIHZhciB0aGF0ID0gdGhpcwogICAgdmFyIHVybCA9IERvY0NvbmZpZy5zZXJ2ZXIgKyAnL2NvbW1lbnRmcm9udCcKICAgIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCkKICAgIHBhcmFtcy5hcHBlbmQoJ3BhZ2VfaWQnLHRoYXQuJHJvdXRlLnF1ZXJ5LnBhZ2VfaWQpCiAgICBwYXJhbXMuYXBwZW5kKCdwYWdlJywgdGhhdC5wYWdlKQogICAgcGFyYW1zLmFwcGVuZCgnY291bnQnLCB0aGF0LmNvdW50KQogICAgICAgIHRoYXQuJGh0dHAucG9zdCh1cmwsIHBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICB0aGF0LmNvbW1lbnRMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhCiAgICAgICAgICAgdGhhdC50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWwKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kYWxlcnQocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICB9LAogICBwdXNoQ29tbWVudCgpewogICAgdmFyIHRoYXQgPSB0aGlzCiAgICB2YXIgdXJsID0gRG9jQ29uZmlnLnNlcnZlciArICcvYWRkY29tbWVudCcKICAgIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zCiAgICBwYXJhbXMuYXBwZW5kKCdndWVzdF9pZCcsd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKSkKICAgIHBhcmFtcy5hcHBlbmQoJ3VzZXJuYW1lJyx3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSkKICAgIHBhcmFtcy5hcHBlbmQoJ3JhdGUnLHRoaXMudmFsdWUxKQogICAgcGFyYW1zLmFwcGVuZCgnY29udGVudCcsdGhpcy50ZXh0YXJlYSkKICAgIHBhcmFtcy5hcHBlbmQoJ3BhZ2VfaWQnLHRoYXQuJHJvdXRlLnF1ZXJ5LnBhZ2VfaWQpCiAgICB0aGF0LiRodHRwLnBvc3QodXJsLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgIHRoYXQuJG1lc3NhZ2Uuc3VjY2Vzcygn6K+E6K665oiQ5YqfJykKICAgICAgICAgIHRoYXQuZ2V0X2NvbW1lbnQoKQogICAgICAgICAgdGhhdC50ZXh0YXJlYSA9JycKICAgICAgICAgIHRoYXQudmFsdWUxID0gMAoKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kYWxlcnQocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgdmFyIHBhZ2VfaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5wYWdlX2lkID8gdGhpcy4kcm91dGUucXVlcnkucGFnZV9pZCA6IDA7CiAgICB0aGlzLmFkYXB0U2NyZWVuKCk7CiAgICB0aGlzLnNldF9iZ19ncmV5KCk7CiAgICB0aGlzLmdldF9pdGVtX2luZm8oKTsKICAgIHRoaXMuZ2V0X2xhbmcoKTsKICAgIHRoaXMuZ2V0X2l0ZW1fYXZhdGFyKCkKICAgIHRoaXMuaGVhZGVycyA9IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpfWAsCiAgICAgICAgICAgIHVzZXJuYW1lOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKQogICAgICAgIH0KICAgIGlmICh0aGlzLiRjb29raWVzLmdldCgibG5nIikgPT09IG51bGwpIHsKICAgICAgdGhpcy5sb2NhbGUgPSBEb2NDb25maWcubGFuZzsKICAgICAgdGhpcy4kY29va2llcy5zZXQoCiAgICAgICAgImxuZyIsCiAgICAgICAgdGhpcy5sb2NhbGUgPT09ICJFTl9VUyIgPyB0aGlzLmxvY2FsZSA6IHRoaXMubG9jYWxlLAogICAgICAgICIxZCIKICAgICAgKTsKICAgIH0KICAgIGlmICh0aGlzLiRjb29raWVzLmdldCgic2VsZWN0ZWQiKSA9PT0gbnVsbCkgewogICAgICB0aGlzLmxvYWRDb25maWcoKTsKICAgIH0KICAgIGlmICh0aGlzLiRjb29raWVzLmdldCgic2VsZWN0ZWQiKSA9PT0gbnVsbCkgewogICAgICB0aGlzLnB1YmxpY2xvYWRDb25maWcocGFnZV9pZCk7CiAgICB9CgogICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMuJGNvb2tpZXMuZ2V0KCJzZWxlY3RlZCIpOwogICAgaWYgKHRoaXMuc2VsZWN0ZWQgIT09IG51bGwpIHsKICAgICAgdGhpcy5nZXRfbGFuZzEodGhpcy5zZWxlY3RlZCk7CiAgICAgIHRoaXMuJGNvb2tpZXMucmVtb3ZlKCJzZWxlY3RlZCIpOwogICAgfQogICAgaWYgKAogICAgICB0aGlzLmlzTW9iaWxlKCkgfHwKICAgICAgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTMwMCAmJiAhdGhpcy5pdGVtX2luZm8uaXNfbG9naW4pCiAgICApIHsKICAgICAgdGhpcy5zaG93X2hlYWRlciA9IGZhbHNlOwogICAgfQogICAgaWYgKAogICAgICB0aGlzLmlzTW9iaWxlKCkgfHwKICAgICAgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTMwMCAmJiB0aGlzLml0ZW1faW5mby5pc19sb2dpbikKICAgICkgewogICAgICB0aGlzLnNob3dfaGVhZGVyID0gZmFsc2U7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/components/item/show/show_regular_item","sourcesContent":["<template>\n  <div class=\"hello\" v-if=\"showComp\">\n    <Header></Header>\n    <div id=\"header\" class=\"header\">\n      <div class=\"masthead\" v-if=\"show_header\">\n        <div class=\"flex\">\n          <el-button type=\"text\">\n            <div class=\"logo-title \">\n              <el-avatar size=\"large\" :src=\"img\" v-if=\"img\"></el-avatar>\n              <el-link href=\"\"><h1>{{ title }}</h1></el-link>\n            </div>\n          </el-button>\n\n      <el-row >\n  <el-col :span=\"8\" v-for=\"(item,index) in header_link\" :key=\"index\">\n    <div class = header-titles>\n      <el-button type=\"text\" class=\"button\" @click=\"jump_to_item(item.headerUrl)\">{{item.headerName}}</el-button>\n    </div>\n  </el-col>\n</el-row>\n          <div class=\"header-language\">\n            <el-tooltip\n              class=\"item\"\n              effect=\"dark\"\n              :content=\"$t('language1')\"\n              placement=\"top\"\n            >\n              <el-dropdown\n                trigger=\"click\"\n                class=\"el-select-lang\"\n                @command=\"LangChange\"\n                placement=\"top-start\"\n                v-if=\"selected != null\"\n              >\n                <span class=\"el-dropdown-link\">\n                  <svg\n                    class=\"icons\"\n                    aria-hidden=\"true\"\n                    style=\"float: left; color: #8492a6; font-size: 10px\"\n                    v-html=\"selected\"\n                  ></svg>\n                </span>\n                <el-dropdown-menu slot=\"dropdown\">\n                  <el-dropdown-item\n                    v-for=\"itemlang in belong_to_lang\"\n                    :key=\"itemlang.id\"\n                    :label=\"itemlang.name\"\n                    :value=\"itemlang\"\n                    :command=\"itemlang\"\n                  >\n                    {{ itemlang.name }}\n                    <svg\n                      class=\"icon\"\n                      aria-hidden=\"true\"\n                      style=\"float: left; color: #8492a6; font-size: 13px\"\n                      v-html=\"itemlang.icon\"\n                    ></svg>\n                  </el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n            </el-tooltip>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"container doc-container\" id=\"doc-container\">\n      <div id=\"left-side\" style=\"width: 300px;\">\n        <LeftMenu\n          ref=\"leftMenu\"\n          :get_page_content=\"get_page_content\"\n          :keyword=\"keyword\"\n          :item_info=\"item_info\"\n          :search_item=\"search_item\"\n          v-if=\"item_info\"\n        ></LeftMenu>\n      </div>\n\n      <div id=\"right-side\">\n        <div\n          id=\"p-content\"\n          @mouseenter=\"showfullPageBtn = true\"\n          @mouseleave=\"showfullPageBtn = false\"\n        >\n          <div class=\"doc-title-box\" id=\"doc-title-box\">\n            <span id=\"doc-title-span\" class=\"dn\"></span>\n            <h2 id=\"doc-title\">{{ page_title }}</h2>\n            <i\n              class=\"el-icon-full-screen\"\n              id=\"full-page\"\n              v-show=\"showfullPageBtn\"\n              @click=\"clickFullPage\"\n            ></i>\n            <i\n              class=\"el-icon-upload item\"\n              id=\"attachment\"\n              v-if=\"attachment_count\"\n              @click=\"ShowAttachment\"\n            ></i>\n          </div>\n          <div id=\"doc-body\">\n            <div id=\"page_md_content\" class=\"page_content_main\">\n              <Editormd\n                v-bind:content=\"content\"\n                v-if=\"page_id\"\n                type=\"html\"\n                :keyword=\"keyword\"\n              ></Editormd>\n            </div>\n            <el-divider></el-divider>\n            <el-card class=\"box-card1\" v-show='item_info.is_comment != 0'>\n            <div slot=\"header\" >\n            <span>{{$t(\"comment\")}}</span>\n            <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"loginFormVisible = true\" v-if=\"!headers.username\">{{$t(\"login\")}}</el-button>\n            <el-button v-if=\"headers.username &&!item_info.is_login\" type=\"text\" @click=\"loginout\" style=\"float: right; padding: 3px 0\">{{$t(\"logout\")}}</el-button>\n            <el-dialog :visible.sync=\"loginFormVisible\" :close-on-click-modal=\"false\" width=\"980px\">\n              <div class=\"wrap-login100\">\n              <div class=\"login100-pic js-tilt\" style=\"transform:perspective(300px) rotateX(0deg) rotateY(0d);will-change:transform;\">\n                <img src=\"/static/logo/img-01.webp\" alt=\"IMG\">\n              </div>\n              <el-form  status-icon  label-width=\"0px\" class=\"demo-ruleForm\">\n              <h2>{{$t(\"login\")}}</h2>\n              <el-form-item label=\"\" >\n              <el-input type=\"text\" :placeholder=\"$t('account')\" v-model=\"formdata.username\" prefix-icon=\"el-icon-user-solid\" class=\"input100 \"></el-input>\n              </el-form-item>\n              <el-form-item label=\"\" >\n              <el-input type=\"password\" :placeholder=\"$t('password')\" v-model=\"formdata.password\"  show-password prefix-icon=\"el-icon-lock\" class=\"input100\" ></el-input>\n              </el-form-item>\n              <el-button @click=\"cancelLogin()\">{{$t(\"cancel\")}}</el-button>\n              <el-button type=\"primary\" @click=\"onSubmit\" style=\"float: right;\">{{$t(\"Login\")}}</el-button>\n            </el-form>\n\n              </div>\n              <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button type=\"text\" @click=\"hidelogin()\">{{$t(\"create_your_account\")}}<i class=\"el-icon-right\" aria-hidden=\"true\"></i></el-button>\n\n              </div>\n              </el-dialog>\n\n              <el-dialog :visible.sync=\"registerFormVisible\" :close-on-click-modal=\"false\" width=\"980px\">\n              <div class=\"wrap-login100\">\n              <div class=\"login100-pic js-tilt\" style=\"transform:perspective(300px) rotateX(0deg) rotateY(0d);will-change:transform;\">\n                <img src=\"/static/logo/img-01.webp\" alt=\"IMG\">\n              </div>\n              <el-form  status-icon  label-width=\"0px\" class=\"demo-ruleForm\">\n              <h2>{{$t(\"register\")}}</h2>\n              <el-form-item label=\"\" >\n              <el-input type=\"text\" :placeholder=\"$t('account')\" v-model=\"registerdata.username\" prefix-icon=\"el-icon-user-solid\" class=\"input100 \"></el-input>\n              </el-form-item>\n              <el-form-item label=\"\" >\n              <el-input type=\"password\" :placeholder=\"$t('password')\" v-model=\"registerdata.password\" show-password prefix-icon=\"el-icon-lock\" class=\"input100\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"\" >\n              <el-input type=\"name\" :placeholder=\"$t('display_name')\" v-model=\"registerdata.name\" prefix-icon=\"el-icon-user\" class=\"input100\" ></el-input>\n              </el-form-item>\n              <el-button @click=\"cancelRegister()\">{{$t(\"cancel\")}}</el-button>\n              <el-button type=\"primary\" @click=\"onRegister()\" style=\"float: right;\">{{$t(\"confirm\")}}</el-button>\n            </el-form>\n             </div>\n              <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button type=\"text\" @click=\"hideRegister()\">{{$t(\"login\")}}<i class=\"el-icon-right\" aria-hidden=\"true\"/></el-button>\n              </div>\n              </el-dialog>\n            </div>\n              <div v-for=\"item in commentList\" :key=\"item.ID\" class=\"text item\">\n            {{item.username}}>: {{item.CreatedAt | dateformat('YYYY-MM-DD HH:MM')}}\n             <el-tooltip v-if=\"item_info.is_login\" class=\"items\" effect=\"dark\" :content=\"$t('delete_interface')\" placement=\"right\">\n            <i class=\"el-icon-delete\" @click=\"delete_comment(item.ID)\"></i>\n          </el-tooltip>\n            <div > {{item.content}}</div>\n\n            <el-rate v-model=\"item.rate\" show-text></el-rate>\n             <el-divider></el-divider>\n            </div>\n            </el-card>\n            <div class=\"text-center\" v-if=\"commentList\" v-show='item_info.is_comment != 0'>\n            <span class=\"demonstration\"></span>\n            <el-pagination layout=\"prev, next\" :total=\"total\" @current-change=\"handleCurrentChange\" :page-size=\"count\"></el-pagination>\n           </div>\n            <div v-show='item_info.is_comment != 0'>\n              <template>\n                <el-card shadow=\"always\" class=\"box-card1\">\n                <el-alert v-if=\"!headers.username\" type=\"error\" :closable=\"false\">{{$t(\"login_content\")}}</el-alert>\n                <div v-if=\"headers.username\" >\n                    <el-input type=\"textarea\" :rows=\"2\" :placeholder=\"$t('input_content')\" v-model=\"textarea\"></el-input>\n                    <el-rate v-model=\"value1\" show-text></el-rate>\n                    <el-button type=\"primary\" plain size=\"medium\" @click=\"pushComment()\" style=\"float: right; padding: 10px 20px\">{{$t(\"confirm\")}}</el-button>\n                </div>\n                </el-card>\n              </template>\n            </div>\n          </div>\n        </div>\n\n        <OpBar\n          :page_id=\"page_id\"\n          :item_id=\"item_info.id\"\n          :item_info=\"item_info\"\n          :page_info=\"page_info\"\n          v-on:itemlangId=\"item_langId\"\n        ></OpBar>\n      </div>\n    </div>\n\n    <BackToTop></BackToTop>\n    <Toc v-if=\"page_id && showToc\" :item_info=\"item_info\"></Toc>\n\n    <!-- 附件列表 -->\n    <AttachmentList\n      callback\n      :item_id=\"page_info.itemid\"\n      :manage=\"false\"\n      :page_id=\"page_info.ID\"\n      ref=\"AttachmentList\"\n    ></AttachmentList>\n\n    <Footer></Footer>\n  </div>\n</template>\n\n<script>\nimport Editormd from \"@/components/common/Editormd\";\nimport BackToTop from \"@/components/common/BackToTop\";\nimport Toc from \"@/components/item/show/show_regular_item/Toc\";\nimport LeftMenu from \"@/components/item/show/show_regular_item/LeftMenu\";\nimport OpBar from \"@/components/item/show/show_regular_item/OpBar\";\nimport AttachmentList from \"@/components/page/edit/AttachmentList\";\nimport { rederPageContent } from \"@/models/page\";\nconst moment = require('moment')\nexport default {\n  props: {\n    item_info: {},\n    search_item: {},\n    keyword: {}\n  },\n  data() {\n    return {\n      content: \"###正在加载...\",\n      page_id: \"\",\n      page_title: \"\",\n      dialogVisible: false,\n      share_item_link: \"\",\n      qr_item_link: \"\",\n      page_info: \"\",\n      copyText: \"\",\n      attachment_count: \"\",\n      fullPage: false,\n      showfullPageBtn: false,\n      showToc: true,\n      showComp: true,\n      itemlangId: \"\",\n      selected: \"\",\n      itemlang: [],\n      langs: [],\n      icon: \"\",\n      value: {},\n      value1: null,\n      lang_array: [],\n      show_header: true,\n      infoProfile:[],\n      img:'',\n      title:'',\n      header_link:[],\n      logourl: '/#/'+this.$route.params.item_id,\n      textarea: '',\n      loginFormVisible: false,\n      registerFormVisible:false,\n      formLabelWidth: '120px',\n      page: 1,\n      count: 7,\n      total: 0,\n      commentList: [],\n      enableComment: true,\n      formdata:{\n                username:'',\n                password:''\n      },\n      registerdata:{\n                username:'',\n                password:'',\n                name:''\n      },\n      headers:{\n                Authorization:'',\n                username:''\n            },\n    };\n  },\n  components: {\n    Editormd,\n    LeftMenu,\n    OpBar,\n    BackToTop,\n    Toc,\n    AttachmentList\n  },\n  computed: {\n    belong_to_lang: function() {\n      var that = this;\n      if (that.item_info.lang_list === undefined) {\n        return [];\n      }\n      var langInfo = that.item_info.lang_list.split(\",\");\n      var lang_array = [];\n\n      if (that.langs.length > 0) {\n        for (var k = 0; k < langInfo.length; k++) {\n          if (langInfo[k] === \"\") {\n            return that.langs;\n          }\n          for (var j = 0; j < that.langs.length; j++) {\n            if (that.langs[j].id === parseInt(langInfo[k])) {\n              lang_array.push({\n                id: that.langs[j].id,\n                name: that.langs[j].name,\n                icon: that.langs[j].icon\n              });\n            }\n          }\n        }\n      }\n      return lang_array;\n    }\n  },\n  methods: {\n    item_langId(value) {\n      this.itemlangId = value;\n      this.$emit(\"itemlangId2\", this.itemlangId);\n      this.item_info.defaultpageid = 0;\n    },\n    dateFormat: function (row, column) {\n      var date = row[column.property]\n      if (date === undefined) {\n        return ''\n      }\n      return moment(date).format('YYYY-MM-DD HH:mm:ss')\n    },\n    // 获取页面内容\n    get_page_content(page_id) {\n      if (page_id <= 0) {\n        return;\n      }\n      this.adaptScreen();\n\n      var that = this;\n      var url = DocConfig.server + \"/admin/page\";\n      var params = new URLSearchParams();\n      params.append(\"page_id\", page_id);\n      that.$http.post(url, params).then(function(response) {\n        // loading.close()\n        if (response.data.status === 200) {\n          that.content = rederPageContent(\n            response.data.data.pagecontent,\n            that.$store.state.item_info.global_param\n          );\n          that.$store.dispatch(\"changeOpenCatId\", response.data.data.catid);\n          that.page_title = response.data.data.pagetitle;\n          that.page_info = response.data.data;\n          that.attachment_count =\n            response.data.attachment_count > 0\n              ? response.data.attachment_count\n              : \"\";\n          // 切换变量让它重新加载、渲染子组件\n          that.page_id = 0;\n          that.get_comment()\n          that.item_info.defaultpageid = page_id;\n          that.$nextTick(() => {\n            that.page_id = page_id;\n            // 页面回到顶部\n            document.body.scrollTop = document.documentElement.scrollTop = 0;\n            //document.title = that.page_title +'--'+that.item_info.itemtitle+ '--Doc'\n          });\n        } else {\n          that.$alert(response.data.message);\n        }\n      });\n    },\n    // 根据屏幕宽度进行响应(应对移动设备的访问)\n    adaptToMobile() {\n      const childRef = this.$refs.leftMenu; // 获取子组件\n      childRef.hide_menu();\n      this.show_page_bar = false;\n      var doc_container = document.getElementById(\"doc-container\");\n      doc_container.style.width = \"95%\";\n      doc_container.style.padding = \"5px\";\n      var header = document.getElementById(\"header\");\n      header.style.height = \"10px\";\n      var docTitle = document.getElementById(\"doc-title-box\");\n      docTitle.style.marginTop = \"40px\";\n      this.showToc = false;\n    },\n    // 根据屏幕宽度进行响应。应对小屏幕pc设备(如笔记本)的访问\n    adaptToSmallpc() {\n      var doc_container = document.getElementById(\"doc-container\");\n      doc_container.style.width = \"calc( 95% - 300px )\";\n      doc_container.style.marginLeft = \"300px\";\n      doc_container.style.padding = \"20px\";\n      var header = document.getElementById(\"header\");\n      header.style.height = \"20px\";\n      var docTitle = document.getElementById(\"doc-title-box\");\n      docTitle.style.marginTop = \"30px\";\n    },\n    // 响应式\n    adaptScreen() {\n      this.$nextTick(() => {\n        // 根据屏幕宽度进行响应(应对移动设备的访问)\n        if (this.isMobile() || window.innerWidth < 1300) {\n          if (window.innerWidth < 1300 && window.innerWidth > 1100) {\n            this.adaptToSmallpc();\n          } else {\n            this.adaptToMobile();\n          }\n        }\n      });\n    },\n    onCopy() {\n      this.$message(this.$t(\"copy_success\"));\n    },\n    ShowAttachment() {\n      const childRef = this.$refs.AttachmentList; // 获取子组件\n      childRef.show();\n    },\n    clickFullPage() {\n      var $ = require(\"jquery\");\n      // 点击放大页面。由于历史包袱，只能操作dom。这是不规范的，但是现在没时间重构整块页面\n      if (this.fullPage) {\n        // 通过v-if指令起到刷新组件的作用\n        this.showComp = false;\n        this.$nextTick(() => {\n          this.showComp = true;\n        });\n      } else {\n        this.adaptToMobile();\n        var page_id = this.page_id;\n        this.page_id = 0;\n        this.$nextTick(() => {\n          this.page_id = page_id;\n          setTimeout(() => {\n            $(\".editormd-html-preview\").css(\"font-size\", \"16px\");\n          }, 200);\n        });\n        $(\"#left-side\").hide();\n        $(\".op-bar\").hide();\n        $(\".header\").hide();\n      }\n      this.fullPage = !this.fullPage;\n    },\n    jump_to_item (urls) {\n         const url = 'http://' + urls\n         window.open(url)\n    },\n    LangChange(value) {\n      this.item_langId(value.id);\n      this.selected = value;\n      this.get_item_header(value.id)\n      // if (this.$cookies.get('selected') === null) {\n      this.$cookies.set(\"selected\", value.icon);\n      // }\n      if (\n        value.name === \"English\" ||\n        value.icon === \"#icon-world-flag_-GBR--UnitedKingdom\"\n      ) {\n        this.locale = \"EN_US\";\n        this.lang = true;\n        // this.$cookies.set('lng', this.locale === 'EN_US' ? this.locale : this.locale, '1d')\n      } else {\n        this.lang = false;\n        this.locale = \"ZH_CN\";\n        // this.$cookies.set('lng', this.locale === 'ZH_CN' ? this.locale : this.locale, '30d')\n      }\n    },\n    get_lang() {\n      var that = this;\n      var url = DocConfig.server + \"/lang\";\n      var params = new URLSearchParams();\n      that.$http\n        .get(url, params)\n        .then(function(response) {\n          if (response.data.status === 200) {\n            that.langs = response.data.data;\n          }\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    delete_comment(id){\n      var that = this\n      var url = DocConfig.server + '/delcomment'\n      this.$confirm(that.$t('comfirm_delete'), ' ', {\n        confirmButtonText: that.$t('confirm'),\n        cancelButtonText: that.$t('cancel'),\n        type: 'warning'\n      }).then(() => {\n        var params = new URLSearchParams()\n        params.append('comment_id', id)\n        that.$http.post(url, params).then(function (response) {\n          if (response.data.status === 200) {\n            that.$message.success(response.data.message)\n            that.get_comment()\n          } else {\n            that.$alert(response.data.message)\n          }\n        })\n      })\n    },\n    loadConfig() {\n      var item_id = this.$route.params.item_id ? this.$route.params.item_id : 0;\n      var that = this;\n      var url = DocConfig.server + \"/adminSetting/loadLangConfig\";\n      var params = new URLSearchParams();\n      params.append(\"id\", item_id);\n      that.$http.post(url, params).then(function(response) {\n        if (response.data.status === 200) {\n          if (response.data.data.id === 0) {\n            return;\n          }\n          that.selected =\n            '<use xlink:href=\"' + response.data.data.icon + '\"></use>';\n          that.$cookies.set(\"selected\", that.selected);\n          that.value = response.data.data;\n          that.value.icon =\n            '<use xlink:href=\"' + response.data.data.icon + '\"></use>';\n\n          if (response.data.access === 1) {\n            // defaultlang 是全局语言\n            localStorage.setItem(\"defaultlang\", that.value.id);\n            that.LangChange(that.value);\n          }\n        } else {\n          that.$alert(response.data.message);\n        }\n      });\n    },\n    publicloadConfig(value) {\n      var that = this;\n      var url = DocConfig.server + \"/public/lang\";\n      var params = new URLSearchParams();\n      params.append(\"lang\", value);\n      that.$http.post(url, params).then(function(response) {\n        if (response.data.status === 200) {\n          if (response.data.data.id === 0) {\n            return;\n          }\n          that.value = response.data.data;\n          that.value.icon =\n            '<use xlink:href=\"' + response.data.data.icon + '\"></use>';\n          if (response.data.access === 1) {\n            that.LangChange(that.value);\n            this.selected ='<use xlink:href=\"' + response.data.data.icon + '\"></use>';\n            this.$cookies.set(\"selected\", that.selected);\n          }\n        } else {\n          this.$alert(response.data.message);\n        }\n      });\n    },\n    get_lang1(value) {\n      var that = this;\n      var url = DocConfig.server + \"/lang/info\";\n      var params = new URLSearchParams();\n      params.append(\"icon\", value);\n      that.$http.post(url, params).then(function(response) {\n        if (response.data.status === 200) {\n          if (response.data.data.id === 0) {\n            return;\n          }\n          that.selected =\n            '<use xlink:href=\"' + response.data.data.icon + '\"></use>';\n          that.$cookies.set(\"selected\", that.selected);\n          that.value = response.data.data;\n          that.value.icon =\n            '<use xlink:href=\"' + response.data.data.icon + '\"></use>';\n          that.get_item_header(that.value.id)\n        } else {\n          that.$alert(response.data.message);\n        }\n      });\n    },\n    handleCurrentChange (currentPage) {\n      this.page = currentPage\n      this.get_comment()\n    },\n    loginout(){\n            window.sessionStorage.clear('token')\n            window.sessionStorage.clear('username')\n            this.$message.success('退出成功')\n            this.$router.go(0)\n    },\n    cancelRegister(){\n          this.registerFormVisible = false\n          this.registerdata.username =''\n          this.registerdata.password =''\n          this.registerdata.name =''\n\n    },\n    cancelLogin(){\n          this.loginFormVisible = false\n          this.formdata.username =''\n          this.formdata.password =''\n    },\n    get_item_info() {\n      var that = this;\n      var url = DocConfig.server + \"/item/detail\";\n      var params = new URLSearchParams();\n      params.append(\"item_id\", that.$route.params.item_id);\n      that.$http\n        .post(url, params)\n        .then(function(response) {\n          if (response.data.status === 200) {\n            var Info = response.data.data;\n            if (Info.password) {\n              that.isOpenItem = false;\n            }\n            if (Info.lang === 1) {\n              Info.lang = false;\n            } else if (Info.lang === 2) {\n              Info.lang = true;\n            }\n            that.MyForm = Info;\n            that.link = \"/\" + that.MyForm.link;\n            that.lang = that.MyForm.lang;\n          } else {\n            that.$alert(response.data.message);\n          }\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    hidelogin(){\n      this.loginFormVisible=false\n      this.registerFormVisible = true\n    },\n    hideRegister(){\n      this.loginFormVisible=true\n      this.registerFormVisible = false\n    },\n    async onSubmit () {\n      // this.$message.success(this.username);\n      var url = DocConfig.server + '/guest/login'\n      const { data: res } = await this.$http.post(url, {\n        username: this.formdata.username,\n        password: this.formdata.password\n      })\n      if (res.status !== 200) return this.$message.error(res.message)\n      window.sessionStorage.setItem('username',res.data)\n      window.sessionStorage.setItem('user_id',res.id)\n      this.loginFormVisible = false\n      this.$router.go(0)\n    },\n    get_item_avatar() {\n      var that = this;\n      var url = DocConfig.server + \"/avatar/profile\"\n      var params = new URLSearchParams()\n      params.append(\"item_id\", that.$route.params.item_id)\n      that.$http\n        .post(url, params)\n        .then(function(response) {\n          if (response.data.status === 200) {\n            var Info = response.data.data\n            that.infoProfile = Info\n            that.img = that.infoProfile.avatarUrl\n            that.title = that.infoProfile.avatarName\n          }\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    get_item_header (value) {\n      var that = this\n      var url = DocConfig.server + '/avatar/getHeader'\n      var params = new URLSearchParams()\n      params.append('item_id', that.$route.params.item_id)\n      params.append('lang_id', value)\n      that.$http\n        .post(url, params)\n        .then(function (response) {\n          if (response.data.status === 200) {\n           var Info1 = response.data.data\n           that.header_link = Info1\n          } else {\n            that.$alert(response.data.message)\n          }\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n    },\n   async onRegister() {\n     var url = DocConfig.server + '/guest/register'\n\n      const { data: res } = await this.$http.post(url, {\n        username: this.registerdata.username,\n        password: this.registerdata.password,\n        name: this.registerdata.name\n      })\n      if (res.status !== 200) return this.$message.error(res.message)\n      if (res.status === 200) {\n        this.$message.success('添加用户成功')\n        this.registerFormVisible = false\n      }\n   },\n   get_comment(){\n    var that = this\n    var url = DocConfig.server + '/commentfront'\n    var params = new URLSearchParams()\n    params.append('page_id',that.$route.query.page_id)\n    params.append('page', that.page)\n    params.append('count', that.count)\n        that.$http.post(url, params).then(function(response) {\n        if (response.data.status === 200) {\n          that.commentList = response.data.data\n           that.total = response.data.total\n        } else {\n          this.$alert(response.data.message);\n        }\n      });\n   },\n   pushComment(){\n    var that = this\n    var url = DocConfig.server + '/addcomment'\n    var params = new URLSearchParams\n    params.append('guest_id',window.sessionStorage.getItem('user_id'))\n    params.append('username',window.sessionStorage.getItem('username'))\n    params.append('rate',this.value1)\n    params.append('content',this.textarea)\n    params.append('page_id',that.$route.query.page_id)\n    that.$http.post(url, params).then(function(response) {\n        if (response.data.status === 200) {\n           that.$message.success('评论成功')\n          that.get_comment()\n          that.textarea =''\n          that.value1 = 0\n\n        } else {\n          this.$alert(response.data.message);\n        }\n      });\n   }\n  },\n  mounted() {\n    var that = this;\n    var page_id = this.$route.query.page_id ? this.$route.query.page_id : 0;\n    this.adaptScreen();\n    this.set_bg_grey();\n    this.get_item_info();\n    this.get_lang();\n    this.get_item_avatar()\n    this.headers = {\n            Authorization: `Bearer ${window.sessionStorage.getItem('token')}`,\n            username: window.sessionStorage.getItem('username')\n        }\n    if (this.$cookies.get(\"lng\") === null) {\n      this.locale = DocConfig.lang;\n      this.$cookies.set(\n        \"lng\",\n        this.locale === \"EN_US\" ? this.locale : this.locale,\n        \"1d\"\n      );\n    }\n    if (this.$cookies.get(\"selected\") === null) {\n      this.loadConfig();\n    }\n    if (this.$cookies.get(\"selected\") === null) {\n      this.publicloadConfig(page_id);\n    }\n\n    this.selected = this.$cookies.get(\"selected\");\n    if (this.selected !== null) {\n      this.get_lang1(this.selected);\n      this.$cookies.remove(\"selected\");\n    }\n    if (\n      this.isMobile() ||\n      (window.innerWidth < 1300 && !this.item_info.is_login)\n    ) {\n      this.show_header = false;\n    }\n    if (\n      this.isMobile() ||\n      (window.innerWidth < 1300 && this.item_info.is_login)\n    ) {\n      this.show_header = false;\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.flex {\n  display: flex;\n}\n.page_content_main {\n  width: 800px;\n  margin: 0 auto;\n  height: 50%;\n  overflow: visible;\n}\n.editormd-html-preview {\n  width: 95%;\n  font-size: 16px;\n  overflow-y: hidden;\n}\n#attachment {\n  float: right;\n  font-size: 25px;\n  margin-top: -40px;\n  margin-right: 5px;\n  cursor: pointer;\n  color: #abd1f1;\n}\n#full-page {\n  float: right;\n  font-size: 25px;\n  margin-top: -50px;\n  margin-right: 30px;\n  cursor: pointer;\n  color: #ccc;\n}\n#page_md_content {\n  padding: 10px 10px 90px 10px;\n  overflow: hidden;\n  font-size: 11pt;\n  line-height: 1.7;\n  color: #333;\n}\n.doc-container {\n  position: static;\n  background-color: #fff;\n  margin-bottom: 20px;\n  width: 800px;\n  min-height: 750px;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 20px;\n  margin-top: 80px;\n}\n#header {\n  height: 80px;\n  position:fixed;\n  top:0px;\n  z-index: 999;\n}\n#doc-body {\n  width: 95%;\n  margin: 0 auto;\n  background-color: #fff;\n}\n.doc-title-box {\n  height: auto;\n  width: auto;\n  border-bottom: 1px solid #ebebeb;\n  padding-bottom: 10px;\n  width: 100%;\n  margin: 10px auto;\n  text-align: center;\n}\npre ol {\n  list-style: none;\n}\n.markdown-body pre {\n  background-color: #f7f7f9;\n  border: 1px solid #e1e1e8;\n}\n.hljs {\n  background-color: #f7f7f9;\n}\n.tool-bar {\n  margin-top: -38px;\n}\n.editormd-html-preview,\n.editormd-preview-container {\n  padding: 0px;\n  font-size: 14px;\n}\n.text {\n  font-size: 14px;\n}\n\n.item {\n  margin-bottom: 18px;\n}\n\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n}\n.clearfix:after {\n  clear: both;\n}\n\n.box-card {\n  width: 295px;\n  position: absolute;\n  bottom: 0;\n}\n.empty-tips {\n  margin: 5% auto;\n  width: 400px;\n  text-align: center;\n  color: #909399;\n}\n.empty-tips .icon {\n  font-size: 100px;\n  margin-left: -50px;\n}\n.empty-tips .text {\n  text-align: left;\n}\n.empty-tips .links {\n  line-height: 2em;\n}\n.empty-tips .links a {\n  color: #909399;\n  text-decoration: underline;\n}\n.masthead {\n  width: 1500px;\n  background: rgb(255, 255, 255);\n  color: #fff;\n  margin-left: auto;\n  margin-right: auto;\n  height: 80px;\n}\n.logo-title {\n  background-color: rgb(255, 255, 255);\n  width: 330px;\n  border-block-color: black;\n  height: 40px;\n  border-right-style: solid;\n  border-right-color: rgb(212, 218, 223);\n  border-right-width: 1px;\n  line-height: 40px;\n  display: flex;\n  justify-content: center;\n}\n.container-narrow {\n  height: 80px;\n  margin: auto;\n  color: #fff;\n}\n.header-title {\n  background-color: rgb(255, 255, 255);\n  font-size: 15px;\n  border-right-style: solid;\n  border-right-color: rgb(212, 218, 223);\n  border-right-width: 1px;\n  height: 40px;\n  line-height: 40px;\n  margin-top: 10px;\n  margin-left: 30px;\n}\n#header-right-btn {\n  font-size: 20px;\n  top: 15px;\n  right: 5%;\n  cursor: pointer;\n  position: fixed;\n}\n.el-dropdown-link {\n  color: #000;\n  font-size: 18px;\n  font-weight: bolder;\n}\n.el-icon-document-copy {\n  cursor: pointer;\n}\n.icon {\n  width: 1.9em;\n  height: 1.9em;\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n  padding-top: 5px;\n}\n.el-select-lang {\n  border: none;\n  border-radius: 0px;\n}\n.icons {\n  width: 5em;\n  height: 5em;\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n}\n.el-row {\n  margin-bottom: 0px;\n  display:flex;\n  width: 820px;\n  border-right-color: rgb(212, 218, 223);\n  margin-left: 20px;\n}\n.el-col {\n  border-radius: 0px;\n  height: 70px;\n  display:flex;\n  flex-wrap: wrap;\n  align-items: center;\n  width: 60px;\n  margin-left: 25px;\n\n}\n.header-language {\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  margin-left: 50px;\n  margin-top: 10px;\n}\n.header {\n  width: 100%;\n  color: #fff;\n  border-bottom-color: rgb(212, 218, 223);\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  box-shadow:0 3px 8px 0 rgb(116 129 141 / 10%);\n\n}\n.clearfix:before,\n    .clearfix:after {\n        display: table;\n        content: \"\";\n  }\n\n.clearfix:after {\n        clear: both\n}\n\n.header-titles{\nborder: 0px;\npadding: 0px;\ntext-align: center;\njustify-content: center;\nheight: 30px;\nfont-size: 20px;\n\n}\n.button{\nfont-size: 20px;\n}\n.box-card1 {\n    width: 760px;\n    padding-bottom: 10px;\n  }\n.items{\n  float: right;\n}\n.wrap-login100{\nwidth: 760px;\nborder-radius: 10px;\noverflow: hidden;\ndisplay: flex;\nflex-wrap: wrap;\njustify-content: space-between;\npadding: 20px 60px 45px 65px;\n}\n.demo-ruleForm{\nwidth: 290px;\n}\n.input100{\nfont-size: 15px;\nline-height: 1.5;\ncolor: #666;\nwidth: 80%;\ndisplay: block;\nbackground-color: #E6E6E6;\nheight: 50px;\nborder-radius: 25px;\npadding: 0 30px 0 38px;\n}\n.container-login100{\nwidth: 100%;\nmin-height: 100vh;\ndisplay: flex;\nflex-wrap: wrap;\njustify-content: center;\nalign-items: center;\npadding: 15px;\nbackground-image: linear-gradient(-135deg,rgb(200,80,192),rgb(65.88.208));\nbackground-position-x: initial;\nbackground-position-y: initial;\nbackground-size: initial;\nbackground-repeat: initial;\nbackground-attachment: inherit;\nbackground-origin: initial;\nbackground-clip: initial;\nbackground-color: initial;\n}\n.input100>>> .el-input__inner{\nfont-family: Poppins-Medium;\nbackground-color: #E6E6E6;\nheight: 50px;\nborder-width: 0px;\nfont-size: 15px;\n}\n.input100>>>.el-input__icon{\nwidth: 30px;\n}\n</style>\n"]}]}