{"remainingRequest":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/item/show/show_regular_item/Index.vue?vue&type=style&index=0&id=39f42a88&scoped=true&lang=css&","dependencies":[{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/item/show/show_regular_item/Index.vue","mtime":1624959594146},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBhZ2VfY29udGVudF9tYWluIHsKICB3aWR0aDogODAwcHg7CiAgbWFyZ2luOiAwIGF1dG87CiAgaGVpZ2h0OiA1MCU7CiAgb3ZlcmZsb3c6IHZpc2libGU7Cn0KLmVkaXRvcm1kLWh0bWwtcHJldmlldyB7CiAgd2lkdGg6IDk1JTsKICBmb250LXNpemU6IDE2cHg7CiAgb3ZlcmZsb3cteTogaGlkZGVuOwp9CiNhdHRhY2htZW50IHsKICBmbG9hdDogcmlnaHQ7CiAgZm9udC1zaXplOiAyNXB4OwogIG1hcmdpbi10b3A6IC00MHB4OwogIG1hcmdpbi1yaWdodDogNXB4OwogIGN1cnNvcjogcG9pbnRlcjsKICBjb2xvcjogI2FiZDFmMTsKfQojZnVsbC1wYWdlIHsKICBmbG9hdDogcmlnaHQ7CiAgZm9udC1zaXplOiAyNXB4OwogIG1hcmdpbi10b3A6IC01MHB4OwogIG1hcmdpbi1yaWdodDogMzBweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgY29sb3I6ICNjY2M7Cn0KI3BhZ2VfbWRfY29udGVudCB7CiAgcGFkZGluZzogMTBweCAxMHB4IDkwcHggMTBweDsKICBvdmVyZmxvdzogaGlkZGVuOwogIGZvbnQtc2l6ZTogMTFwdDsKICBsaW5lLWhlaWdodDogMS43OwogIGNvbG9yOiAjMzMzOwp9Ci5kb2MtY29udGFpbmVyIHsKICBwb3NpdGlvbjogc3RhdGljOwogIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDFweCA2cHggI2NjYzsKICAtbW96LWJveC1zaGFkb3c6IDBweCAxcHggNnB4ICNjY2M7CiAgLW1zLWJveC1zaGFkb3c6IDBweCAxcHggNnB4ICNjY2M7CiAgLW8tYm94LXNoYWRvdzogMHB4IDFweCA2cHggI2NjYzsKICBib3gtc2hhZG93OiAwcHggMXB4IDZweCAjY2NjOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkOWQ5ZDk7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKICB3aWR0aDogODAwcHg7CiAgbWluLWhlaWdodDogNzUwcHg7CiAgbWFyZ2luLWxlZnQ6IGF1dG87CiAgbWFyZ2luLXJpZ2h0OiBhdXRvOwogIHBhZGRpbmc6IDIwcHg7Cn0KI2hlYWRlciB7CiAgaGVpZ2h0OiA4MHB4Owp9CiNkb2MtYm9keSB7CiAgd2lkdGg6IDk1JTsKICBtYXJnaW46IDAgYXV0bzsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwp9Ci5kb2MtdGl0bGUtYm94IHsKICBoZWlnaHQ6IGF1dG87CiAgd2lkdGg6IGF1dG87CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlYmViZWI7CiAgcGFkZGluZy1ib3R0b206IDEwcHg7CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luOiAxMHB4IGF1dG87CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CnByZSBvbCB7CiAgbGlzdC1zdHlsZTogbm9uZTsKfQoubWFya2Rvd24tYm9keSBwcmUgewogIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjk7CiAgYm9yZGVyOiAxcHggc29saWQgI2UxZTFlODsKfQouaGxqcyB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjdmOTsKfQoudG9vbC1iYXIgewogIG1hcmdpbi10b3A6IC0zOHB4Owp9Ci5lZGl0b3JtZC1odG1sLXByZXZpZXcsCi5lZGl0b3JtZC1wcmV2aWV3LWNvbnRhaW5lciB7CiAgcGFkZGluZzogMHB4OwogIGZvbnQtc2l6ZTogMTRweDsKfQoudGV4dCB7CiAgICBmb250LXNpemU6IDE0cHg7CiAgfQoKICAuaXRlbSB7CiAgICBtYXJnaW4tYm90dG9tOiAxOHB4OwogIH0KCiAgLmNsZWFyZml4OmJlZm9yZSwKICAuY2xlYXJmaXg6YWZ0ZXIgewogICAgZGlzcGxheTogdGFibGU7CiAgICBjb250ZW50OiAiIjsKICB9CiAgLmNsZWFyZml4OmFmdGVyIHsKICAgIGNsZWFyOiBib3RoCiAgfQoKICAuYm94LWNhcmQgewogICAgd2lkdGg6IDI5NXB4OwogICAgcG9zaXRpb246YWJzb2x1dGU7CiAgICBib3R0b206IDA7CgogIH0KICAuZW1wdHktdGlwcyB7CiAgbWFyZ2luOiA1JSBhdXRvOwogIHdpZHRoOiA0MDBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgY29sb3I6ICM5MDkzOTk7CiAgfQogIC5lbXB0eS10aXBzIC5pY29uIHsKICBmb250LXNpemU6IDEwMHB4OwogIG1hcmdpbi1sZWZ0OiAtNTBweDsKICB9CiAgLmVtcHR5LXRpcHMgLnRleHQgewogIHRleHQtYWxpZ246IGxlZnQ7CiAgfQogIC5lbXB0eS10aXBzIC5saW5rcyB7CiAgbGluZS1oZWlnaHQ6IDJlbTsKICB9CiAgLmVtcHR5LXRpcHMgLmxpbmtzIGEgewogIGNvbG9yOiAjOTA5Mzk5OwogIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogIH0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/components/item/show/show_regular_item","sourcesContent":["<template>\n  <div class=\"hello\" v-if=\"showComp\">\n    <Header></Header>\n    <div id=\"header\"></div>\n\n    <div class=\"container doc-container\" id=\"doc-container\">\n      <div id=\"left-side\" style=\"width: 300px;\">\n        <LeftMenu\n          ref=\"leftMenu\"\n          :get_page_content=\"get_page_content\"\n          :keyword=\"keyword\"\n          :item_info=\"item_info\"\n          :search_item=\"search_item\"\n          v-if=\"item_info\"\n        ></LeftMenu>\n\n      </div>\n\n      <div id=\"right-side\">\n        <div\n          id=\"p-content\"\n          @mouseenter=\"showfullPageBtn = true\"\n          @mouseleave=\"showfullPageBtn = false\"\n        >\n          <div class=\"doc-title-box\" id=\"doc-title-box\">\n            <span id=\"doc-title-span\" class=\"dn\"></span>\n            <h2 id=\"doc-title\">{{page_title}}</h2>\n            <i\n              class=\"el-icon-full-screen\"\n              id=\"full-page\"\n              v-show=\"showfullPageBtn\"\n              @click=\"clickFullPage\"\n            ></i>\n            <i\n              class=\"el-icon-upload item\"\n              id=\"attachment\"\n              v-if=\"attachment_count\"\n              @click=\"ShowAttachment\"\n            ></i>\n\n          </div>\n          <div id=\"doc-body\">\n            <div id=\"page_md_content\" class=\"page_content_main\">\n              <Editormd v-bind:content=\"content\" v-if=\"page_id\" type=\"html\" :keyword=\"keyword\"></Editormd>\n            </div>\n          </div>\n        </div>\n\n        <OpBar\n          :page_id=\"page_id\"\n          :item_id=\"item_info.id\"\n          :item_info=\"item_info\"\n          :page_info=\"page_info\"\n           v-on:itemlangId=\"item_langId\"\n        ></OpBar>\n\n      </div>\n    </div>\n    <BackToTop></BackToTop>\n    <Toc v-if=\"page_id && showToc\"></Toc>\n\n    <!-- 附件列表 -->\n    <AttachmentList\n      callback\n      :item_id=\"page_info.itemid\"\n      :manage=\"false\"\n      :page_id=\"page_info.ID\"\n      ref=\"AttachmentList\"\n    ></AttachmentList>\n\n    <Footer></Footer>\n\n  </div>\n</template>\n\n<script>\nimport Editormd from '@/components/common/Editormd'\nimport BackToTop from '@/components/common/BackToTop'\nimport Toc from '@/components/item/show/show_regular_item/Toc'\nimport LeftMenu from '@/components/item/show/show_regular_item/LeftMenu'\nimport OpBar from '@/components/item/show/show_regular_item/OpBar'\nimport AttachmentList from '@/components/page/edit/AttachmentList'\nimport { rederPageContent } from '@/models/page'\n\nexport default {\n  props: {\n    item_info: {},\n    search_item: {},\n    keyword: {}\n  },\n  data () {\n    return {\n      content: '###正在加载...',\n      page_id: '',\n      page_title: '',\n      dialogVisible: false,\n      share_item_link: '',\n      qr_item_link: '',\n      page_info: '',\n      copyText: '',\n      attachment_count: '',\n      fullPage: false,\n      showfullPageBtn: false,\n      showToc: true,\n      showComp: true,\n      itemlangId: ''\n    }\n  },\n  components: {\n    Editormd,\n    LeftMenu,\n    OpBar,\n    BackToTop,\n    Toc,\n    AttachmentList\n  },\n  methods: {\n    item_langId (value) {\n      this.itemlangId = value\n      this.$emit('itemlangId2', this.itemlangId)\n      this.item_info.defaultpageid = 0\n    },\n    // 获取页面内容\n    get_page_content (page_id) {\n      if (page_id <= 0) {\n        return\n      }\n      this.adaptScreen()\n\n      var that = this\n      var url = DocConfig.server + '/admin/page'\n      var params = new URLSearchParams()\n      params.append('page_id', page_id)\n      that.$http.post(url, params).then(function (response) {\n        // loading.close()\n        if (response.data.status === 200) {\n          that.content = rederPageContent(response.data.data.pagecontent, that.$store.state.item_info.global_param)\n          that.$store.dispatch('changeOpenCatId', response.data.data.catid)\n          that.page_title = response.data.data.pagetitle\n          that.page_info = response.data.data\n          that.attachment_count =\n          response.data.attachment_count > 0\n            ? response.data.attachment_count\n            : ''\n          // 切换变量让它重新加载、渲染子组件\n          that.page_id = 0\n          that.item_info.defaultpageid = page_id\n          // that.$nextTick(() => {\n          //   that.page_id = page_id\n          //   // 页面回到顶部\n          //   document.body.scrollTop = document.documentElement.scrollTop = 0\n          //   document.title = that.page_title +'--'+that.item_info.itemtitle+ '--Doc'\n          // })\n        } else {\n          that.$alert(response.data.message)\n        }\n      })\n    },\n    // 根据屏幕宽度进行响应(应对移动设备的访问)\n    adaptToMobile () {\n      const childRef = this.$refs.leftMenu // 获取子组件\n      childRef.hide_menu()\n      this.show_page_bar = false\n      var doc_container = document.getElementById('doc-container')\n      doc_container.style.width = '95%'\n      doc_container.style.padding = '5px'\n      var header = document.getElementById('header')\n      header.style.height = '10px'\n      var docTitle = document.getElementById('doc-title-box')\n      docTitle.style.marginTop = '40px'\n      this.showToc = false\n    },\n    // 根据屏幕宽度进行响应。应对小屏幕pc设备(如笔记本)的访问\n    adaptToSmallpc () {\n      var doc_container = document.getElementById('doc-container')\n      doc_container.style.width = 'calc( 95% - 300px )'\n      doc_container.style.marginLeft = '300px'\n      doc_container.style.padding = '20px'\n      var header = document.getElementById('header')\n      header.style.height = '20px'\n      var docTitle = document.getElementById('doc-title-box')\n      docTitle.style.marginTop = '30px'\n    },\n    // 响应式\n    adaptScreen () {\n      this.$nextTick(() => {\n        // 根据屏幕宽度进行响应(应对移动设备的访问)\n        if (this.isMobile() || window.innerWidth < 1300) {\n          if (window.innerWidth < 1300 && window.innerWidth > 1100) {\n            this.adaptToSmallpc()\n          } else {\n            this.adaptToMobile()\n          }\n        }\n      })\n    },\n    onCopy () {\n      this.$message(this.$t('copy_success'))\n    },\n    ShowAttachment () {\n      const childRef = this.$refs.AttachmentList // 获取子组件\n      childRef.show()\n    },\n    clickFullPage () {\n      var $ = require('jquery')\n      // 点击放大页面。由于历史包袱，只能操作dom。这是不规范的，但是现在没时间重构整块页面\n      if (this.fullPage) {\n        // 通过v-if指令起到刷新组件的作用\n        this.showComp = false\n        this.$nextTick(() => {\n          this.showComp = true\n        })\n      } else {\n        this.adaptToMobile()\n        var page_id = this.page_id\n        this.page_id = 0\n        this.$nextTick(() => {\n          this.page_id = page_id\n          setTimeout(() => {\n            $('.editormd-html-preview').css('font-size', '16px')\n          }, 200)\n        })\n        $('#left-side').hide()\n        $('.op-bar').hide()\n      }\n      this.fullPage = !this.fullPage\n    }\n  },\n  mounted () {\n    this.adaptScreen()\n    this.set_bg_grey()\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.page_content_main {\n  width: 800px;\n  margin: 0 auto;\n  height: 50%;\n  overflow: visible;\n}\n.editormd-html-preview {\n  width: 95%;\n  font-size: 16px;\n  overflow-y: hidden;\n}\n#attachment {\n  float: right;\n  font-size: 25px;\n  margin-top: -40px;\n  margin-right: 5px;\n  cursor: pointer;\n  color: #abd1f1;\n}\n#full-page {\n  float: right;\n  font-size: 25px;\n  margin-top: -50px;\n  margin-right: 30px;\n  cursor: pointer;\n  color: #ccc;\n}\n#page_md_content {\n  padding: 10px 10px 90px 10px;\n  overflow: hidden;\n  font-size: 11pt;\n  line-height: 1.7;\n  color: #333;\n}\n.doc-container {\n  position: static;\n  -webkit-box-shadow: 0px 1px 6px #ccc;\n  -moz-box-shadow: 0px 1px 6px #ccc;\n  -ms-box-shadow: 0px 1px 6px #ccc;\n  -o-box-shadow: 0px 1px 6px #ccc;\n  box-shadow: 0px 1px 6px #ccc;\n  background-color: #fff;\n  border-bottom: 1px solid #d9d9d9;\n  margin-bottom: 20px;\n  width: 800px;\n  min-height: 750px;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 20px;\n}\n#header {\n  height: 80px;\n}\n#doc-body {\n  width: 95%;\n  margin: 0 auto;\n  background-color: #fff;\n}\n.doc-title-box {\n  height: auto;\n  width: auto;\n  border-bottom: 1px solid #ebebeb;\n  padding-bottom: 10px;\n  width: 100%;\n  margin: 10px auto;\n  text-align: center;\n}\npre ol {\n  list-style: none;\n}\n.markdown-body pre {\n  background-color: #f7f7f9;\n  border: 1px solid #e1e1e8;\n}\n.hljs {\n  background-color: #f7f7f9;\n}\n.tool-bar {\n  margin-top: -38px;\n}\n.editormd-html-preview,\n.editormd-preview-container {\n  padding: 0px;\n  font-size: 14px;\n}\n.text {\n    font-size: 14px;\n  }\n\n  .item {\n    margin-bottom: 18px;\n  }\n\n  .clearfix:before,\n  .clearfix:after {\n    display: table;\n    content: \"\";\n  }\n  .clearfix:after {\n    clear: both\n  }\n\n  .box-card {\n    width: 295px;\n    position:absolute;\n    bottom: 0;\n\n  }\n  .empty-tips {\n  margin: 5% auto;\n  width: 400px;\n  text-align: center;\n  color: #909399;\n  }\n  .empty-tips .icon {\n  font-size: 100px;\n  margin-left: -50px;\n  }\n  .empty-tips .text {\n  text-align: left;\n  }\n  .empty-tips .links {\n  line-height: 2em;\n  }\n  .empty-tips .links a {\n  color: #909399;\n  text-decoration: underline;\n  }\n</style>\n"]}]}