{"remainingRequest":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/common/Editormd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/src/components/common/Editormd.vue","mtime":1622547147935},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy_c/go/src/awesomeProject3/web/admin/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCaWdJbWcgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9CaWdJbWcnCgp2YXIgJHMgPSByZXF1aXJlKCdzY3JpcHRqcycpCnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5JykKdmFyIGhsanMgPSByZXF1aXJlKCdoaWdobGlnaHQuanMnKQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFZGl0b3InLAogIHByb3BzOiB7CiAgICB3aWR0aDoge30sCiAgICBjb250ZW50OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJyMjI+WIneWni+WMluaIkOWKnycKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2VkaXRvcicKICAgIH0sCiAgICBrZXl3b3JkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdlZGl0b3ItbWQnCiAgICB9LAogICAgZWRpdG9yUGF0aDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdzdGF0aWMvZWRpdG9yLm1kJwogICAgfSwKICAgIGVkaXRvckNvbmZpZzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBwYXRoOiAnc3RhdGljL2VkaXRvci5tZC9saWIvJywKICAgICAgICAgIGhlaWdodDogMTAwMCwKICAgICAgICAgIHRhc2tMaXN0OiB0cnVlLAogICAgICAgICAgdGV4OiB0cnVlLCAvLyDpu5jorqTkuI3op6PmnpAKICAgICAgICAgIGZsb3dDaGFydDogdHJ1ZSwgLy8g6buY6K6k5LiN6Kej5p6QCiAgICAgICAgICBzZXF1ZW5jZURpYWdyYW06IHRydWUsIC8vIOm7mOiupOS4jeino+aekAogICAgICAgICAgc3luY1Njcm9sbGluZzogJ3NpbmdsZScsCiAgICAgICAgICBodG1sRGVjb2RlOiAnc3R5bGUsc2NyaXB0LGlmcmFtZXxmaWx0ZXJYU1MnLAogICAgICAgICAgaW1hZ2VVcGxvYWQ6IHRydWUsCiAgICAgICAgICBpbWFnZUZvcm1hdHM6IFsnanBnJywgJ2pwZWcnLCAnZ2lmJywgJ3BuZycsICdibXAnLCAnd2VicCcsICdKUEcnLCAnSlBFRycsICdHSUYnLCAnUE5HJywgJ0JNUCcsICdXRUJQJ10sCiAgICAgICAgICBpbWFnZVVwbG9hZFVSTDogdGhpcy5Eb2NDb25maWcuc2VydmVyICsgJy91cGxvYWQnLAogICAgICAgICAgb25sb2FkOiAoKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvbmxvYWQnKQogICAgICAgICAgfSwKICAgICAgICAgIHRvb2xiYXJJY29uczogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyBPciByZXR1cm4gZWRpdG9ybWQudG9vbGJhck1vZGVzW25hbWVdOyAvLyBmdWxsLCBzaW1wbGUsIG1pbmkKICAgICAgICAgICAgLy8gVXNpbmcgInx8IiBzZXQgaWNvbnMgYWxpZ24gcmlnaHQuCiAgICAgICAgICAgIHJldHVybiBbCiAgICAgICAgICAgICAgJ3VuZG8nLAogICAgICAgICAgICAgICdyZWRvJywKICAgICAgICAgICAgICAnfCcsCiAgICAgICAgICAgICAgJ2JvbGQnLAogICAgICAgICAgICAgICdkZWwnLAogICAgICAgICAgICAgICdpdGFsaWMnLAogICAgICAgICAgICAgICdxdW90ZScsCiAgICAgICAgICAgICAgJ3wnLAogICAgICAgICAgICAgICd0b2MnLAogICAgICAgICAgICAgICdtaW5kbWFwJywKICAgICAgICAgICAgICAnaDEnLAogICAgICAgICAgICAgICdoMicsCiAgICAgICAgICAgICAgJ2gzJywKICAgICAgICAgICAgICAnaDQnLAogICAgICAgICAgICAgICdoNScsCiAgICAgICAgICAgICAgJ2g2JywKICAgICAgICAgICAgICAnfCcsCiAgICAgICAgICAgICAgJ2xpc3QtdWwnLAogICAgICAgICAgICAgICdsaXN0LW9sJywKICAgICAgICAgICAgICAnaHInLAogICAgICAgICAgICAgICdjZW50ZXInLAogICAgICAgICAgICAgICd8JywKICAgICAgICAgICAgICAnbGluaycsCiAgICAgICAgICAgICAgJ3JlZmVyZW5jZS1saW5rJywKICAgICAgICAgICAgICAnaW1hZ2UnLAogICAgICAgICAgICAgICd2aWRlbycsCiAgICAgICAgICAgICAgJ2NvZGUnLAogICAgICAgICAgICAgICdjb2RlLWJsb2NrJywKICAgICAgICAgICAgICAndGFibGUnLAogICAgICAgICAgICAgICdkYXRldGltZScsCiAgICAgICAgICAgICAgJ2h0bWwtZW50aXRpZXMnLAogICAgICAgICAgICAgICdwYWdlYnJlYWsnLAogICAgICAgICAgICAgICd8JywKICAgICAgICAgICAgICAnd2F0Y2gnLAogICAgICAgICAgICAgICdwcmV2aWV3JywKICAgICAgICAgICAgICAnZnVsbHNjcmVlbicsCiAgICAgICAgICAgICAgJ2NsZWFyJywKICAgICAgICAgICAgICAnc2VhcmNoJywKICAgICAgICAgICAgICAnfCcsCiAgICAgICAgICAgICAgJ2hlbHAnLAogICAgICAgICAgICAgICdpbmZvJwogICAgICAgICAgICBdCiAgICAgICAgICB9LAogICAgICAgICAgdG9vbGJhckljb25zQ2xhc3M6IHsKICAgICAgICAgICAgdG9jOiAnZmEtYmFycyAnLCAvLyDmjIflrprkuIDkuKpGb250QWF3c29tZeeahOWbvuagh+exuwogICAgICAgICAgICBtaW5kbWFwOiAnZmEtc2l0ZW1hcCAnLCAvLyDmjIflrprkuIDkuKpGb250QWF3c29tZeeahOWbvuagh+exuwogICAgICAgICAgICB2aWRlbzogJ2ZhLWZpbGUtdmlkZW8tbycsCiAgICAgICAgICAgIGNlbnRlcjogJ2ZhLWFsaWduLWNlbnRlcicKICAgICAgICAgIH0sCiAgICAgICAgICAvLyDoh6rlrprkuYnlt6XlhbfmoI/mjInpkq7nmoTkuovku7blpITnkIYKICAgICAgICAgIHRvb2xiYXJIYW5kbGVyczogewogICAgICAgICAgICB0b2M6IGZ1bmN0aW9uIChjbSwgaWNvbiwgY3Vyc29yLCBzZWxlY3Rpb24pIHsKICAgICAgICAgICAgICBjbS5zZXRDdXJzb3IoMCwgMCkKICAgICAgICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKCdbVE9DXVxyXG5cclxuJykKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdmlkZW86IGZ1bmN0aW9uIChjbSwgaWNvbiwgY3Vyc29yLCBzZWxlY3Rpb24pIHsKICAgICAgICAgICAgICAvLyDmm7/mjaLpgInkuK3mlofmnKzvvIzlpoLmnpzmsqHmnInpgInkuK3mlofmnKzvvIzliJnnm7TmjqXmj5LlhaUKICAgICAgICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKAogICAgICAgICAgICAgICAgJ1xyXG48dmlkZW8gc3JjPSJodHRwOi8veW91ci1zaXRlLmNvbS95b3VyLm1wNCIgc3R5bGU9IndpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IiBjb250cm9scz0iY29udHJvbHMiPjwvdmlkZW8+XHJcbicKICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgLy8g5aaC5p6c5b2T5YmN5rKh5pyJ6YCJ5Lit55qE5paH5pys77yM5bCG5YWJ5qCH56e75Yiw6KaB6L6T5YWl55qE5L2N572uCiAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiA9PT0gJycpIHsKICAgICAgICAgICAgICAgIGNtLnNldEN1cnNvcihjdXJzb3IubGluZSwgY3Vyc29yLmNoICsgMSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1pbmRtYXA6IGZ1bmN0aW9uIChjbSwgaWNvbiwgY3Vyc29yLCBzZWxlY3Rpb24pIHsKICAgICAgICAgICAgICAvLyDmm7/mjaLpgInkuK3mlofmnKzvvIzlpoLmnpzmsqHmnInpgInkuK3mlofmnKzvvIzliJnnm7TmjqXmj5LlhaUKICAgICAgICAgICAgICB2YXIgdGV4dCA9IGAKXGBcYFxgbWluZG1hcAojIOS4gOe6pwojIyDkuoznuqfliIbmlK8xCiMjIyDkuInnuqfliIbmlK8xCiMjIyDkuInnuqfliIbmlK8yCiMjIOS6jOe6p+WIhuaUrzIKIyMjIOS4iee6p+WIhuaUrzMKIyMjIOS4iee6p+WIhuaUrzQKXGBcYFxgCmAKICAgICAgICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKHRleHQpCiAgICAgICAgICAgICAgLy8g5aaC5p6c5b2T5YmN5rKh5pyJ6YCJ5Lit55qE5paH5pys77yM5bCG5YWJ5qCH56e75Yiw6KaB6L6T5YWl55qE5L2N572uCiAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiA9PT0gJycpIHsKICAgICAgICAgICAgICAgIGNtLnNldEN1cnNvcihjdXJzb3IubGluZSwgY3Vyc29yLmNoICsgMSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24gKGNtLCBpY29uLCBjdXJzb3IsIHNlbGVjdGlvbikgewogICAgICAgICAgICAgIC8vIOabv+aNoumAieS4reaWh+acrO+8jOWmguaenOayoeaciemAieS4reaWh+acrO+8jOWImeebtOaOpeaPkuWFpQogICAgICAgICAgICAgIGNtLnJlcGxhY2VTZWxlY3Rpb24oJzxjZW50ZXI+JyArIHNlbGVjdGlvbiArICc8L2NlbnRlcj4nKQogICAgICAgICAgICAgIC8vIOWmguaenOW9k+WJjeayoeaciemAieS4reeahOaWh+acrO+8jOWwhuWFieagh+enu+WIsOimgei+k+WFpeeahOS9jee9rgogICAgICAgICAgICAgIGlmIChzZWxlY3Rpb24gPT09ICcnKSB7CiAgICAgICAgICAgICAgICBjbS5zZXRDdXJzb3IoY3Vyc29yLmxpbmUsIGN1cnNvci5jaCArIDEpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgbGFuZzogewogICAgICAgICAgICB0b29sYmFyOiB7CiAgICAgICAgICAgICAgdG9jOiAn5Zyo5pyA5byA5aS05o+S5YWlVE9D77yM6Ieq5Yqo55Sf5oiQ5qCH6aKY55uu5b2VJywKICAgICAgICAgICAgICBtaW5kbWFwOiAn5o+S5YWl5oCd57u05a+85Zu+JywKICAgICAgICAgICAgICB2aWRlbzogJ+aPkuWFpeinhumikScsCiAgICAgICAgICAgICAgY2VudGVyOiAn5bGF5LitJwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgb25jaGFuZ2U6ICgpID0+IHsKICAgICAgICAgICAgdGhpcy5kZWFsX3dpdGhfY29udGVudCgpCiAgICAgICAgICB9LAogICAgICAgICAgcHJldmlld0NvZGVIaWdobGlnaHQ6IGZhbHNlIC8vIOWFs+mXree8lui+kem7mOiupOeahOS7o+eggemrmOS6ruaooeWdl+OAgueUqOWFtuS7luaPkuS7tuWunueOsOmrmOS6rgogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgQmlnSW1nCiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGluc3RhbmNlOiBudWxsLAogICAgICBzaG93SW1nOiBmYWxzZSwKICAgICAgaW1nU3JjOiAnJwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICB9LAogIG1vdW50ZWQgKCkgewogICAgLy8g5Yqg6L295L6d6LWWIiIKICAgICRzKFtgJHt0aGlzLmVkaXRvclBhdGh9Ly4uL2pxdWVyeS5taW4uanNgLAogICAgICBgJHt0aGlzLmVkaXRvclBhdGh9L2xpYi9yYXBoYWVsLm1pbi5qc2AsCiAgICAgIGAke3RoaXMuZWRpdG9yUGF0aH0vbGliL2Zsb3djaGFydC5taW4uanNgLAogICAgICBgJHt0aGlzLmVkaXRvclBhdGh9L2xpYi9kM0A1Lm1pbi5qc2AKICAgIF0sICgpID0+IHsKICAgICAgJHMoWwogICAgICAgIGAke3RoaXMuZWRpdG9yUGF0aH0vLi4veHNzLm1pbi5qc2AsCiAgICAgICAgYCR7dGhpcy5lZGl0b3JQYXRofS9saWIvbWFya2VkLm1pbi5qc2AsCiAgICAgICAgYCR7dGhpcy5lZGl0b3JQYXRofS9saWIvcHJldHRpZnkubWluLmpzYCwKICAgICAgICBgJHt0aGlzLmVkaXRvclBhdGh9L2xpYi91bmRlcnNjb3JlLm1pbi5qc2AsCiAgICAgICAgYCR7dGhpcy5lZGl0b3JQYXRofS9saWIvc2VxdWVuY2UtZGlhZ3JhbS5taW4uanNgLAogICAgICAgIGAke3RoaXMuZWRpdG9yUGF0aH0vbGliL2pxdWVyeS5mbG93Y2hhcnQubWluLmpzYCwKICAgICAgICBgJHt0aGlzLmVkaXRvclBhdGh9L2xpYi9qcXVlcnkubWFyay5taW4uanNgLAogICAgICAgIGAke3RoaXMuZWRpdG9yUGF0aH0vbGliL3BsYW50dW1sLmpzP3Y9MmAsCiAgICAgICAgYCR7dGhpcy5lZGl0b3JQYXRofS9saWIvdmlldy5taW4uanNgLAogICAgICAgIGAke3RoaXMuZWRpdG9yUGF0aH0vbGliL3RyYW5zZm9ybS5taW4uanNgCiAgICAgIF0sICgpID0+IHsKICAgICAgICAkcyhgJHt0aGlzLmVkaXRvclBhdGh9L2VkaXRvcm1kLmpzYCwgKCkgPT4gewogICAgICAgICAgdGhpcy5pbml0RWRpdG9yKCkKICAgICAgICB9KQogICAgICB9KQogICAgfSkKICB9LAogIGJlZm9yZURlc3Ryb3kgKCkgewogICAgLy8g5riF55CG5omA5pyJ5a6a5pe25ZmoCiAgICBmb3IgKHZhciBpID0gMTsgaSA8IDk5OTsgaSsrKSB7CiAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKGkpCiAgICB9CiAgICAvLyB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgZSA9PiB0aGlzLmJlZm9yZXVubG9hZEhhbmRsZXIoZSkpCiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0RWRpdG9yICgpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soKGVkaXRvck1EID0gd2luZG93LmVkaXRvcm1kKSA9PiB7CiAgICAgICAgaWYgKGVkaXRvck1EKSB7CiAgICAgICAgICBpZiAodGhpcy50eXBlID09PSAnZWRpdG9yJykgewogICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gZWRpdG9yTUQodGhpcy5pZCwgdGhpcy5lZGl0b3JDb25maWcpCiAgICAgICAgICAgIC8vIOiNieeovwogICAgICAgICAgICAvLyB0aGlzLmRyYWZ0KCkKICAgICAgICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGUgPT4gdGhpcy5iZWZvcmV1bmxvYWRIYW5kbGVyKGUpKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBlZGl0b3JNRC5tYXJrZG93blRvSFRNTCh0aGlzLmlkLCB0aGlzLmVkaXRvckNvbmZpZykKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZGVhbF93aXRoX2NvbnRlbnQoKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvLyDmj5LlhaXmlbDmja7liLDnvJbovpHlmajkuK3jgILmj5LlhaXliLDlhYnmoIflpIQKICAgIGluc2VydFZhbHVlIChpbnNlcnRDb250ZW50KSB7CiAgICAgIHRoaXMuaW5zdGFuY2UuaW5zZXJ0VmFsdWUodGhpcy5odG1sX2RlY29kZShpbnNlcnRDb250ZW50KSkKICAgIH0sCiAgICBnZXRNYXJrZG93biAoKSB7CiAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlLmdldE1hcmtkb3duKCkKICAgIH0sCiAgICBlZGl0b3JfdW53YXRjaCAoKSB7CiAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlLnVud2F0Y2goKQogICAgfSwKICAgIGVkaXRvcl93YXRjaCAoKSB7CiAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlLndhdGNoKCkKICAgIH0sCiAgICBjbGVhciAoKSB7CiAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlLmNsZWFyKCkKICAgIH0sCiAgICAvLyDojYnnqL8KICAgIGRyYWZ0ICgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzCiAgICAgIC8vIOWumuaXtuS/neWtmOaWh+acrOWGheWuueWIsGxvY2FsU3RvcmFnZQogICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnBhZ2VfY29udGVudCA9IHRoYXQuZ2V0TWFya2Rvd24oKQogICAgICB9LCA2MDAwMCkKICAgICAgLy8g5qOA5rWL5piv5ZCm5pyJ5a6a5pe25L+d5a2Y55qE5YaF5a65CiAgICAgIHZhciBwYWdlX2NvbnRlbnQgPSBsb2NhbFN0b3JhZ2UucGFnZV9jb250ZW50CiAgICAgIGlmIChwYWdlX2NvbnRlbnQgJiYgcGFnZV9jb250ZW50Lmxlbmd0aCA+IDApIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGFnZV9jb250ZW50JykKICAgICAgICB0aGF0LiRjb25maXJtKHRoYXQuJHQoJ2RyYWZ0X3RpcHMnKQogICAgICAgICkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGF0LmNsZWFyKCkKICAgICAgICAgIHRoYXQuaW5zZXJ0VmFsdWUocGFnZV9jb250ZW50KQogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3BhZ2VfY29udGVudCcpCiAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwYWdlX2NvbnRlbnQnKQogICAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIC8vIOWFs+mXreWJjeaPkOekugogICAgYmVmb3JldW5sb2FkSGFuZGxlciAoZSkgewogICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQKICAgICAgLy8g5YW85a65SUU45ZKMRmlyZWZveCA05LmL5YmN55qE54mI5pysCiAgICAgIGlmIChlKSB7CiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9ICfmj5DnpLonCiAgICAgIH0KICAgICAgLy8gQ2hyb21lLCBTYWZhcmksIEZpcmVmb3ggNCssIE9wZXJhIDEyKyAsIElFIDkrCiAgICAgIHJldHVybiAn5o+Q56S6JwogICAgfSwKICAgIC8vIOWvueWGheWuueWBmuS6m+WumuWItuWMluaUuemAoAogICAgZGVhbF93aXRoX2NvbnRlbnQgKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXMKICAgICAgJHMoYCR7dGhpcy5lZGl0b3JQYXRofS8uLi9oaWdobGlnaHQvaGlnaGxpZ2h0Lm1pbi5qc2AsICgpID0+IHsKICAgICAgICBobGpzLmhpZ2hsaWdodEFsbCgpCiAgICAgIH0pCiAgICAgIC8vIOW9k+ihqOagvOWIl+aVsOi/h+mVv+aXtuWwhuiHquWKqOWHuueOsOa7muWKqOadoQogICAgICAkLmVhY2goJCgnIycgKyB0aGlzLmlkICsgJ3RhYmxlJyksIGZ1bmN0aW9uICgpIHsKICAgICAgICAkKHRoaXMpLnByb3AoJ291dGVySFRNTCcsICc8ZGl2IHN0eWxlPSJ3aWR0aDogMTAwJTtvdmVyZmxvdy14OiBhdXRvOyI+JyArICQodGhpcykucHJvcCgnb3V0ZXJIVE1MJykgKyAnPC9kaXY+JykKICAgICAgfSkKICAgICAgLy8g6LaF6ZO+5o6l6YO95Zyo5paw56qX5Y+j5omT5byACiAgICAgICQoJyMnICsgdGhpcy5pZCArICcgYVtocmVmXj0iaHR0cCJdJykuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB1cmwgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKQogICAgICAgIHZhciBvYmogPSB0aGF0LnBhcnNlVVJMKHVybCkKICAgICAgICBpZiAoCiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09IG9iai5ob3N0bmFtZSAmJgogICAgICAgICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSBvYmoucGF0aG5hbWUKICAgICAgICApIHsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsCiAgICAgICAgICBpZiAob2JqLmhhc2gpIHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdpbmRvdy5vcGVuKHVybCkKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0pCiAgICAgIC8vIOWvueihqOagvOi/m+ihjOS4gOS6m+aUuemAoAogICAgICAkKCcjJyArIHRoaXMuaWQgKyAnIHRhYmxlIHRib2R5IHRyJykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHRyX3RoaXMgPSAkKHRoaXMpCiAgICAgICAgdmFyIHRkMSA9IHRyX3RoaXMKICAgICAgICAgIC5maW5kKCd0ZCcpCiAgICAgICAgICAuZXEoMSkKICAgICAgICAgIC5odG1sKCkKICAgICAgICB2YXIgdGQyID0gdHJfdGhpcwogICAgICAgICAgLmZpbmQoJ3RkJykKICAgICAgICAgIC5lcSgyKQogICAgICAgICAgLmh0bWwoKQogICAgICAgIGlmICgKICAgICAgICAgIHRkMSA9PT0gJ29iamVjdCcgfHwKICAgICAgICAgIHRkMSA9PT0gJ2FycmF5W29iamVjdF0nIHx8CiAgICAgICAgICB0ZDIgPT09ICdvYmplY3QnIHx8CiAgICAgICAgICB0ZDIgPT09ICdhcnJheVtvYmplY3RdJwogICAgICAgICkgewogICAgICAgICAgdHJfdGhpcy5jc3MoeyAnYmFja2dyb3VuZC1jb2xvcic6ICcjRjhGOEY4JyB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0cl90aGlzLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcjZmZmJykKICAgICAgICB9CiAgICAgICAgLy8g6K6+572u6KGo5qC8aG92ZXIKICAgICAgICB0cl90aGlzLmhvdmVyKAogICAgICAgICAgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0cl90aGlzLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcjRjhGOEY4JykKICAgICAgICAgIH0sCiAgICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICB0ZDEgPT09ICdvYmplY3QnIHx8CiAgICAgICAgICAgICAgdGQxID09PSAnYXJyYXlbb2JqZWN0XScgfHwKICAgICAgICAgICAgICB0ZDIgPT09ICdvYmplY3QnIHx8CiAgICAgICAgICAgICAgdGQyID09PSAnYXJyYXlbb2JqZWN0XScKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdHJfdGhpcy5jc3MoeyAnYmFja2dyb3VuZC1jb2xvcic6ICcjRjhGOEY4JyB9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRyX3RoaXMuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNmZmYnKQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgKQogICAgICB9KQogICAgICAvLyDojrflj5blhoXlrrnmgLvplb/luqYKICAgICAgdmFyIGNvbnRlbnRXaWR0aCA9ICQoJyMnICsgdGhpcy5pZCArICcgcCcpLndpZHRoKCkKICAgICAgY29udGVudFdpZHRoID0gY29udGVudFdpZHRoIHx8IDcyMgogICAgICAvLyDooajmoLzliJcg55qE5a695bqmCiAgICAgICQoJyMnICsgdGhpcy5pZCArICcgdGFibGUnKS5lYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgdmFyICR2ID0gJCh0aGlzKS5nZXQoMCkgLy8g5Y6f55SfZG9t5a+56LGhCiAgICAgICAgdmFyIG51bSA9ICR2LnJvd3MuaXRlbSgwKS5jZWxscy5sZW5ndGggLy8g6KGo5qC855qE5YiX5pWwCiAgICAgICAgdmFyIGNvbFdpZHRoID0gTWF0aC5mbG9vcihjb250ZW50V2lkdGggLyBudW0pIC0gMgogICAgICAgIGlmIChudW0gPD0gNSkgewogICAgICAgICAgJCh0aGlzKQogICAgICAgICAgICAuZmluZCgndGgnKQogICAgICAgICAgICAuY3NzKCd3aWR0aCcsIGNvbFdpZHRoLnRvU3RyaW5nKCkgKyAncHgnKQogICAgICAgIH0KICAgICAgfSkKICAgICAgLy8g5Zu+54mH54K55Ye75pS+5aSnCiAgICAgICQoJyMnICsgdGhpcy5pZCArICcgaW1nJykuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBpbWdfdXJsID0gJCh0aGlzKS5hdHRyKCdzcmMnKQogICAgICAgIHRoYXQuc2hvd0ltZyA9IHRydWUKICAgICAgICB0aGF0LmltZ1NyYyA9IGltZ191cmwKICAgICAgfSkKICAgICAgLy8g6KGo5qC85aS06aKc6ImyCiAgICAgICQoJyMnICsgdGhpcy5pZCArICcgdGFibGUgdGhlYWQgdHInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnIzQwOWVmZicpCiAgICAgICQoJyMnICsgdGhpcy5pZCArICcgdGFibGUgdGhlYWQgdHInKS5jc3MoJ2NvbG9yJywgJyNmZmYnKQogICAgICAvLyDku6PnoIHlnZfnvo7ljJYKICAgICAgJCgnLm1hcmtkb3duLWJvZHkgcHJlJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNmY2ZjZmMnKQogICAgICAkKCcubWFya2Rvd24tYm9keSBwcmUnKS5jc3MoJ2JvcmRlcicsICcxcHggc29saWQgI2UxZTFlOCcpCgogICAgICAvLyDpq5jkuq7lhbPplK7lrZcKICAgICAgaWYgKHRoaXMua2V5d29yZCkgJCgnIycgKyB0aGlzLmlkKS5tYXJrKHRoaXMua2V5d29yZCkKICAgIH0sCiAgICAvLyDovazkuYkKICAgIGh0bWxfZGVjb2RlIChzdHIpIHsKICAgICAgdmFyIHMgPSAnJwogICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnCiAgICAgIHMgPSBzdHIucmVwbGFjZSgvJmFtcDsvZywgJyYnKQogICAgICBzID0gcy5yZXBsYWNlKC8mbHQ7L2csICc8JykKICAgICAgcyA9IHMucmVwbGFjZSgvJmd0Oy9nLCAnPicpCiAgICAgIHMgPSBzLnJlcGxhY2UoLyZuYnNwOy9nLCAnICcpCiAgICAgIHMgPSBzLnJlcGxhY2UoLyYjMzk7L2csICInIikKICAgICAgcyA9IHMucmVwbGFjZSgvJnF1b3Q7L2csICciJykKICAgICAgLy8gcyA9IHMucmVwbGFjZSgvPGJyPi9nLCAnXG4nKQogICAgICByZXR1cm4gcwogICAgfSwKICAgIHBhcnNlVVJMICh1cmwpIHsKICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykKICAgICAgYS5ocmVmID0gdXJsCiAgICAgIC8vIHZhciBhID0gbmV3IFVSTCh1cmwpOwogICAgICByZXR1cm4gewogICAgICAgIHNvdXJjZTogdXJsLAogICAgICAgIHByb3RvY29sOiBhLnByb3RvY29sLnJlcGxhY2UoJzonLCAnJyksCiAgICAgICAgaG9zdDogYS5ob3N0bmFtZSwKICAgICAgICBob3N0bmFtZTogYS5ob3N0bmFtZSwKICAgICAgICBwb3J0OiBhLnBvcnQsCiAgICAgICAgcXVlcnk6IGEuc2VhcmNoLAogICAgICAgIHBhcmFtczogKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvbmUtdmFyCiAgICAgICAgICB2YXIgcGFyYW1zID0ge30sCiAgICAgICAgICAgIHNlZyA9IGEuc2VhcmNoLnJlcGxhY2UoL15cPy8sICcnKS5zcGxpdCgnJicpLAogICAgICAgICAgICBsZW4gPSBzZWcubGVuZ3RoLAogICAgICAgICAgICBwCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIGlmIChzZWdbaV0pIHsKICAgICAgICAgICAgICBwID0gc2VnW2ldLnNwbGl0KCc9JykKICAgICAgICAgICAgICBwYXJhbXNbcFswXV0gPSBwWzFdCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBwYXJhbXMKICAgICAgICB9KSgpLAogICAgICAgIGhhc2g6IGEuaGFzaC5yZXBsYWNlKCcjJywgJycpLAogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZQogICAgICAgIHBhdGg6IGEucGF0aG5hbWUucmVwbGFjZSgvXihbXlwvXSkvLCAnLyQxJyksCiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlCiAgICAgICAgcGF0aG5hbWU6IGEucGF0aG5hbWUucmVwbGFjZSgvXihbXlwvXSkvLCAnLyQxJykKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Editormd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Editormd.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n  <div :id=\"id\" class=\"main-editor\">\n    <textarea v-html=\"content\" style=\"display:none;\"></textarea>\n        <!-- 放大图片 -->\n        <BigImg v-if=\"showImg\" @clickit=\"showImg = false\" :imgSrc=\"imgSrc\"></BigImg>\n  </div>\n</template>\n<style src=\"@/../static/editor.md/css/editormd.min.css\"></style>\n<style src=\"@/../static/highlight/a11y-light.min.css\"></style>\n<style>\n.editormd-preview-container {\n  min-height: 60%;\n}\n.markdown-body h1 {\n  font-size: 1.8em !important;\n}\n.markdown-body h2 {\n  font-size: 1.5em !important;\n}\n.markdown-body h3 {\n  font-size: 1.25em !important;\n}\n.markdown-body h4 {\n  font-size: 1.1em !important;\n}\n.markdown-body code {\n  color: #d14;\n}\n.markdown-body pre code {\n  color: #333;\n}\n</style>\n<script>\nimport BigImg from '@/components/common/BigImg'\n\nvar $s = require('scriptjs')\nvar $ = require('jquery')\nvar hljs = require('highlight.js')\n\nexport default {\n  name: 'Editor',\n  props: {\n    width: {},\n    content: {\n      type: String,\n      default: '###初始化成功'\n    },\n    type: {\n      type: String,\n      default: 'editor'\n    },\n    keyword: {\n      type: String,\n      default: ''\n    },\n    id: {\n      type: String,\n      default: 'editor-md'\n    },\n    editorPath: {\n      type: String,\n      default: 'static/editor.md'\n    },\n    editorConfig: {\n      type: Object,\n      default () {\n        return {\n          path: 'static/editor.md/lib/',\n          height: 1000,\n          taskList: true,\n          tex: true, // 默认不解析\n          flowChart: true, // 默认不解析\n          sequenceDiagram: true, // 默认不解析\n          syncScrolling: 'single',\n          htmlDecode: 'style,script,iframe|filterXSS',\n          imageUpload: true,\n          imageFormats: ['jpg', 'jpeg', 'gif', 'png', 'bmp', 'webp', 'JPG', 'JPEG', 'GIF', 'PNG', 'BMP', 'WEBP'],\n          imageUploadURL: this.DocConfig.server + '/upload',\n          onload: () => {\n            console.log('onload')\n          },\n          toolbarIcons: function () {\n            // Or return editormd.toolbarModes[name]; // full, simple, mini\n            // Using \"||\" set icons align right.\n            return [\n              'undo',\n              'redo',\n              '|',\n              'bold',\n              'del',\n              'italic',\n              'quote',\n              '|',\n              'toc',\n              'mindmap',\n              'h1',\n              'h2',\n              'h3',\n              'h4',\n              'h5',\n              'h6',\n              '|',\n              'list-ul',\n              'list-ol',\n              'hr',\n              'center',\n              '|',\n              'link',\n              'reference-link',\n              'image',\n              'video',\n              'code',\n              'code-block',\n              'table',\n              'datetime',\n              'html-entities',\n              'pagebreak',\n              '|',\n              'watch',\n              'preview',\n              'fullscreen',\n              'clear',\n              'search',\n              '|',\n              'help',\n              'info'\n            ]\n          },\n          toolbarIconsClass: {\n            toc: 'fa-bars ', // 指定一个FontAawsome的图标类\n            mindmap: 'fa-sitemap ', // 指定一个FontAawsome的图标类\n            video: 'fa-file-video-o',\n            center: 'fa-align-center'\n          },\n          // 自定义工具栏按钮的事件处理\n          toolbarHandlers: {\n            toc: function (cm, icon, cursor, selection) {\n              cm.setCursor(0, 0)\n              cm.replaceSelection('[TOC]\\r\\n\\r\\n')\n            },\n            video: function (cm, icon, cursor, selection) {\n              // 替换选中文本，如果没有选中文本，则直接插入\n              cm.replaceSelection(\n                '\\r\\n<video src=\"http://your-site.com/your.mp4\" style=\"width: 100%; height: 100%;\" controls=\"controls\"></video>\\r\\n'\n              )\n              // 如果当前没有选中的文本，将光标移到要输入的位置\n              if (selection === '') {\n                cm.setCursor(cursor.line, cursor.ch + 1)\n              }\n            },\n            mindmap: function (cm, icon, cursor, selection) {\n              // 替换选中文本，如果没有选中文本，则直接插入\n              var text = `\n\\`\\`\\`mindmap\n# 一级\n## 二级分支1\n### 三级分支1\n### 三级分支2\n## 二级分支2\n### 三级分支3\n### 三级分支4\n\\`\\`\\`\n`\n              cm.replaceSelection(text)\n              // 如果当前没有选中的文本，将光标移到要输入的位置\n              if (selection === '') {\n                cm.setCursor(cursor.line, cursor.ch + 1)\n              }\n            },\n            center: function (cm, icon, cursor, selection) {\n              // 替换选中文本，如果没有选中文本，则直接插入\n              cm.replaceSelection('<center>' + selection + '</center>')\n              // 如果当前没有选中的文本，将光标移到要输入的位置\n              if (selection === '') {\n                cm.setCursor(cursor.line, cursor.ch + 1)\n              }\n            }\n          },\n          lang: {\n            toolbar: {\n              toc: '在最开头插入TOC，自动生成标题目录',\n              mindmap: '插入思维导图',\n              video: '插入视频',\n              center: '居中'\n            }\n          },\n          onchange: () => {\n            this.deal_with_content()\n          },\n          previewCodeHighlight: false // 关闭编辑默认的代码高亮模块。用其他插件实现高亮\n        }\n      }\n    }\n  },\n  components: {\n    BigImg\n  },\n  data () {\n    return {\n      instance: null,\n      showImg: false,\n      imgSrc: ''\n    }\n  },\n  computed: {\n  },\n  mounted () {\n    // 加载依赖\"\"\n    $s([`${this.editorPath}/../jquery.min.js`,\n      `${this.editorPath}/lib/raphael.min.js`,\n      `${this.editorPath}/lib/flowchart.min.js`,\n      `${this.editorPath}/lib/d3@5.min.js`\n    ], () => {\n      $s([\n        `${this.editorPath}/../xss.min.js`,\n        `${this.editorPath}/lib/marked.min.js`,\n        `${this.editorPath}/lib/prettify.min.js`,\n        `${this.editorPath}/lib/underscore.min.js`,\n        `${this.editorPath}/lib/sequence-diagram.min.js`,\n        `${this.editorPath}/lib/jquery.flowchart.min.js`,\n        `${this.editorPath}/lib/jquery.mark.min.js`,\n        `${this.editorPath}/lib/plantuml.js?v=2`,\n        `${this.editorPath}/lib/view.min.js`,\n        `${this.editorPath}/lib/transform.min.js`\n      ], () => {\n        $s(`${this.editorPath}/editormd.js`, () => {\n          this.initEditor()\n        })\n      })\n    })\n  },\n  beforeDestroy () {\n    // 清理所有定时器\n    for (var i = 1; i < 999; i++) {\n      window.clearInterval(i)\n    }\n    // window.removeEventListener('beforeunload', e => this.beforeunloadHandler(e))\n  },\n  methods: {\n    initEditor () {\n      this.$nextTick((editorMD = window.editormd) => {\n        if (editorMD) {\n          if (this.type === 'editor') {\n            this.instance = editorMD(this.id, this.editorConfig)\n            // 草稿\n            // this.draft()\n            // window.addEventListener('beforeunload', e => this.beforeunloadHandler(e));\n          } else {\n            this.instance = editorMD.markdownToHTML(this.id, this.editorConfig)\n          }\n          this.deal_with_content()\n        }\n      })\n    },\n    // 插入数据到编辑器中。插入到光标处\n    insertValue (insertContent) {\n      this.instance.insertValue(this.html_decode(insertContent))\n    },\n    getMarkdown () {\n      return this.instance.getMarkdown()\n    },\n    editor_unwatch () {\n      return this.instance.unwatch()\n    },\n    editor_watch () {\n      return this.instance.watch()\n    },\n    clear () {\n      return this.instance.clear()\n    },\n    // 草稿\n    draft () {\n      var that = this\n      // 定时保存文本内容到localStorage\n      setInterval(() => {\n        localStorage.page_content = that.getMarkdown()\n      }, 60000)\n      // 检测是否有定时保存的内容\n      var page_content = localStorage.page_content\n      if (page_content && page_content.length > 0) {\n        localStorage.removeItem('page_content')\n        that.$confirm(that.$t('draft_tips')\n        ).then(() => {\n          that.clear()\n          that.insertValue(page_content)\n          localStorage.removeItem('page_content')\n        })\n          .catch(() => {\n            localStorage.removeItem('page_content')\n          })\n      }\n    },\n    // 关闭前提示\n    beforeunloadHandler (e) {\n      e = e || window.event\n      // 兼容IE8和Firefox 4之前的版本\n      if (e) {\n        e.returnValue = '提示'\n      }\n      // Chrome, Safari, Firefox 4+, Opera 12+ , IE 9+\n      return '提示'\n    },\n    // 对内容做些定制化改造\n    deal_with_content () {\n      var that = this\n      $s(`${this.editorPath}/../highlight/highlight.min.js`, () => {\n        hljs.highlightAll()\n      })\n      // 当表格列数过长时将自动出现滚动条\n      $.each($('#' + this.id + 'table'), function () {\n        $(this).prop('outerHTML', '<div style=\"width: 100%;overflow-x: auto;\">' + $(this).prop('outerHTML') + '</div>')\n      })\n      // 超链接都在新窗口打开\n      $('#' + this.id + ' a[href^=\"http\"]').click(function () {\n        var url = $(this).attr('href')\n        var obj = that.parseURL(url)\n        if (\n          window.location.hostname === obj.hostname &&\n          window.location.pathname === obj.pathname\n        ) {\n          window.location.href = url\n          if (obj.hash) {\n            window.location.reload()\n          }\n        } else {\n          window.open(url)\n        }\n        return false\n      })\n      // 对表格进行一些改造\n      $('#' + this.id + ' table tbody tr').each(function () {\n        var tr_this = $(this)\n        var td1 = tr_this\n          .find('td')\n          .eq(1)\n          .html()\n        var td2 = tr_this\n          .find('td')\n          .eq(2)\n          .html()\n        if (\n          td1 === 'object' ||\n          td1 === 'array[object]' ||\n          td2 === 'object' ||\n          td2 === 'array[object]'\n        ) {\n          tr_this.css({ 'background-color': '#F8F8F8' })\n        } else {\n          tr_this.css('background-color', '#fff')\n        }\n        // 设置表格hover\n        tr_this.hover(\n          function () {\n            tr_this.css('background-color', '#F8F8F8')\n          },\n          function () {\n            if (\n              td1 === 'object' ||\n              td1 === 'array[object]' ||\n              td2 === 'object' ||\n              td2 === 'array[object]'\n            ) {\n              tr_this.css({ 'background-color': '#F8F8F8' })\n            } else {\n              tr_this.css('background-color', '#fff')\n            }\n          }\n        )\n      })\n      // 获取内容总长度\n      var contentWidth = $('#' + this.id + ' p').width()\n      contentWidth = contentWidth || 722\n      // 表格列 的宽度\n      $('#' + this.id + ' table').each(function (i) {\n        var $v = $(this).get(0) // 原生dom对象\n        var num = $v.rows.item(0).cells.length // 表格的列数\n        var colWidth = Math.floor(contentWidth / num) - 2\n        if (num <= 5) {\n          $(this)\n            .find('th')\n            .css('width', colWidth.toString() + 'px')\n        }\n      })\n      // 图片点击放大\n      $('#' + this.id + ' img').click(function () {\n        var img_url = $(this).attr('src')\n        that.showImg = true\n        that.imgSrc = img_url\n      })\n      // 表格头颜色\n      $('#' + this.id + ' table thead tr').css('background-color', '#409eff')\n      $('#' + this.id + ' table thead tr').css('color', '#fff')\n      // 代码块美化\n      $('.markdown-body pre').css('background-color', '#fcfcfc')\n      $('.markdown-body pre').css('border', '1px solid #e1e1e8')\n\n      // 高亮关键字\n      if (this.keyword) $('#' + this.id).mark(this.keyword)\n    },\n    // 转义\n    html_decode (str) {\n      var s = ''\n      if (str.length === 0) return ''\n      s = str.replace(/&amp;/g, '&')\n      s = s.replace(/&lt;/g, '<')\n      s = s.replace(/&gt;/g, '>')\n      s = s.replace(/&nbsp;/g, ' ')\n      s = s.replace(/&#39;/g, \"'\")\n      s = s.replace(/&quot;/g, '\"')\n      // s = s.replace(/<br>/g, '\\n')\n      return s\n    },\n    parseURL (url) {\n      var a = document.createElement('a')\n      a.href = url\n      // var a = new URL(url);\n      return {\n        source: url,\n        protocol: a.protocol.replace(':', ''),\n        host: a.hostname,\n        hostname: a.hostname,\n        port: a.port,\n        query: a.search,\n        params: (function () {\n          // eslint-disable-next-line one-var\n          var params = {},\n            seg = a.search.replace(/^\\?/, '').split('&'),\n            len = seg.length,\n            p\n          for (var i = 0; i < len; i++) {\n            if (seg[i]) {\n              p = seg[i].split('=')\n              params[p[0]] = p[1]\n            }\n          }\n          return params\n        })(),\n        hash: a.hash.replace('#', ''),\n        // eslint-disable-next-line no-useless-escape\n        path: a.pathname.replace(/^([^\\/])/, '/$1'),\n        // eslint-disable-next-line no-useless-escape\n        pathname: a.pathname.replace(/^([^\\/])/, '/$1')\n      }\n    }\n  }\n}\n</script>\n"]}]}